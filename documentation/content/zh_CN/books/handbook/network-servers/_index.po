# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR The FreeBSD Project
# This file is distributed under the same license as the FreeBSD Documentation package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
msgid ""
msgstr ""
"Project-Id-Version: FreeBSD Documentation VERSION\n"
"POT-Creation-Date: 2024-01-17 20:35-0300\n"
"PO-Revision-Date: 2021-06-12 18:24+0000\n"
"Last-Translator: Anonymous <noreply@weblate.org>\n"
"Language-Team: Chinese (Simplified) <https://translate-dev.freebsd.org/"
"projects/documentation/bookshandbooknetwork-servers_index/zh_CN/>\n"
"Language: zh_CN\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Plural-Forms: nplurals=1; plural=0;\n"
"X-Generator: Weblate 4.6.2\n"

#. type: YAML Front Matter: description
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1
#, no-wrap
msgid "This chapter covers some of the more frequently used network services on UNIX systems"
msgstr ""

#. type: YAML Front Matter: part
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1
#, no-wrap
msgid "IV. Network Communication"
msgstr ""

#. type: YAML Front Matter: title
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1
#, fuzzy, no-wrap
#| msgid "Network Servers"
msgid "Chapter 32. Network Servers"
msgstr "网络服务器"

#. type: Title =
#: documentation/content/en/books/handbook/network-servers/_index.adoc:14
#, no-wrap
msgid "Network Servers"
msgstr "网络服务器"

#. type: Title ==
#: documentation/content/en/books/handbook/network-servers/_index.adoc:52
#, no-wrap
msgid "Synopsis"
msgstr "简介"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:57
msgid ""
"This chapter covers some of the more frequently used network services on "
"UNIX(R) systems.  This includes installing, configuring, testing, and "
"maintaining many different types of network services.  Example configuration "
"files are included throughout this chapter for reference."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:59
msgid "By the end of this chapter, readers will know:"
msgstr "读完本章，您将了解："

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:61
msgid "How to manage the inetd daemon."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:62
msgid "How to set up the Network File System (NFS)."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:63
msgid ""
"How to set up the Network Information Server (NIS) for centralizing and "
"sharing user accounts."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:64
msgid "How to set FreeBSD up to act as an LDAP server or client"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:65
msgid "How to set up automatic network settings using DHCP."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:66
msgid "How to set up a Domain Name Server (DNS)."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:67
msgid "How to set up the Apache HTTP Server."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:68
msgid "How to set up a File Transfer Protocol (FTP) server."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:69
msgid ""
"How to set up a file and print server for Windows(R) clients using Samba."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:70
msgid ""
"How to synchronize the time and date, and set up a time server using the "
"Network Time Protocol (NTP)."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:71
msgid "How to set up iSCSI."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:73
msgid "This chapter assumes a basic knowledge of:"
msgstr "本章假设您有以下基础知识："

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:75
msgid "[.filename]#/etc/rc# scripts."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:76
msgid "Network terminology."
msgstr "网络术语。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:77
msgid ""
"Installation of additional third-party software (crossref:ports[ports,"
"Installing Applications: Packages and Ports])."
msgstr ""

#. type: Title ==
#: documentation/content/en/books/handbook/network-servers/_index.adoc:79
#, no-wrap
msgid "The inetd Super-Server"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:85
msgid ""
"The man:inetd[8] daemon is sometimes referred to as a Super-Server because "
"it manages connections for many services.  Instead of starting multiple "
"applications, only the inetd service needs to be started.  When a connection "
"is received for a service that is managed by inetd, it determines which "
"program the connection is destined for, spawns a process for that program, "
"and delegates the program a socket.  Using inetd for services that are not "
"heavily used can reduce system load, when compared to running each daemon "
"individually in stand-alone mode."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:87
msgid ""
"Primarily, inetd is used to spawn other daemons, but several trivial "
"protocols are handled internally, such as chargen, auth, time, echo, "
"discard, and daytime."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:89
msgid "This section covers the basics of configuring inetd."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/network-servers/_index.adoc:91
#, no-wrap
msgid "Configuration File"
msgstr "配置文件"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:97
msgid ""
"Configuration of inetd is done by editing [.filename]#/etc/inetd.conf#.  "
"Each line of this configuration file represents an application which can be "
"started by inetd.  By default, every line starts with a comment (`+#+`), "
"meaning that inetd is not listening for any applications.  To configure "
"inetd to listen for an application's connections, remove the `+#+` at the "
"beginning of the line for that application."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:99
msgid ""
"After saving your edits, configure inetd to start at system boot by editing "
"[.filename]#/etc/rc.conf#:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:103
#, fuzzy, no-wrap
msgid "inetd_enable=\"YES\"\n"
msgstr "inetd_enable=\"YES\"\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:106
msgid ""
"To start inetd now, so that it listens for the service you configured, type:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:110
#, no-wrap
msgid "# service inetd start\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:113
msgid ""
"Once inetd is started, it needs to be notified whenever a modification is "
"made to [.filename]#/etc/inetd.conf#:"
msgstr ""

#. type: Block title
#: documentation/content/en/books/handbook/network-servers/_index.adoc:115
#, no-wrap
msgid "Reloading the inetd Configuration File"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:122
#, no-wrap
msgid "# service inetd reload\n"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:128
msgid ""
"Typically, the default entry for an application does not need to be edited "
"beyond removing the `+#+`.  In some situations, it may be appropriate to "
"edit the default entry."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:130
msgid "As an example, this is the default entry for man:ftpd[8] over IPv4:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:134
#, fuzzy, no-wrap
msgid "ftp     stream  tcp     nowait  root    /usr/libexec/ftpd       ftpd -l\n"
msgstr "ftp     stream  tcp     nowait  root    /usr/libexec/ftpd       ftpd -l\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:137
msgid "The seven columns in an entry are as follows:"
msgstr "这七个参数的含义如下所述："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:147
#, fuzzy, no-wrap
msgid ""
"service-name\n"
"socket-type\n"
"protocol\n"
"{wait|nowait}[/max-child[/max-connections-per-ip-per-minute[/max-child-per-ip]]]\n"
"user[:group][/login-class]\n"
"server-program\n"
"server-program-arguments\n"
msgstr ""
"service-name\n"
"socket-type\n"
"protocol\n"
"{wait|nowait}[/max-child[/max-connections-per-ip-per-minute[/max-child-per-ip]]]\n"
"user[:group][/login-class]\n"
"server-program\n"
"server-program-arguments\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:150
msgid "where:"
msgstr "其中："

#. type: Labeled list
#: documentation/content/en/books/handbook/network-servers/_index.adoc:151
#, no-wrap
msgid "service-name"
msgstr "service-name"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:156
msgid ""
"The service name of the daemon to start.  It must correspond to a service "
"listed in [.filename]#/etc/services#.  This determines which port inetd "
"listens on for incoming connections to that service.  When using a custom "
"service, it must first be added to [.filename]#/etc/services#."
msgstr ""

#. type: Labeled list
#: documentation/content/en/books/handbook/network-servers/_index.adoc:157
#, no-wrap
msgid "socket-type"
msgstr "socket-type"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:160
msgid ""
"Either `stream`, `dgram`, `raw`, or `seqpacket`.  Use `stream` for TCP "
"connections and `dgram` for UDP services."
msgstr ""

#. type: Labeled list
#: documentation/content/en/books/handbook/network-servers/_index.adoc:161
#, no-wrap
msgid "protocol"
msgstr "protocol"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:163
msgid "Use one of the following protocol names:"
msgstr "使用以下协议名称之一："

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:168
#, fuzzy, no-wrap
#| msgid "protocol"
msgid "Protocol Name"
msgstr "protocol"

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:171
#, no-wrap
msgid "Explanation"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:172
#, no-wrap
msgid "tcp or tcp4"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:174
#, no-wrap
msgid "TCP IPv4"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:175
#, no-wrap
msgid "udp or udp4"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:177
#, no-wrap
msgid "UDP IPv4"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:178
#, no-wrap
msgid "tcp6"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:180
#, no-wrap
msgid "TCP IPv6"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:181
#, no-wrap
msgid "udp6"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:183
#, no-wrap
msgid "UDP IPv6"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:184
#, no-wrap
msgid "tcp46"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:186
#, no-wrap
msgid "Both TCP IPv4 and IPv6"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:187
#, no-wrap
msgid "udp46"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:188
#, no-wrap
msgid "Both UDP IPv4 and IPv6"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:193
msgid ""
"{wait|nowait}[/max-child[/max-connections-per-ip-per-minute[/max-child-per-"
"ip]]]:: In this field, `wait` or `nowait` must be specified.  `max-child`, "
"`max-connections-per-ip-per-minute` and `max-child-per-ip` are optional."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:197
msgid ""
"`wait|nowait` indicates whether or not the service is able to handle its own "
"socket.  `dgram` socket types must use `wait` while `stream` daemons, which "
"are usually multi-threaded, should use `nowait`.  `wait` usually hands off "
"multiple sockets to a single daemon, while `nowait` spawns a child daemon "
"for each new socket."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:201
msgid ""
"The maximum number of child daemons inetd may spawn is set by `max-child`.  "
"For example, to limit ten instances of the daemon, place a `/10` after "
"`nowait`.  Specifying `/0` allows an unlimited number of children."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:207
#, fuzzy
msgid ""
"`max-connections-per-ip-per-minute` limits the number of connections from "
"any particular IP address per minute.  Once the limit is reached, further "
"connections from this IP address will be dropped until the end of the "
"minute.  For example, a value of `/10` would limit any particular IP address "
"to ten connection attempts per minute.  `max-child-per-ip` limits the number "
"of child processes that can be started on behalf on any single IP address at "
"any moment.  These options can limit excessive resource consumption and help "
"to prevent Denial of Service attacks."
msgstr ""
"<option>max-connections-per-ip-minute</option>限制来自特定的<acronym>IP</"
"acronym>地址每分钟的连接数。一旦达到限制值，来自该IP地址的后续连接将被中断，"
"一分钟后恢复正常。例如，<literal>/10</literal>的值将限制特定的<acronym>IP</"
"acronym>地址每分钟的连接尝试次数为10次。<option>max-child-per-ip</option>限制"
"了在任何时刻代表任何单个<acronym>IP</acronym>地址启动的子进程数量。这些选项可"
"以限制过多的资源消耗，并有助于防止拒绝服务攻击。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:209
msgid "An example can be seen in the default settings for man:fingerd[8]:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:213
#, fuzzy, no-wrap
msgid "finger stream  tcp     nowait/3/10 nobody /usr/libexec/fingerd fingerd -k -s\n"
msgstr "finger stream  tcp     nowait/3/10 nobody /usr/libexec/fingerd fingerd -k -s\n"

#. type: Labeled list
#: documentation/content/en/books/handbook/network-servers/_index.adoc:215
#, no-wrap
msgid "user"
msgstr "user"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:218
msgid ""
"The username the daemon will run as.  Daemons typically run as `root`, "
"`daemon`, or `nobody`."
msgstr ""

#. type: Labeled list
#: documentation/content/en/books/handbook/network-servers/_index.adoc:219
#, no-wrap
msgid "server-program"
msgstr "server-program"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:222
msgid ""
"The full path to the daemon.  If the daemon is a service provided by inetd "
"internally, use `internal`."
msgstr ""

#. type: Labeled list
#: documentation/content/en/books/handbook/network-servers/_index.adoc:223
#, no-wrap
msgid "server-program-arguments"
msgstr "server-program-arguments"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:226
#, fuzzy
msgid ""
"Used to specify any command arguments to be passed to the daemon on "
"invocation.  If the daemon is an internal service, use `internal`."
msgstr ""
"用于指定调用时要传递给守护进程的任何命令参数。如果守护进程是内部服务，请使用"
"<option>internal</option>。"

#. type: Title ===
#: documentation/content/en/books/handbook/network-servers/_index.adoc:228
#, no-wrap
msgid "Command-Line Options"
msgstr "命令行选项"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:233
msgid ""
"Like most server daemons, inetd has a number of options that can be used to "
"modify its behavior.  By default, inetd is started with `-wW -C 60`.  These "
"options enable TCP wrappers for all services, including internal services, "
"and prevent any IP address from requesting any service more than 60 times "
"per minute."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:236
msgid ""
"To change the default options which are passed to inetd, add an entry for "
"`inetd_flags` in [.filename]#/etc/rc.conf#.  If inetd is already running, "
"restart it with `service inetd restart`."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:238
msgid "The available rate limiting options are:"
msgstr "可用的速率限制选项包括："

#. type: Labeled list
#: documentation/content/en/books/handbook/network-servers/_index.adoc:239
#, no-wrap
msgid "-c maximum"
msgstr "-c maximum"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:242
#, fuzzy
msgid ""
"Specify the default maximum number of simultaneous invocations of each "
"service, where the default is unlimited.  May be overridden on a per-service "
"basis by using `max-child` in [.filename]#/etc/inetd.conf#."
msgstr ""
"指定单个服务的最大并发访问数量，默认为不限。 也可以在此服务的具体配置里面通过"
"<option>max-child</option>改掉。"

#. type: Labeled list
#: documentation/content/en/books/handbook/network-servers/_index.adoc:243
#, no-wrap
msgid "-C rate"
msgstr "-C rate"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:246
#, fuzzy
msgid ""
"Specify the default maximum number of times a service can be invoked from a "
"single IP address per minute.  May be overridden on a per-service basis by "
"using `max-connections-per-ip-per-minute` in [.filename]#/etc/inetd.conf#."
msgstr ""
"指定单个服务的最大并发访问数量，默认为不限。 也可以在此服务的具体配置里面通过"
"<option>max-child</option>改掉。"

#. type: Labeled list
#: documentation/content/en/books/handbook/network-servers/_index.adoc:247
#, no-wrap
msgid "-R rate"
msgstr "-R rate"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:250
msgid ""
"Specify the maximum number of times a service can be invoked in one minute, "
"where the default is `256`.  A rate of `0` allows an unlimited number."
msgstr ""

#. type: Labeled list
#: documentation/content/en/books/handbook/network-servers/_index.adoc:251
#, no-wrap
msgid "-s maximum"
msgstr "-s maximum"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:254
#, fuzzy
msgid ""
"Specify the maximum number of times a service can be invoked from a single "
"IP address at any one time, where the default is unlimited.  May be "
"overridden on a per-service basis by using `max-child-per-ip` in [."
"filename]#/etc/inetd.conf#."
msgstr ""
"指定单个服务的最大并发访问数量，默认为不限。 也可以在此服务的具体配置里面通过"
"<option>max-child</option>改掉。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:256
msgid ""
"Additional options are available. Refer to man:inetd[8] for the full list of "
"options."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/network-servers/_index.adoc:258
#, no-wrap
msgid "Security Considerations"
msgstr "安全注意事项"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:264
msgid ""
"Many of the daemons which can be managed by inetd are not security-"
"conscious.  Some daemons, such as fingerd, can provide information that may "
"be useful to an attacker.  Only enable the services which are needed and "
"monitor the system for excessive connection attempts.  `max-connections-per-"
"ip-per-minute`, `max-child` and `max-child-per-ip` can be used to limit such "
"attacks."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:267
msgid ""
"By default, TCP wrappers are enabled.  Consult man:hosts_access[5] for more "
"information on placing TCP restrictions on various inetd invoked daemons."
msgstr ""

#. type: Title ==
#: documentation/content/en/books/handbook/network-servers/_index.adoc:269
#, no-wrap
msgid "Network File System (NFS)"
msgstr "网络文件系统（NFS）"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:273
#, fuzzy
msgid ""
"FreeBSD supports the Network File System (NFS), which allows a server to "
"share directories and files with clients over a network.  With NFS, users "
"and programs can access files on remote systems as if they were stored "
"locally."
msgstr ""
"FreeBSD 支持网络文件系统 （<acronym>NFS</acronym>），它允许服务器通过网络与客"
"户端共享目录和文件。使用<acronym>NFS</acronym>，用户和程序可以访问远程系统上"
"的文件，就像它们存储在本地一样。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:276
msgid "NFS has many practical uses.  Some of the more common uses include:"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:278
msgid ""
"Data that would otherwise be duplicated on each client can be kept in a "
"single location and accessed by clients on the network."
msgstr ""
"本地工作站使用更少的磁盘空间，因为通常的数据可以存放在一 台机器上而且可以通过"
"网络访问到。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:279
#, fuzzy
msgid ""
"Several clients may need access to the [.filename]#/usr/ports/distfiles# "
"directory. Sharing that directory allows for quick access to the source "
"files without having to download them to each client."
msgstr ""
"多个客户端可能需要访问<filename>/usr/ports/distfiles</filename>目录。共享该目"
"录可以直接访问源文件，而无需将其下载到每个客户端。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:280
#, fuzzy
msgid ""
"On large networks, it is often more convenient to configure a central NFS "
"server on which all user home directories are stored. Users can log into a "
"client anywhere on the network and have access to their home directories."
msgstr ""
"在大型网络上，配置存储所有用户主目录的中央<acronym>NFS</acronym>服务器通常更"
"方便。用户可以登录到网络上的任意位置的客户端，并可以访问其主目录。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:281
msgid ""
"Administration of NFS exports is simplified. For example, there is only one "
"file system where security or backup policies must be set."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:282
msgid ""
"Removable media storage devices can be used by other machines on the "
"network. This reduces the number of devices throughout the network and "
"provides a centralized location to manage their security. It is often more "
"convenient to install software on multiple machines from a centralized "
"installation media."
msgstr ""
"网络上的其他计算机可以使用可移动媒体存储设备。这减少了整个网络中的设备数量，"
"并提供了一个集中的位置来管理其安全性。从集中安装介质在多台计算机上安装软件通"
"常更方便。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:286
#, fuzzy
msgid ""
"NFS consists of a server and one or more clients.  The client remotely "
"accesses the data that is stored on the server machine.  In order for this "
"to function properly, a few processes have to be configured and running."
msgstr ""
"<acronym>NFS</acronym> 至少包括两个主要的部分： 一台服务器， 以及至少一台客户"
"机， 客户机远程地访问保存在服务器上的数据。 要让这一切运转起来， 需要配置并运"
"行几个程序。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:288
msgid "These daemons must be running on the server:"
msgstr "这些守护进程必须在服务器上运行："

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:293
#, no-wrap
msgid "Daemon"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:296
#: documentation/content/en/books/handbook/network-servers/_index.adoc:556
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1005
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1024
#, no-wrap
msgid "Description"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:297
#, no-wrap
msgid "nfsd"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:299
#, no-wrap
msgid "The NFS daemon which services requests from NFS clients."
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:300
#, no-wrap
msgid "mountd"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:302
#, no-wrap
msgid "The NFS mount daemon which carries out requests received from nfsd."
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:303
#, no-wrap
msgid "rpcbind"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:304
#, no-wrap
msgid "This daemon allows NFS clients to discover which port the NFS server is using."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:307
msgid ""
"Running man:nfsiod[8] on the client can improve performance, but is not "
"required."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/network-servers/_index.adoc:309
#, no-wrap
msgid "Configuring the Server"
msgstr "设定服务器"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:315
#, fuzzy
msgid ""
"The file systems which the NFS server will share are specified in [."
"filename]#/etc/exports#.  Each line in this file specifies a file system to "
"be exported, which clients have access to that file system, and any access "
"options.  When adding entries to this file, each exported file system, its "
"properties, and allowed hosts must occur on a single line.  If no clients "
"are listed in the entry, then any client on the network can mount that file "
"system."
msgstr ""
"<filename>/etc/exports</filename>中指定了<acronym>NFS</acronym>服务器需要共享"
"的文件系统。此文件中的每一行指定要共享的文件系统、客户端访问权限以及所有访问"
"选项。向此文件添加条目时，每个导出的文件系统、其属性和允许的主机必须出现在一"
"行上。如果条目中未列出任何客户端，则网络上的任何客户端都可以装载该文件系统。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:320
msgid ""
"The following [.filename]#/etc/exports# entries demonstrate how to export "
"file systems.  The examples can be modified to match the file systems and "
"client names on the reader's network.  There are many options that can be "
"used in this file, but only a few will be mentioned here.  See man:"
"exports[5] for the full list of options."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:322
msgid ""
"This example shows how to export [.filename]#/cdrom# to three hosts named "
"_alpha_, _bravo_, and _charlie_:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:326
#, no-wrap
msgid "/cdrom -ro alpha bravo charlie\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:331
msgid ""
"The `-ro` flag makes the file system read-only, preventing clients from "
"making any changes to the exported file system.  This example assumes that "
"the host names are either in DNS or in [.filename]#/etc/hosts#.  Refer to "
"man:hosts[5] if the network does not have a DNS server."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:336
msgid ""
"The next example exports [.filename]#/home# to three clients by IP address.  "
"This can be useful for networks without DNS or [.filename]#/etc/hosts# "
"entries.  The `-alldirs` flag allows subdirectories to be mount points.  In "
"other words, it will not automatically mount the subdirectories, but will "
"permit the client to mount the directories that are required as needed."
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:340
#, fuzzy, no-wrap
msgid "/usr/home  -alldirs  10.0.0.2 10.0.0.3 10.0.0.4\n"
msgstr "/usr/home  -alldirs  10.0.0.2 10.0.0.3 10.0.0.4\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:345
msgid ""
"This next example exports [.filename]#/a# so that two clients from different "
"domains may access that file system.  The `-maproot=root` allows `root` on "
"the remote system to write data on the exported file system as `root`.  If `-"
"maproot=root` is not specified, the client's `root` user will be mapped to "
"the server's `nobody` account and will be subject to the access limitations "
"defined for `nobody`."
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:349
#, fuzzy, no-wrap
msgid "/a  -maproot=root  host.example.com box.example.org\n"
msgstr "/a  -maproot=root  host.example.com box.example.org\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:353
#, fuzzy
msgid ""
"A client can only be specified once per file system.  For example, if [."
"filename]#/usr# is a single file system, these entries would be invalid as "
"both entries specify the same host:"
msgstr ""
"每个文件系统只能指定一次客户端。例如，如果<filename>/usr</filename>是单个文件"
"系统，则这些条目将无效，因为两个条目都指定相同的主机："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:359
#, fuzzy, no-wrap
msgid ""
"# Invalid when /usr is one file system\n"
"/usr/src   client\n"
"/usr/ports client\n"
msgstr ""
"# Invalid when /usr is one file system\n"
"/usr/src   client\n"
"/usr/ports client\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:362
msgid "The correct format for this situation is to use one entry:"
msgstr "解决这一问题的正确的格式是："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:366
#, fuzzy, no-wrap
msgid "/usr/src /usr/ports  client\n"
msgstr "/usr/src /usr/ports  client\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:369
msgid ""
"The following is an example of a valid export list, where [.filename]#/usr# "
"and [.filename]#/exports# are local file systems:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:380
#, fuzzy, no-wrap
msgid ""
"# Export src and ports to client01 and client02, but only\n"
"# client01 has root privileges on it\n"
"/usr/src /usr/ports -maproot=root    client01\n"
"/usr/src /usr/ports               client02\n"
"# The client machines have root and can mount anywhere\n"
"# on /exports. Anyone in the world can mount /exports/obj read-only\n"
"/exports -alldirs -maproot=root      client01 client02\n"
"/exports/obj -ro\n"
msgstr ""
"# Export src and ports to client01 and client02, but only\n"
"# client01 has root privileges on it\n"
"/usr/src /usr/ports -maproot=root    client01\n"
"/usr/src /usr/ports               client02\n"
"# The client machines have root and can mount anywhere\n"
"# on /exports. Anyone in the world can mount /exports/obj read-only\n"
"/exports -alldirs -maproot=root      client01 client02\n"
"/exports/obj -ro\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:383
msgid ""
"To enable the processes required by the NFS server at boot time, add these "
"options to [.filename]#/etc/rc.conf#:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:389
#, fuzzy, no-wrap
msgid ""
"rpcbind_enable=\"YES\"\n"
"nfs_server_enable=\"YES\"\n"
"mountd_enable=\"YES\"\n"
msgstr ""
"rpcbind_enable=\"YES\"\n"
"nfs_server_enable=\"YES\"\n"
"mountd_enable=\"YES\"\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:392
msgid "The server can be started now by running this command:"
msgstr "使用以下命令启动 nfs 服务端："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:396
#, no-wrap
msgid "# service nfsd start\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:401
msgid ""
"Whenever the NFS server is started, mountd also starts automatically.  "
"However, mountd only reads [.filename]#/etc/exports# when it is started.  To "
"make subsequent [.filename]#/etc/exports# edits take effect immediately, "
"force mountd to reread it:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:405
#, no-wrap
msgid "# service mountd reload\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:408
msgid "Refer to man:nfsv4[4] for a description of an NFS Version 4 setup."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/network-servers/_index.adoc:409
#, no-wrap
msgid "Configuring the Client"
msgstr "设定客户端"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:412
msgid ""
"To enable NFS clients, set this option in each client's [.filename]#/etc/rc."
"conf#:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:416
#, fuzzy, no-wrap
msgid "nfs_client_enable=\"YES\"\n"
msgstr "nfs_client_enable=\"YES\"\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:419
msgid "Then, run this command on each NFS client:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:423
#, no-wrap
msgid "# service nfsclient start\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:428
msgid ""
"The client now has everything it needs to mount a remote file system.  In "
"these examples, the server's name is `server` and the client's name is "
"`client`.  To mount [.filename]#/home# on `server` to the [.filename]#/mnt# "
"mount point on `client`:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:432
#, no-wrap
msgid "# mount server:/home /mnt\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:435
msgid ""
"The files and directories in [.filename]#/home# will now be available on "
"`client`, in the [.filename]#/mnt# directory."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:437
#, fuzzy
msgid ""
"To mount a remote file system each time the client boots, add it to [."
"filename]#/etc/fstab#:"
msgstr ""
"如果您打算让系统每次在重启动的时候都自动挂载远端的文件系统，把那个文件系统加"
"到 <filename>/etc/fstab</filename> 文件里头去。下面是例子："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:441
#, fuzzy, no-wrap
msgid "server:/home\t/mnt\tnfs\trw\t0\t0\n"
msgstr "server:/home\t/mnt\tnfs\trw\t0\t0\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:444
msgid "Refer to man:fstab[5] for a description of all available options."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/network-servers/_index.adoc:445
#, no-wrap
msgid "Locking"
msgstr "锁定中"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:449
#, fuzzy
msgid ""
"Some applications require file locking to operate correctly.  To enable "
"locking, execute the following command on both the client and server:"
msgstr ""
"某些应用程序 (例如 <application>mutt</application>) 需要文件上锁支持才能正常"
"运行。 要启用它， 需要在服务器和客户机的 <filename>/etc/rc.conf</filename> 中"
"加入这些行："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:453
#, fuzzy, no-wrap
msgid "# sysrc rpc_lockd_enable=\"YES\"\n"
msgstr "ctld_enable=\"YES\"\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:456
#, fuzzy
#| msgid "To start the service now:"
msgid "Then start the service:"
msgstr "要立即启动服务可："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:460
#, no-wrap
msgid "# service lockd start\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:464
msgid ""
"If locking is not required on the server, the NFS client can be configured "
"to lock locally by including `-L` when running mount.  Refer to man:"
"mount_nfs[8] for further details."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/network-servers/_index.adoc:466
#, no-wrap
msgid "Automating Mounts with man:autofs[5]"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:473
msgid ""
"The man:autofs[5] automount facility is supported starting with FreeBSD 10.1-"
"RELEASE.  To use the automounter functionality in older versions of FreeBSD, "
"use man:amd[8] instead.  This chapter only describes the man:autofs[5] "
"automounter."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:479
msgid ""
"The man:autofs[5] facility is a common name for several components that, "
"together, allow for automatic mounting of remote and local filesystems "
"whenever a file or directory within that file system is accessed.  It "
"consists of the kernel component, man:autofs[5], and several userspace "
"applications: man:automount[8], man:automountd[8] and man:autounmountd[8].  "
"It serves as an alternative for man:amd[8] from previous FreeBSD releases.  "
"amd is still provided for backward compatibility purposes, as the two use "
"different map formats; the one used by autofs is the same as with other SVR4 "
"automounters, such as the ones in Solaris, MacOS X, and Linux."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:481
msgid ""
"The man:autofs[5] virtual filesystem is mounted on specified mountpoints by "
"man:automount[8], usually invoked during boot."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:485
msgid ""
"Whenever a process attempts to access a file within the man:autofs[5] "
"mountpoint, the kernel will notify man:automountd[8] daemon and pause the "
"triggering process.  The man:automountd[8] daemon will handle kernel "
"requests by finding the proper map and mounting the filesystem according to "
"it, then signal the kernel to release blocked process.  The man:"
"autounmountd[8] daemon automatically unmounts automounted filesystems after "
"some time, unless they are still being used."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:488
msgid ""
"The primary autofs configuration file is [.filename]#/etc/auto_master#. It "
"assigns individual maps to top-level mounts.  For an explanation of [."
"filename]#auto_master# and the map syntax, refer to man:auto_master[5]."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:492
msgid ""
"There is a special automounter map mounted on [.filename]#/net#.  When a "
"file is accessed within this directory, man:autofs[5] looks up the "
"corresponding remote mount and automatically mounts it.  For instance, an "
"attempt to access a file within [.filename]#/net/foobar/usr# would tell man:"
"automountd[8] to mount the [.filename]#/usr# export from the host `foobar`."
msgstr ""

#. type: Block title
#: documentation/content/en/books/handbook/network-servers/_index.adoc:493
#, no-wrap
msgid "Mounting an Export with man:autofs[5]"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:497
msgid ""
"In this example, `showmount -e` shows the exported file systems that can be "
"mounted from the NFS server, `foobar`:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:505
#, no-wrap
msgid ""
"% showmount -e foobar\n"
"Exports list on foobar:\n"
"/usr                               10.10.10.0\n"
"/a                                 10.10.10.0\n"
"% cd /net/foobar/usr\n"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:512
msgid ""
"The output from `showmount` shows [.filename]#/usr# as an export.  When "
"changing directories to [.filename]#/host/foobar/usr#, man:automountd[8] "
"intercepts the request and attempts to resolve the hostname `foobar`.  If "
"successful, man:automountd[8] automatically mounts the source export."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:514
msgid ""
"To enable man:autofs[5] at boot time, add this line to [.filename]#/etc/rc."
"conf#:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:518
#, fuzzy, no-wrap
msgid "autofs_enable=\"YES\"\n"
msgstr "autofs_enable=\"YES\"\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:521
msgid "Then man:autofs[5] can be started by running:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:527
#, no-wrap
msgid ""
"# service automount start\n"
"# service automountd start\n"
"# service autounmountd start\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:531
msgid ""
"The man:autofs[5] map format is the same as in other operating systems.  "
"Information about this format from other sources can be useful, like the "
"http://web.archive.org/web/20160813071113/http://images.apple.com/business/"
"docs/Autofs.pdf[Mac OS X document]."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:533
msgid ""
"Consult the man:automount[8], man:automountd[8], man:autounmountd[8], and "
"man:auto_master[5] manual pages for more information."
msgstr ""

#. type: Title ==
#: documentation/content/en/books/handbook/network-servers/_index.adoc:535
#, no-wrap
msgid "Network Information System (NIS)"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:540
msgid ""
"Network Information System (NIS) is designed to centralize administration of "
"UNIX(R)-like systems such as Solaris(TM), HP-UX, AIX(R), Linux, NetBSD, "
"OpenBSD, and FreeBSD.  NIS was originally known as Yellow Pages but the name "
"was changed due to trademark issues.  This is the reason why NIS commands "
"begin with `yp`."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:543
#, fuzzy
msgid ""
"NIS is a Remote Procedure Call (RPC)-based client/server system that allows "
"a group of machines within an NIS domain to share a common set of "
"configuration files.  This permits a system administrator to set up NIS "
"client systems with only minimal configuration data and to add, remove, or "
"modify configuration data from a single location."
msgstr ""
"<acronym>NIS</acronym>是一个基于 RPC 的客户机/服务器系统， 它允许在一个 NIS "
"域中的一组机器共享一系列配置文件。 这样， 系统管理员就可以配置只包含最基本配"
"置数据的 NIS 客户机系统， 并在单点上增加、 删除或修改配置数据。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:545
msgid "FreeBSD uses version 2 of the NIS protocol."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/network-servers/_index.adoc:546
#, no-wrap
msgid "NIS Terms and Processes"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:549
msgid "Table 28.1 summarizes the terms and important processes used by NIS:"
msgstr ""

#. type: Block title
#: documentation/content/en/books/handbook/network-servers/_index.adoc:550
#, no-wrap
msgid "NIS Terminology"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:554
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1893
#, no-wrap
msgid "Term"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:557
#, no-wrap
msgid "NIS domain name"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:559
#, no-wrap
msgid "NIS servers and clients share an NIS domain name. Typically, this name does not have anything to do with DNS."
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:560
#, no-wrap
msgid "man:rpcbind[8]"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:562
#, no-wrap
msgid "This service enables RPC and must be running in order to run an NIS server or act as an NIS client."
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:563
#, no-wrap
msgid "man:ypbind[8]"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:565
#, no-wrap
msgid "This service binds an NIS client to its NIS server. It will take the NIS domain name and use RPC to connect to the server. It is the core of client/server communication in an NIS environment. If this service is not running on a client machine, it will not be able to access the NIS server."
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:566
#, no-wrap
msgid "man:ypserv[8]"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:568
#, no-wrap
msgid "This is the process for the NIS server. If this service stops running, the server will no longer be able to respond to NIS requests so hopefully, there is a slave server to take over. Some non-FreeBSD clients will not try to reconnect using a slave server and the ypbind process may need to be restarted on these clients."
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:569
#, no-wrap
msgid "man:rpc.yppasswdd[8]"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:570
#, no-wrap
msgid "This process only runs on NIS master servers. This daemon allows NIS clients to change their NIS passwords. If this daemon is not running, users will have to login to the NIS master server and change their passwords there."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/network-servers/_index.adoc:572
#, no-wrap
msgid "Machine Types"
msgstr "主机类型"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:575
msgid "There are three types of hosts in an NIS environment:"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:577
msgid "NIS master server"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:581
msgid ""
"This server acts as a central repository for host configuration information "
"and maintains the authoritative copy of the files used by all of the NIS "
"clients.  The [.filename]#passwd#, [.filename]#group#, and other various "
"files used by NIS clients are stored on the master server.  While it is "
"possible for one machine to be an NIS master server for more than one NIS "
"domain, this type of configuration will not be covered in this chapter as it "
"assumes a relatively small-scale NIS environment."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:582
msgid "NIS slave servers"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:585
msgid ""
"NIS slave servers maintain copies of the NIS master's data files in order to "
"provide redundancy.  Slave servers also help to balance the load of the "
"master server as NIS clients always attach to the NIS server which responds "
"first."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:586
msgid "NIS clients"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:588
msgid "NIS clients authenticate against the NIS server during log on."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:592
msgid ""
"Information in many files can be shared using NIS.  The [.filename]#master."
"passwd#, [.filename]#group#, and [.filename]#hosts# files are commonly "
"shared via NIS.  Whenever a process on a client needs information that would "
"normally be found in these files locally, it makes a query to the NIS server "
"that it is bound to instead."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/network-servers/_index.adoc:593
#, no-wrap
msgid "Planning Considerations"
msgstr "规划注意事项"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:599
#, fuzzy
msgid ""
"This section describes a sample NIS environment which consists of 15 FreeBSD "
"machines with no centralized point of administration.  Each machine has its "
"own [.filename]#/etc/passwd# and [.filename]#/etc/master.passwd#.  These "
"files are kept in sync with each other only through manual intervention.  "
"Currently, when a user is added to the lab, the process must be repeated on "
"all 15 machines."
msgstr ""
"本藏以一个例子介绍 NIS：假定您正在管理大学中的一个小型实验室。 在这个实验室"
"中， 有 15 台 FreeBSD 机器， 目前尚没有集中的管理点； 每一台机器上有自己的 "
"<filename>/etc/passwd</filename> 和 <filename>/etc/master.passwd</"
"filename>。 这些文件通过人工干预的方法来保持与其他机器上版本的同步； 目前， "
"如果您在实验室中增加一个用户， 将不得不在所有 15 台机器上手工执行 "
"<command>adduser</command> 命令。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:601
msgid "The configuration of the lab will be as follows:"
msgstr "实验室的配置如下："

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:606
#, fuzzy, no-wrap
#| msgid "Machine Types"
msgid "Machine name"
msgstr "主机类型"

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:607
#, no-wrap
msgid "IP address"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:610
#, fuzzy, no-wrap
#| msgid "Machine Types"
msgid "Machine role"
msgstr "主机类型"

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:611
#, no-wrap
msgid "`ellington`"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:612
#, no-wrap
msgid "`10.0.0.2`"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:614
#, no-wrap
msgid "NIS master"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:615
#, no-wrap
msgid "`coltrane`"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:616
#, no-wrap
msgid "`10.0.0.3`"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:618
#, no-wrap
msgid "NIS slave"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:619
#, no-wrap
msgid "`basie`"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:620
#, no-wrap
msgid "`10.0.0.4`"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:622
#, no-wrap
msgid "Faculty workstation"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:623
#, no-wrap
msgid "`bird`"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:624
#, no-wrap
msgid "`10.0.0.5`"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:626
#, no-wrap
msgid "Client machine"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:627
#, no-wrap
msgid "`cli[1-11]`"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:628
#, no-wrap
msgid "`10.0.0.[6-17]`"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:629
#, no-wrap
msgid "Other client machines"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:633
#, fuzzy
msgid ""
"If this is the first time an NIS scheme is being developed, it should be "
"thoroughly planned ahead of time.  Regardless of network size, several "
"decisions need to be made as part of the planning process."
msgstr ""
"如果您是首次配置 NIS， 仔细思考如何进行规划就十分重要。 无论您的网络的大小如"
"何， 都必须进行几个决策。"

#. type: Title ====
#: documentation/content/en/books/handbook/network-servers/_index.adoc:634
#, no-wrap
msgid "Choosing a NIS Domain Name"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:639
#, fuzzy
msgid ""
"When a client broadcasts its requests for info, it includes the name of the "
"NIS domain that it is part of.  This is how multiple servers on one network "
"can tell which server should answer which request.  Think of the NIS domain "
"name as the name for a group of hosts."
msgstr ""
"当客户机广播对此信息的请求时， 它会将 NIS 域的名字作为请求的一部分发出。 这"
"样， 统一网络上的多个服务器， 就能够知道谁应该回应请求。 您可以把 NIS 域名想"
"象成以某种方式相关的一组主机的名字。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:645
msgid ""
"Some organizations choose to use their Internet domain name for their NIS "
"domain name.  This is not recommended as it can cause confusion when trying "
"to debug network problems.  The NIS domain name should be unique within the "
"network and it is helpful if it describes the group of machines it "
"represents.  For example, the Art department at Acme Inc. might be in the "
"\"acme-art\" NIS domain.  This example will use the domain name `test-"
"domain`."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:648
msgid ""
"However, some non-FreeBSD operating systems require the NIS domain name to "
"be the same as the Internet domain name.  If one or more machines on the "
"network have this restriction, the Internet domain name _must_ be used as "
"the NIS domain name."
msgstr ""

#. type: Title ====
#: documentation/content/en/books/handbook/network-servers/_index.adoc:649
#, no-wrap
msgid "Physical Server Requirements"
msgstr "服务器的物理要求"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:656
msgid ""
"There are several things to keep in mind when choosing a machine to use as a "
"NIS server.  Since NIS clients depend upon the availability of the server, "
"choose a machine that is not rebooted frequently.  The NIS server should "
"ideally be a stand alone machine whose sole purpose is to be an NIS server.  "
"If the network is not heavily used, it is acceptable to put the NIS server "
"on a machine running other services.  However, if the NIS server becomes "
"unavailable, it will adversely affect all NIS clients."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/network-servers/_index.adoc:657
#, no-wrap
msgid "Configuring the NIS Master Server"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:664
#, fuzzy
msgid ""
"The canonical copies of all NIS files are stored on the master server.  The "
"databases used to store the information are called NIS maps.  In FreeBSD, "
"these maps are stored in [.filename]#/var/yp/[domainname]# where [."
"filename]#[domainname]# is the name of the NIS domain.  Since multiple "
"domains are supported, it is possible to have several directories, one for "
"each domain.  Each domain will have its own independent set of maps."
msgstr ""
"所有的 NIS 信息的正规版本， 都被保存在一台单独的称作 NIS 主服务器的机器上。 "
"用于保存这些信息的数据库， 称为 NIS 映射(map)。 在 FreeBSD 中， 这些映射被保"
"存在 <filename>/var/yp/[domainname]</filename> 里， 其中 "
"<filename>[domainname]</filename> 是提供服务的 NIS 域的名字。 一台 NIS 服务"
"器， 可以同时支持多个域， 因此可以建立很多这样的目录， 所支撑一个域对应一"
"个。 每一个域都会有一组独立的映射。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:667
msgid ""
"NIS master and slave servers handle all NIS requests through man:ypserv[8].  "
"This daemon is responsible for receiving incoming requests from NIS clients, "
"translating the requested domain and map name to a path to the corresponding "
"database file, and transmitting data from the database back to the client."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:670
#, fuzzy
msgid ""
"Setting up a master NIS server can be relatively straight forward, depending "
"on environmental needs.  Since FreeBSD provides built-in NIS support, it "
"only needs to be enabled by adding the following lines to [.filename]#/etc/"
"rc.conf#:"
msgstr ""
"配置主 NIS 服务器相对而言十分的简单， 而其具体步骤则取决于您的需要。 FreeBSD "
"提供了一步到位的 NIS 支持。 您需要做的全部事情， 只需在 <filename>/etc/rc."
"conf</filename> 中加入一些配置："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:676
#, no-wrap
msgid ""
"nisdomainname=\"test-domain\"\t<.>\n"
"nis_server_enable=\"YES\"\t\t<.>\n"
"nis_yppasswdd_enable=\"YES\"\t<.>\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:679
msgid "This line sets the NIS domain name to `test-domain`."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:680
msgid ""
"This automates the start up of the NIS server processes when the system "
"boots."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:681
msgid ""
"This enables the man:rpc.yppasswdd[8] daemon so that users can change their "
"NIS password from a client machine."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:686
#, fuzzy
msgid ""
"Care must be taken in a multi-server domain where the server machines are "
"also NIS clients.  It is generally a good idea to force the servers to bind "
"to themselves rather than allowing them to broadcast bind requests and "
"possibly become bound to each other.  Strange failure modes can result if "
"one server goes down and others are dependent upon it.  Eventually, all the "
"clients will time out and attempt to bind to other servers, but the delay "
"involved can be considerable and the failure mode is still present since the "
"servers might bind to each other all over again."
msgstr ""
"在多服务器域的环境中， 如果服务器同时作为 <acronym>NIS</acronym> 客户端，需要"
"更加小心。 一般来说， 强制服务器绑定自己要比允许它们广播绑定请求要好， 因为这"
"种情况下它们可能会相互绑定。 某些怪异的故障， 很可能是由于某一台服务器停机， "
"而其它服务器都依赖其服务所导致的。 最终， 所有的客户机都会超时并绑定到其它服"
"务器， 但这个延迟可能会相当可观， 而且恢复之后仍然存在再次发生此类问题的隐"
"患。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:688
#, fuzzy
msgid ""
"A server that is also a client can be forced to bind to a particular server "
"by adding these additional lines to [.filename]#/etc/rc.conf#:"
msgstr ""
"通过将这些附加行添加到<filename>/etc/rc.conf</filename>，也可以作为客户端的服"
"务器可以强制绑定到特定服务器："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:693
#, no-wrap
msgid ""
"nis_client_enable=\"YES\"\t\t\t\t<.>\n"
"nis_client_flags=\"-S test-domain,server\"\t<.>\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:696
msgid "This enables running client stuff as well."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:697
msgid "This line sets the NIS domain name to `test-domain` and bind to itself."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:700
msgid ""
"After saving the edits, type `/etc/netstart` to restart the network and "
"apply the values defined in [.filename]#/etc/rc.conf#.  Before initializing "
"the NIS maps, start man:ypserv[8]:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:704
#, no-wrap
msgid "# service ypserv start\n"
msgstr ""

#. type: Title ====
#: documentation/content/en/books/handbook/network-servers/_index.adoc:707
#, no-wrap
msgid "Initializing the NIS Maps"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:712
msgid ""
"NIS maps are generated from the configuration files in [.filename]#/etc# on "
"the NIS master, with one exception: [.filename]#/etc/master.passwd#.  This "
"is to prevent the propagation of passwords to all the servers in the NIS "
"domain.  Therefore, before the NIS maps are initialized, configure the "
"primary password files:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:718
#, no-wrap
msgid ""
"# cp /etc/master.passwd /var/yp/master.passwd\n"
"# cd /var/yp\n"
"# vi master.passwd\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:721
msgid ""
"It is advisable to remove all entries for system accounts as well as any "
"user accounts that do not need to be propagated to the NIS clients, such as "
"the `root` and any other administrative accounts."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:725
msgid ""
"Ensure that the [.filename]#/var/yp/master.passwd# is neither group or world "
"readable by setting its permissions to `600`."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:730
msgid ""
"After completing this task, initialize the NIS maps.  FreeBSD includes the "
"man:ypinit[8] script to do this.  When generating maps for the master "
"server, include `-m` and specify the NIS domain name:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:751
#, no-wrap
msgid ""
"ellington# ypinit -m test-domain\n"
"Server Type: MASTER Domain: test-domain\n"
"Creating an YP server will require that you answer a few questions.\n"
"Questions will all be asked at the beginning of the procedure.\n"
"Do you want this procedure to quit on non-fatal errors? [y/n: n] n\n"
"Ok, please remember to go back and redo manually whatever fails.\n"
"If not, something might not work.\n"
"At this point, we have to construct a list of this domains YP servers.\n"
"rod.darktech.org is already known as master server.\n"
"Please continue to add any slave servers, one per line. When you are\n"
"done with the list, type a <control D>.\n"
"master server   :  ellington\n"
"next host to add:  coltrane\n"
"next host to add:  ^D\n"
"The current list of NIS servers looks like this:\n"
"ellington\n"
"coltrane\n"
"Is this correct?  [y/n: y] y\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:753
#, no-wrap
msgid "[..output from map generation..]\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:756
#, no-wrap
msgid ""
"NIS Map update completed.\n"
"ellington has been setup as an YP master server without any errors.\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:761
msgid ""
"This will create [.filename]#/var/yp/Makefile# from [.filename]#/var/yp/"
"Makefile.dist#.  By default, this file assumes that the environment has a "
"single NIS server with only FreeBSD clients.  Since `test-domain` has a "
"slave server, edit this line in [.filename]#/var/yp/Makefile# so that it "
"begins with a comment (`+#+`):"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:765
#, fuzzy, no-wrap
msgid "NOPUSH = \"True\"\n"
msgstr "NOPUSH = \"True\"\n"

#. type: Title ====
#: documentation/content/en/books/handbook/network-servers/_index.adoc:768
#, no-wrap
msgid "Adding New Users"
msgstr "添加新用户"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:773
msgid ""
"Every time a new user is created, the user account must be added to the "
"master NIS server and the NIS maps rebuilt.  Until this occurs, the new user "
"will not be able to login anywhere except on the NIS master.  For example, "
"to add the new user `jsmith` to the `test-domain` domain, run these commands "
"on the master server:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:779
#, no-wrap
msgid ""
"# pw useradd jsmith\n"
"# cd /var/yp\n"
"# make test-domain\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:782
msgid ""
"The user could also be added using `adduser jsmith` instead of `pw useradd "
"smith`."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/network-servers/_index.adoc:783
#, no-wrap
msgid "Setting up a NIS Slave Server"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:789
msgid ""
"To set up an NIS slave server, log on to the slave server and edit [."
"filename]#/etc/rc.conf# as for the master server.  Do not generate any NIS "
"maps, as these already exist on the master server.  When running `ypinit` on "
"the slave server, use `-s` (for slave) instead of `-m` (for master).  This "
"option requires the name of the NIS master in addition to the domain name, "
"as seen in this example:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:793
#, no-wrap
msgid "coltrane# ypinit -s ellington test-domain\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:795
#, no-wrap
msgid "Server Type: SLAVE Domain: test-domain Master: ellington\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:798
#, no-wrap
msgid ""
"Creating an YP server will require that you answer a few questions.\n"
"Questions will all be asked at the beginning of the procedure.\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:800
#, no-wrap
msgid "Do you want this procedure to quit on non-fatal errors? [y/n: n]  n\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:845
#, no-wrap
msgid ""
"Ok, please remember to go back and redo manually whatever fails.\n"
"If not, something might not work.\n"
"There will be no further questions. The remainder of the procedure\n"
"should take a few minutes, to copy the databases from ellington.\n"
"Transferring netgroup...\n"
"ypxfr: Exiting: Map successfully transferred\n"
"Transferring netgroup.byuser...\n"
"ypxfr: Exiting: Map successfully transferred\n"
"Transferring netgroup.byhost...\n"
"ypxfr: Exiting: Map successfully transferred\n"
"Transferring master.passwd.byuid...\n"
"ypxfr: Exiting: Map successfully transferred\n"
"Transferring passwd.byuid...\n"
"ypxfr: Exiting: Map successfully transferred\n"
"Transferring passwd.byname...\n"
"ypxfr: Exiting: Map successfully transferred\n"
"Transferring group.bygid...\n"
"ypxfr: Exiting: Map successfully transferred\n"
"Transferring group.byname...\n"
"ypxfr: Exiting: Map successfully transferred\n"
"Transferring services.byname...\n"
"ypxfr: Exiting: Map successfully transferred\n"
"Transferring rpc.bynumber...\n"
"ypxfr: Exiting: Map successfully transferred\n"
"Transferring rpc.byname...\n"
"ypxfr: Exiting: Map successfully transferred\n"
"Transferring protocols.byname...\n"
"ypxfr: Exiting: Map successfully transferred\n"
"Transferring master.passwd.byname...\n"
"ypxfr: Exiting: Map successfully transferred\n"
"Transferring networks.byname...\n"
"ypxfr: Exiting: Map successfully transferred\n"
"Transferring networks.byaddr...\n"
"ypxfr: Exiting: Map successfully transferred\n"
"Transferring netid.byname...\n"
"ypxfr: Exiting: Map successfully transferred\n"
"Transferring hosts.byaddr...\n"
"ypxfr: Exiting: Map successfully transferred\n"
"Transferring protocols.bynumber...\n"
"ypxfr: Exiting: Map successfully transferred\n"
"Transferring ypservers...\n"
"ypxfr: Exiting: Map successfully transferred\n"
"Transferring hosts.byname...\n"
"ypxfr: Exiting: Map successfully transferred\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:848
#, no-wrap
msgid ""
"coltrane has been setup as an YP slave server without any errors.\n"
"Remember to update map ypservers on ellington.\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:852
#, fuzzy
msgid ""
"This will generate a directory on the slave server called [.filename]#/var/"
"yp/test-domain# which contains copies of the NIS master server's maps.  "
"Adding these [.filename]#/etc/crontab# entries on each slave server will "
"force the slaves to sync their maps with the maps on the master server:"
msgstr ""
"现在应该会有一个叫做 <filename>/var/yp/test-domain</filename> 的目录。 在这个"
"目录中， 应该保存 NIS 主服务器上的映射的副本。 接下来需要确定这些文件都及时地"
"同步更新了。 在从服务器上， 下面的 <filename>/etc/crontab</filename> 项将帮助"
"您确保这一点："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:857
#, fuzzy, no-wrap
msgid ""
"20      *       *       *       *       root   /usr/libexec/ypxfr passwd.byname\n"
"21      *       *       *       *       root   /usr/libexec/ypxfr passwd.byuid\n"
msgstr ""
"20      *       *       *       *       root   /usr/libexec/ypxfr passwd.byname\n"
"21      *       *       *       *       root   /usr/libexec/ypxfr passwd.byuid\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:862
#, fuzzy
#| msgid ""
#| "These entries are not mandatory because the master server automatically "
#| "attempts to push any map changes to its slaves. However, since clients "
#| "may depend upon the slave server to provide correct password information, "
#| "it is recommended to force frequent password map updates. This is "
#| "especially important on busy networks where map updates might not always "
#| "complete."
msgid ""
"These entries are not mandatory because the master server automatically "
"attempts to push any map changes to its slaves.  However, since clients may "
"depend upon the slave server to provide correct password information, it is "
"recommended to force frequent password map updates.  This is especially "
"important on busy networks where map updates might not always complete."
msgstr ""
"这两行将强制从服务器将映射与主服务器同步。 由于主服务器会尝试确保所有其 NIS "
"映射的变动都知会从服务器， 因此这些项并不是绝对必需的。 不过， 由于保持其他客"
"户端的口令信息正确性十分重要， 而这则依赖于从服务器， 强烈推荐明确指定让系统"
"时常强制更新口令映射。 对于繁忙的网络而言， 这一点尤其重要， 因为有时可能出现"
"映射更新不完全的情况。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:864
msgid ""
"To finish the configuration, run `/etc/netstart` on the slave server in "
"order to start the NIS services."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/network-servers/_index.adoc:865
#, no-wrap
msgid "Setting Up an NIS Client"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:874
msgid ""
"An NIS client binds to an NIS server using man:ypbind[8].  This daemon "
"broadcasts RPC requests on the local network.  These requests specify the "
"domain name configured on the client.  If an NIS server in the same domain "
"receives one of the broadcasts, it will respond to ypbind, which will record "
"the server's address.  If there are several servers available, the client "
"will use the address of the first server to respond and will direct all of "
"its NIS requests to that server.  The client will automatically ping the "
"server on a regular basis to make sure it is still available.  If it fails "
"to receive a reply within a reasonable amount of time, ypbind will mark the "
"domain as unbound and begin broadcasting again in the hopes of locating "
"another server."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:876
msgid "To configure a FreeBSD machine to be an NIS client:"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:880
msgid ""
"Edit [.filename]#/etc/rc.conf# and add the following lines in order to set "
"the NIS domain name and start man:ypbind[8] during network startup:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:885
#, fuzzy, no-wrap
msgid ""
"nisdomainname=\"test-domain\"\n"
"nis_client_enable=\"YES\"\n"
msgstr ""
"nisdomainname=\"test-domain\"\n"
"nis_client_enable=\"YES\"\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:888
msgid ""
"To import all possible password entries from the NIS server, use `vipw` to "
"remove all user accounts except one from [.filename]#/etc/master.passwd#. "
"When removing the accounts, keep in mind that at least one local account "
"should remain and this account should be a member of `wheel`. If there is a "
"problem with NIS, this local account can be used to log in remotely, become "
"the superuser, and fix the problem. Before saving the edits, add the "
"following line to the end of the file:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:892
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1113
#, no-wrap
msgid "+:::::::::\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:898
msgid ""
"This line configures the client to provide anyone with a valid account in "
"the NIS server's password maps an account on the client.  There are many "
"ways to configure the NIS client by modifying this line.  One method is "
"described in <<network-netgroups>>.  For more detailed reading, refer to the "
"book `Managing NFS and NIS`, published by O'Reilly Media."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:899
msgid ""
"To import all possible group entries from the NIS server, add this line to [."
"filename]#/etc/group#:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:903
#, no-wrap
msgid "+:*::\n"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:907
msgid ""
"To start the NIS client immediately, execute the following commands as the "
"superuser:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:912
#, no-wrap
msgid ""
"# /etc/netstart\n"
"# service ypbind start\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:915
msgid ""
"After completing these steps, running `ypcat passwd` on the client should "
"show the server's [.filename]#passwd# map."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/network-servers/_index.adoc:916
#, no-wrap
msgid "NIS Security"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:924
msgid ""
"Since RPC is a broadcast-based service, any system running ypbind within the "
"same domain can retrieve the contents of the NIS maps.  To prevent "
"unauthorized transactions, man:ypserv[8] supports a feature called "
"\"securenets\" which can be used to restrict access to a given set of "
"hosts.  By default, this information is stored in [.filename]#/var/yp/"
"securenets#, unless man:ypserv[8] is started with `-p` and an alternate "
"path.  This file contains entries that consist of a network specification "
"and a network mask separated by white space.  Lines starting with `+\"#\"+` "
"are considered to be comments.  A sample [.filename]#securenets# might look "
"like this:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:936
#, fuzzy, no-wrap
msgid ""
"# allow connections from local host -- mandatory\n"
"127.0.0.1     255.255.255.255\n"
"# allow connections from any host\n"
"# on the 192.168.128.0 network\n"
"192.168.128.0 255.255.255.0\n"
"# allow connections from any host\n"
"# between 10.0.0.0 to 10.0.15.255\n"
"# this includes the machines in the testlab\n"
"10.0.0.0      255.255.240.0\n"
msgstr ""
"# allow connections from local host -- mandatory\n"
"127.0.0.1     255.255.255.255\n"
"# allow connections from any host\n"
"# on the 192.168.128.0 network\n"
"192.168.128.0 255.255.255.0\n"
"# allow connections from any host\n"
"# between 10.0.0.0 to 10.0.15.255\n"
"# this includes the machines in the testlab\n"
"10.0.0.0      255.255.240.0\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:941
msgid ""
"If man:ypserv[8] receives a request from an address that matches one of "
"these rules, it will process the request normally.  If the address fails to "
"match a rule, the request will be ignored and a warning message will be "
"logged.  If the [.filename]#securenets# does not exist, `ypserv` will allow "
"connections from any host."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:945
msgid ""
"crossref:security[tcpwrappers,\"TCP Wrapper\"] is an alternate mechanism for "
"providing access control instead of [.filename]#securenets#.  While either "
"access control mechanism adds some security, they are both vulnerable to "
"\"IP spoofing\" attacks.  All NIS-related traffic should be blocked at the "
"firewall."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:949
#, fuzzy
msgid ""
"Servers using [.filename]#securenets# may fail to serve legitimate NIS "
"clients with archaic TCP/IP implementations.  Some of these implementations "
"set all host bits to zero when doing broadcasts or fail to observe the "
"subnet mask when calculating the broadcast address.  While some of these "
"problems can be fixed by changing the client configuration, other problems "
"may force the retirement of these client systems or the abandonment of [."
"filename]#securenets#."
msgstr ""
"使用 <filename>/var/yp/securenets</filename> 的服务器， 可能会无法为某些使用"
"陈旧的 TCP/IP 实现的 NIS 客户机服务。 这些实现可能会在广播时， 将主机位都设置"
"为 0， 或在计算广播地址时忽略子网掩码。 尽管这些问题可以通过修改客户机的配置"
"来解决， 其他一些问题也可能导致不得不淘汰那些客户机系统， 或者不使用 "
"<filename>/var/yp/securenets</filename>。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:953
msgid ""
"The use of TCP Wrapper increases the latency of the NIS server.  The "
"additional delay may be long enough to cause timeouts in client programs, "
"especially in busy networks with slow NIS servers.  If one or more clients "
"suffer from latency, convert those clients into NIS slave servers and force "
"them to bind to themselves."
msgstr ""

#. type: Title ====
#: documentation/content/en/books/handbook/network-servers/_index.adoc:954
#, no-wrap
msgid "Barring Some Users"
msgstr "不允许某些用户登录"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:959
msgid ""
"In this example, the `basie` system is a faculty workstation within the NIS "
"domain.  The [.filename]#passwd# map on the master NIS server contains "
"accounts for both faculty and students.  This section demonstrates how to "
"allow faculty logins on this system while refusing student logins."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:963
msgid ""
"To prevent specified users from logging on to a system, even if they are "
"present in the NIS database, use `vipw` to add `-_username_` with the "
"correct number of colons towards the end of [.filename]#/etc/master.passwd# "
"on the client, where _username_ is the username of a user to bar from "
"logging in.  The line with the blocked user must be before the `+` line that "
"allows NIS users.  In this example, `bill` is barred from logging on to "
"`basie`:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:984
#, fuzzy, no-wrap
msgid ""
"basie# cat /etc/master.passwd\n"
"root:[password]:0:0::0:0:The super-user:/root:/bin/csh\n"
"toor:[password]:0:0::0:0:The other super-user:/root:/bin/sh\n"
"daemon:*:1:1::0:0:Owner of many system processes:/root:/usr/sbin/nologin\n"
"operator:*:2:5::0:0:System &:/:/usr/sbin/nologin\n"
"bin:*:3:7::0:0:Binaries Commands and Source,,,:/:/usr/sbin/nologin\n"
"tty:*:4:65533::0:0:Tty Sandbox:/:/usr/sbin/nologin\n"
"kmem:*:5:65533::0:0:KMem Sandbox:/:/usr/sbin/nologin\n"
"games:*:7:13::0:0:Games pseudo-user:/usr/games:/usr/sbin/nologin\n"
"news:*:8:8::0:0:News Subsystem:/:/usr/sbin/nologin\n"
"man:*:9:9::0:0:Mister Man Pages:/usr/share/man:/usr/sbin/nologin\n"
"bind:*:53:53::0:0:Bind Sandbox:/:/usr/sbin/nologin\n"
"uucp:*:66:66::0:0:UUCP pseudo-user:/var/spool/uucppublic:/usr/libexec/uucp/uucico\n"
"xten:*:67:67::0:0:X-10 daemon:/usr/local/xten:/usr/sbin/nologin\n"
"pop:*:68:6::0:0:Post Office Owner:/nonexistent:/usr/sbin/nologin\n"
"nobody:*:65534:65534::0:0:Unprivileged user:/nonexistent:/usr/sbin/nologin\n"
"-bill:::::::::\n"
"+:::::::::\n"
msgstr ""
"basie<prompt>#</prompt> <userinput>cat /etc/master.passwd</userinput>\n"
"root:[password]:0:0::0:0:The super-user:/root:/bin/csh\n"
"toor:[password]:0:0::0:0:The other super-user:/root:/bin/sh\n"
"daemon:*:1:1::0:0:Owner of many system processes:/root:/usr/sbin/nologin\n"
"operator:*:2:5::0:0:System &amp;:/:/usr/sbin/nologin\n"
"bin:*:3:7::0:0:Binaries Commands and Source,,,:/:/usr/sbin/nologin\n"
"tty:*:4:65533::0:0:Tty Sandbox:/:/usr/sbin/nologin\n"
"kmem:*:5:65533::0:0:KMem Sandbox:/:/usr/sbin/nologin\n"
"games:*:7:13::0:0:Games pseudo-user:/usr/games:/usr/sbin/nologin\n"
"news:*:8:8::0:0:News Subsystem:/:/usr/sbin/nologin\n"
"man:*:9:9::0:0:Mister Man Pages:/usr/share/man:/usr/sbin/nologin\n"
"bind:*:53:53::0:0:Bind Sandbox:/:/usr/sbin/nologin\n"
"uucp:*:66:66::0:0:UUCP pseudo-user:/var/spool/uucppublic:/usr/libexec/uucp/uucico\n"
"xten:*:67:67::0:0:X-10 daemon:/usr/local/xten:/usr/sbin/nologin\n"
"pop:*:68:6::0:0:Post Office Owner:/nonexistent:/usr/sbin/nologin\n"
"nobody:*:65534:65534::0:0:Unprivileged user:/nonexistent:/usr/sbin/nologin\n"
"-bill:::::::::\n"
"+:::::::::\n"
"\n"
"basie<prompt>#</prompt>\n"

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:986
#, no-wrap
msgid "basie#\n"
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/network-servers/_index.adoc:990
#, no-wrap
msgid "Using Netgroups"
msgstr "使用Netgroups"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:993
msgid ""
"Barring specified users from logging on to individual systems becomes "
"unscaleable on larger networks and quickly loses the main benefit of NIS: "
"_centralized_ administration."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:996
msgid ""
"Netgroups were developed to handle large, complex networks with hundreds of "
"users and machines.  Their use is comparable to UNIX(R) groups, where the "
"main difference is the lack of a numeric ID and the ability to define a "
"netgroup by including both user accounts and other netgroups."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:998
msgid ""
"To expand on the example used in this chapter, the NIS domain will be "
"extended to add the users and systems shown in Tables 28.2 and 28.3:"
msgstr ""

#. type: Block title
#: documentation/content/en/books/handbook/network-servers/_index.adoc:999
#, no-wrap
msgid "Additional Users"
msgstr "其他使用者"

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1003
#, no-wrap
msgid "User Name(s)"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1006
#, no-wrap
msgid "`alpha`, `beta`"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1008
#, no-wrap
msgid "IT department employees"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1009
#, no-wrap
msgid "`charlie`, `delta`"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1011
#, no-wrap
msgid "IT department apprentices"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1012
#, no-wrap
msgid "`echo`, `foxtrott`, `golf`, ..."
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1014
#, no-wrap
msgid "employees"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1015
#, no-wrap
msgid "`able`, `baker`, ..."
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1016
#, no-wrap
msgid "interns"
msgstr ""

#. type: Block title
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1018
#, no-wrap
msgid "Additional Systems"
msgstr "其他系统"

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1022
#, fuzzy, no-wrap
#| msgid "Machine Types"
msgid "Machine Name(s)"
msgstr "主机类型"

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1025
#, no-wrap
msgid "`war`, `death`, `famine`, `pollution`"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1027
#, no-wrap
msgid "Only IT employees are allowed to log onto these servers."
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1028
#, no-wrap
msgid "`pride`, `greed`, `envy`, `wrath`, `lust`, `sloth`"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1030
#, no-wrap
msgid "All members of the IT department are allowed to login onto these servers."
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1031
#, no-wrap
msgid "`one`, `two`, `three`, `four`, ..."
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1033
#, no-wrap
msgid "Ordinary workstations used by employees."
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1034
#, no-wrap
msgid "`trashcan`"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1035
#, no-wrap
msgid "A very old machine without any critical data. Even interns are allowed to use this system."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1041
#, fuzzy
msgid ""
"When using netgroups to configure this scenario, each user is assigned to "
"one or more netgroups and logins are then allowed or forbidden for all "
"members of the netgroup.  When adding a new machine, login restrictions must "
"be defined for all netgroups.  When a new user is added, the account must be "
"added to one or more netgroups.  If the NIS setup is planned carefully, only "
"one central configuration file needs modification to grant or deny access to "
"machines."
msgstr ""
"使用 netgroups 来处理这一状况可以带来许多好处。 不需要单独地处理每一个用户； "
"您可以赋予用户一个或多个 netgroups 身份， 并允许或禁止某一个 netgroup 的所有"
"成员登录。 如果添加了新的机器， 只需要定义 netgroup 的登录限制。 如果增加了新"
"用户， 也只需要将用户加入一个或多个 netgroup。 这些变化是相互独立的： 不再需"
"要 <quote>对每一个用户和机器执行 ……</quote>。 如果您的 NIS 配置经过了谨慎的规"
"划， 就只需要修改一个中央的配置文件， 就能够允许或禁止访问某台机器的权限了。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1045
msgid ""
"The first step is the initialization of the NIS`netgroup` map.  In FreeBSD, "
"this map is not created by default.  On the NIS master server, use an editor "
"to create a map named [.filename]#/var/yp/netgroup#."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1047
msgid ""
"This example creates four netgroups to represent IT employees, IT "
"apprentices, employees, and interns:"
msgstr "本示例创建四个网络组来表示 IT 员工、IT 学徒、员工和实习生："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1055
#, fuzzy, no-wrap
msgid ""
"IT_EMP  (,alpha,test-domain)    (,beta,test-domain)\n"
"IT_APP  (,charlie,test-domain)  (,delta,test-domain)\n"
"USERS   (,echo,test-domain)     (,foxtrott,test-domain) \\\n"
"        (,golf,test-domain)\n"
"INTERNS (,able,test-domain)     (,baker,test-domain)\n"
msgstr ""
"IT_EMP  (,alpha,test-domain)    (,beta,test-domain)\n"
"IT_APP  (,charlie,test-domain)  (,delta,test-domain)\n"
"USERS   (,echo,test-domain)     (,foxtrott,test-domain) \\\n"
"        (,golf,test-domain)\n"
"INTERNS (,able,test-domain)     (,baker,test-domain)\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1060
#, fuzzy
#| msgid ""
#| "Each entry configures a netgroup. The first column in an entry is the "
#| "name of the netgroup. Each set of brackets represents either a group of "
#| "one or more users or the name of another netgroup. When specifying a "
#| "user, the three comma-delimited fields inside each group represent:"
msgid ""
"Each entry configures a netgroup. The first column in an entry is the name "
"of the netgroup.  Each set of parentheses represents either a group of one "
"or more users or the name of another netgroup.  When specifying a user, the "
"three comma-delimited fields inside each group represent:"
msgstr ""
"每个条目配置一个网络组。条目中的第一列是网络组的名称。每个括号集表示一个或多"
"个用户的组或另一个网络组的名称。指定用户时，每个组内的三个逗号分隔字段表示："

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1062
msgid ""
"The name of the host(s) where the other fields representing the user are "
"valid. If a hostname is not specified, the entry is valid on all hosts."
msgstr ""
"在哪些机器上能够使用这些项。 如果不指定主机名， 则项在所有机器上都有效。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1063
msgid "The name of the account that belongs to this netgroup."
msgstr "属于这个 netgroup 的帐号。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1064
msgid ""
"The NIS domain for the account. Accounts may be imported from other NIS "
"domains into a netgroup."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1068
msgid ""
"If a group contains multiple users, separate each user with whitespace.  "
"Additionally, each field may contain wildcards.  See man:netgroup[5] for "
"details."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1071
#, fuzzy
#| msgid ""
#| "Netgroup names longer than 8 characters should not be used. The names are "
#| "case sensitive and using capital letters for netgroup names is an easy "
#| "way to distinguish between user, machine and netgroup names."
msgid ""
"Netgroup names longer than 8 characters should not be used.  The names are "
"case sensitive and using capital letters for netgroup names is an easy way "
"to distinguish between user, machine and netgroup names."
msgstr ""
"Netgroup 的名字一般来说不应超过 8 个字符， 特别是当您的 NIS 域中有机器打算运"
"行其它操作系统的时候。 名字是区分大小写的； 使用大写字母作为 netgroup 的名"
"字， 能够让您更容易地区分用户、 机器和 netgroup 的名字。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1074
#, fuzzy
msgid ""
"Some non-FreeBSD NIS clients cannot handle netgroups containing more than 15 "
"entries.  This limit may be circumvented by creating several sub-netgroups "
"with 15 users or fewer and a real netgroup consisting of the sub-netgroups, "
"as seen in this example:"
msgstr ""
"某些 NIS 客户程序 (FreeBSD 以外的那些) 可能无法处理含有大量项的 netgroup。 例"
"如， 某些早期版本的 <trademark>SunOS</trademark> 会在 netgroup 中包含多于 15 "
"个 <emphasis>项</emphasis> 时出现问题。 要绕过这个问题， 可以创建多个 子"
"netgroup，每一个中包含少于 15 个用户， 以及一个包含所有 子netgroup 的真正的 "
"netgroup："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1081
#, fuzzy, no-wrap
msgid ""
"BIGGRP1  (,joe1,domain)  (,joe2,domain)  (,joe3,domain) [...]\n"
"BIGGRP2  (,joe16,domain)  (,joe17,domain) [...]\n"
"BIGGRP3  (,joe31,domain)  (,joe32,domain)\n"
"BIGGROUP  BIGGRP1 BIGGRP2 BIGGRP3\n"
msgstr ""
"BIGGRP1  (,joe1,domain)  (,joe2,domain)  (,joe3,domain) [...]\n"
"BIGGRP2  (,joe16,domain)  (,joe17,domain) [...]\n"
"BIGGRP3  (,joe31,domain)  (,joe32,domain)\n"
"BIGGROUP  BIGGRP1 BIGGRP2 BIGGRP3\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1084
msgid ""
"Repeat this process if more than 225 (15 times 15) users exist within a "
"single netgroup."
msgstr "如果需要超过 225 个用户， 可以继续重复上面的过程。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1086
msgid "To activate and distribute the new NIS map:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1091
#, no-wrap
msgid ""
"ellington# cd /var/yp\n"
"ellington# make\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1095
msgid ""
"This will generate the three NIS maps [.filename]#netgroup#, [."
"filename]#netgroup.byhost# and [.filename]#netgroup.byuser#.  Use the map "
"key option of man:ypcat[1] to check if the new NIS maps are available:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1101
#, no-wrap
msgid ""
"ellington% ypcat -k netgroup\n"
"ellington% ypcat -k netgroup.byhost\n"
"ellington% ypcat -k netgroup.byuser\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1106
#, fuzzy
msgid ""
"The output of the first command should resemble the contents of [.filename]#/"
"var/yp/netgroup#.  The second command only produces output if host-specific "
"netgroups were created.  The third command is used to get the list of "
"netgroups for a user."
msgstr ""
"第一个命令的输出， 应该与 <filename>/var/yp/netgroup</filename> 的内容相近。 "
"第二个命令， 如果没有指定本机专有的 netgroup， 则应该没有输出。 第三个命令， "
"则用于显示某个用户对应的 netgroup 列表。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1109
msgid ""
"To configure a client, use man:vipw[8] to specify the name of the netgroup.  "
"For example, on the server named `war`, replace this line:"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1116
msgid "with"
msgstr "替换为"

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1120
#, fuzzy, no-wrap
msgid "+@IT_EMP:::::::::\n"
msgstr "+@IT_EMP:::::::::\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1123
msgid ""
"This specifies that only the users defined in the netgroup `IT_EMP` will be "
"imported into this system's password database and only those users are "
"allowed to login to this system."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1128
msgid ""
"This configuration also applies to the `~` function of the shell and all "
"routines which convert between user names and numerical user IDs.  In other "
"words, `cd ~_user_` will not work, `ls -l` will show the numerical ID "
"instead of the username, and `find . -user joe -print` will fail with the "
"message `No such user`.  To fix this, import all user entries without "
"allowing them to login into the servers.  This can be achieved by adding an "
"extra line:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1132
#, fuzzy, no-wrap
msgid "+:::::::::/usr/sbin/nologin\n"
msgstr "+:::::::::/usr/sbin/nologin\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1135
#, fuzzy
msgid ""
"This line configures the client to import all entries but to replace the "
"shell in those entries with [.filename]#/usr/sbin/nologin#."
msgstr ""
"此行将客户端配置为导入所有条目，但用<filename>/usr/sbin/nologin</filename>替"
"换这些条目中的 shell。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1138
msgid ""
"Make sure that extra line is placed _after_ `+@IT_EMP:::::::::`.  Otherwise, "
"all user accounts imported from NIS will have [.filename]#/usr/sbin/nologin# "
"as their login shell and no one will be able to login to the system."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1140
msgid ""
"To configure the less important servers, replace the old `+:::::::::` on the "
"servers with these lines:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1146
#, fuzzy, no-wrap
msgid ""
"+@IT_EMP:::::::::\n"
"+@IT_APP:::::::::\n"
"+:::::::::/usr/sbin/nologin\n"
msgstr ""
"+@IT_EMP:::::::::\n"
"+@IT_APP:::::::::\n"
"+:::::::::/usr/sbin/nologin\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1149
msgid "The corresponding lines for the workstations would be:"
msgstr "相关的用于普通工作站的配置则应是："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1155
#, fuzzy, no-wrap
msgid ""
"+@IT_EMP:::::::::\n"
"+@USERS:::::::::\n"
"+:::::::::/usr/sbin/nologin\n"
msgstr ""
"+@IT_EMP:::::::::\n"
"+@USERS:::::::::\n"
"+:::::::::/usr/sbin/nologin\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1162
#, fuzzy
msgid ""
"NIS supports the creation of netgroups from other netgroups which can be "
"useful if the policy regarding user access changes.  One possibility is the "
"creation of role-based netgroups.  For example, one might create a netgroup "
"called `BIGSRV` to define the login restrictions for the important servers, "
"another netgroup called `SMALLSRV` for the less important servers, and a "
"third netgroup called `USERBOX` for the workstations.  Each of these "
"netgroups contains the netgroups that are allowed to login onto these "
"machines.  The new entries for the NIS`netgroup` map would look like this:"
msgstr ""
"NIS 通过 netgroup 来建立 netgroup 的能力， 正可以避免这样的情形。 一种可能的"
"方法是建立基于角色的 netgroup。 例如， 您可以创建称为 <literal>BIGSRV</"
"literal> 的 netgroup， 用于定义最重要的服务器上的登录限制， 以及另一个成为 "
"<literal>SMALLSRV</literal> 的 netgroup， 用以定义次重要的服务器， 以及第三"
"个， 用于普通工作站的 netgroup <literal>USERBOX</literal>。 这三个 netgroup "
"中的每一个， 都包含了允许登录到这些机器上的所有 netgroup。 您的 NIS 映射中的"
"新项如下所示："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1168
#, fuzzy, no-wrap
msgid ""
"BIGSRV    IT_EMP  IT_APP\n"
"SMALLSRV  IT_EMP  IT_APP  ITINTERN\n"
"USERBOX   IT_EMP  ITINTERN USERS\n"
msgstr ""
"BIGSRV    IT_EMP  IT_APP\n"
"SMALLSRV  IT_EMP  IT_APP  ITINTERN\n"
"USERBOX   IT_EMP  ITINTERN USERS\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1173
#, fuzzy
#| msgid ""
#| "This method of defining login restrictions works reasonably well when it "
#| "is possible to define groups of machines with identical restrictions. "
#| "Unfortunately, this is the exception and not the rule. Most of the time, "
#| "the ability to define login restrictions on a per-machine basis is "
#| "required."
msgid ""
"This method of defining login restrictions works reasonably well when it is "
"possible to define groups of machines with identical restrictions.  "
"Unfortunately, this is the exception and not the rule.  Most of the time, "
"the ability to define login restrictions on a per-machine basis is required."
msgstr ""
"这种定义登录限制的方法， 在您能够将机器分组并加以限制的时候可以工作的相当"
"好。 不幸的是， 这是种例外， 而非常规情况。 多数时候， 需要按机器去定义登录限"
"制。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1178
#, fuzzy
msgid ""
"Machine-specific netgroup definitions are another possibility to deal with "
"the policy changes.  In this scenario, the [.filename]#/etc/master.passwd# "
"of each system contains two lines starting with \"+\".  The first line adds "
"a netgroup with the accounts allowed to login onto this machine and the "
"second line adds all other accounts with [.filename]#/usr/sbin/nologin# as "
"shell.  It is recommended to use the \"ALL-CAPS\" version of the hostname as "
"the name of the netgroup:"
msgstr ""
"与机器相关的 netgroup 定义， 是处理上述策略改动的另一种可能的方法。 此时， 每"
"台机器的 <filename>/etc/master.passwd</filename> 中， 都包含两个 <quote>+</"
"quote> 开头的行。 第一个用于添加允许登录的 netgroup 帐号， 而第二个则用于增加"
"其它帐号， 并把 shell 设置为 <filename>/sbin/nologin</filename>。 使用 "
"<quote>全大写</quote> 的机器名作为 netgroup 名是个好主意。 换言之， 这些行应"
"该类似于："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1183
#, no-wrap
msgid ""
"+@BOXNAME:::::::::\n"
"+:::::::::/usr/sbin/nologin\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1188
msgid ""
"Once this task is completed on all the machines, there is no longer a need "
"to modify the local versions of [.filename]#/etc/master.passwd# ever again.  "
"All further changes can be handled by modifying the NIS map.  Here is an "
"example of a possible `netgroup` map for this scenario:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1226
#, fuzzy, no-wrap
msgid ""
"# Define groups of users first\n"
"IT_EMP    (,alpha,test-domain)    (,beta,test-domain)\n"
"IT_APP    (,charlie,test-domain)  (,delta,test-domain)\n"
"DEPT1     (,echo,test-domain)     (,foxtrott,test-domain)\n"
"DEPT2     (,golf,test-domain)     (,hotel,test-domain)\n"
"DEPT3     (,india,test-domain)    (,juliet,test-domain)\n"
"ITINTERN  (,kilo,test-domain)     (,lima,test-domain)\n"
"D_INTERNS (,able,test-domain)     (,baker,test-domain)\n"
"#\n"
"# Now, define some groups based on roles\n"
"USERS     DEPT1   DEPT2     DEPT3\n"
"BIGSRV    IT_EMP  IT_APP\n"
"SMALLSRV  IT_EMP  IT_APP    ITINTERN\n"
"USERBOX   IT_EMP  ITINTERN  USERS\n"
"#\n"
"# And a groups for a special tasks\n"
"# Allow echo and golf to access our anti-virus-machine\n"
"SECURITY  IT_EMP  (,echo,test-domain)  (,golf,test-domain)\n"
"#\n"
"# machine-based netgroups\n"
"# Our main servers\n"
"WAR       BIGSRV\n"
"FAMINE    BIGSRV\n"
"# User india needs access to this server\n"
"POLLUTION  BIGSRV  (,india,test-domain)\n"
"#\n"
"# This one is really important and needs more access restrictions\n"
"DEATH     IT_EMP\n"
"#\n"
"# The anti-virus-machine mentioned above\n"
"ONE       SECURITY\n"
"#\n"
"# Restrict a machine to a single user\n"
"TWO       (,hotel,test-domain)\n"
"# [...more groups to follow]\n"
msgstr ""
"# Define groups of users first\n"
"IT_EMP    (,alpha,test-domain)    (,beta,test-domain)\n"
"IT_APP    (,charlie,test-domain)  (,delta,test-domain)\n"
"DEPT1     (,echo,test-domain)     (,foxtrott,test-domain)\n"
"DEPT2     (,golf,test-domain)     (,hotel,test-domain)\n"
"DEPT3     (,india,test-domain)    (,juliet,test-domain)\n"
"ITINTERN  (,kilo,test-domain)     (,lima,test-domain)\n"
"D_INTERNS (,able,test-domain)     (,baker,test-domain)\n"
"#\n"
"# Now, define some groups based on roles\n"
"USERS     DEPT1   DEPT2     DEPT3\n"
"BIGSRV    IT_EMP  IT_APP\n"
"SMALLSRV  IT_EMP  IT_APP    ITINTERN\n"
"USERBOX   IT_EMP  ITINTERN  USERS\n"
"#\n"
"# And a groups for a special tasks\n"
"# Allow echo and golf to access our anti-virus-machine\n"
"SECURITY  IT_EMP  (,echo,test-domain)  (,golf,test-domain)\n"
"#\n"
"# machine-based netgroups\n"
"# Our main servers\n"
"WAR       BIGSRV\n"
"FAMINE    BIGSRV\n"
"# User india needs access to this server\n"
"POLLUTION  BIGSRV  (,india,test-domain)\n"
"#\n"
"# This one is really important and needs more access restrictions\n"
"DEATH     IT_EMP\n"
"#\n"
"# The anti-virus-machine mentioned above\n"
"ONE       SECURITY\n"
"#\n"
"# Restrict a machine to a single user\n"
"TWO       (,hotel,test-domain)\n"
"# [...more groups to follow]\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1230
#, fuzzy
msgid ""
"It may not always be advisable to use machine-based netgroups.  When "
"deploying a couple of dozen or hundreds of systems, role-based netgroups "
"instead of machine-based netgroups may be used to keep the size of the NIS "
"map within reasonable limits."
msgstr ""
"可能并不总是建议使用基于机器的网组。部署几十个或数百个系统时， 您应该使用基于"
"角色的 netgroup， 而不是基于机器的 netgroup， 以便把 NIS 映射的尺寸保持在一个"
"合理的范围内。"

#. type: Title ===
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1231
#, no-wrap
msgid "Password Formats"
msgstr "密码格式"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1236
#, fuzzy
msgid ""
"NIS requires that all hosts within an NIS domain use the same format for "
"encrypting passwords.  If users have trouble authenticating on an NIS "
"client, it may be due to a differing password format.  In a heterogeneous "
"network, the format must be supported by all operating systems, where DES is "
"the lowest common standard."
msgstr ""
"<acronym>NIS</acronym>要求<acronym>NIS</acronym>域中的所有主机使用相同的格式"
"加密密码。如果用户在<acronym>NIS</acronym>客户端上进行身份验证时遇到问题，可"
"能是由于密码格式不同。在异构网络中，所有操作系统都必须支持该格式，其中"
"<acronym>DES</acronym>是最低的通用标准。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1238
#, fuzzy
msgid ""
"To check which format a server or client is using, look at this section of [."
"filename]#/etc/login.conf#:"
msgstr ""
"要检查服务器或客户端使用的格式，请查看<filename>/etc/login.conf</filename>的"
"此部分："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1245
#, fuzzy, no-wrap
msgid ""
"default:\\\n"
"\t:passwd_format=des:\\\n"
"\t:copyright=/etc/COPYRIGHT:\\\n"
"\t[Further entries elided]\n"
msgstr ""
"default:\\\n"
"\t:passwd_format=des:\\\n"
"\t:copyright=/etc/COPYRIGHT:\\\n"
"\t[Further entries elided]\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1250
msgid ""
"In this example, the system is using the DES format for password hashing.  "
"Other possible values include `blf` for Blowfish, `md5` for MD5, `sha256` "
"and `sha512` for SHA-256 and SHA-512 respectively.  For more information and "
"the up to date list of what is available on your system, consult the man:"
"crypt[3] manpage."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1252
msgid ""
"If the format on a host needs to be edited to match the one being used in "
"the NIS domain, the login capability database must be rebuilt after saving "
"the change:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1256
#, no-wrap
msgid "# cap_mkdb /etc/login.conf\n"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1261
msgid ""
"The format of passwords for existing user accounts will not be updated until "
"each user changes their password _after_ the login capability database is "
"rebuilt."
msgstr ""

#. type: Title ==
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1264
#, no-wrap
msgid "Lightweight Directory Access Protocol (LDAP)"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1270
#, fuzzy
msgid ""
"The Lightweight Directory Access Protocol (LDAP) is an application layer "
"protocol used to access, modify, and authenticate objects using a "
"distributed directory information service.  Think of it as a phone or record "
"book which stores several levels of hierarchical, homogeneous information.  "
"It is used in Active Directory and OpenLDAP networks and allows users to "
"access to several levels of internal information utilizing a single "
"account.  For example, email authentication, pulling employee contact "
"information, and internal website authentication might all make use of a "
"single user account in the LDAP server's record base."
msgstr ""
"轻量级目录存取协定（Lightweight Directory Access Protocol，<acronym>LDAP</"
"acronym>）是一个利用分布式目录资讯服务来做到存取、修改与认证物件的应用层通信"
"协定，可以想像成是一本可以储存数个阶层、同质信息的电话簿或记录簿。它用在"
"Active Directory及<application>OpenLDAP</application>网络，允许使用者利用一个"
"帐号来存取数个阶层的内部信息，例如：电子邮件认证、取得员工联络信息及内部网站"
"的认证皆可使用<acronym>LDAP</acronym>服务器数据库中的单一使用者帐号来存取。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1273
#, fuzzy
msgid ""
"This section provides a quick start guide for configuring an LDAP server on "
"a FreeBSD system.  It assumes that the administrator already has a design "
"plan which includes the type of information to store, what that information "
"will be used for, which users should have access to that information, and "
"how to secure this information from unauthorized access."
msgstr ""
"本章节将介绍在FreeBSD系统上如何快速的设定一个<acronym>LDAP</acronym>服务器。"
"本章节假设管理者已做好规划，这包含：要储存何种类型的信息、这些信息要来做什"
"么、那些使用者拥有存取这些信息的权限以及如何确保这些信息不会被未经授权存取。"

#. type: Title ===
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1274
#, no-wrap
msgid "LDAP Terminology and Structure"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1280
msgid ""
"LDAP uses several terms which should be understood before starting the "
"configuration.  All directory entries consist of a group of _attributes_.  "
"Each of these attribute sets contains a unique identifier known as a "
"_Distinguished Name_ (DN) which is normally built from several other "
"attributes such as the common or _Relative Distinguished Name_ (RDN).  "
"Similar to how directories have absolute and relative paths, consider a DN "
"as an absolute path and the RDN as the relative path."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1283
msgid ""
"An example LDAP entry looks like the following.  This example searches for "
"the entry for the specified user account (`uid`), organizational unit "
"(`ou`), and organization (`o`):"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1294
#, no-wrap
msgid ""
"% ldapsearch -xb \"uid=trhodes,ou=users,o=example.com\"\n"
"# extended LDIF\n"
"#\n"
"# LDAPv3\n"
"# base <uid=trhodes,ou=users,o=example.com> with scope subtree\n"
"# filter: (objectclass=*)\n"
"# requesting: ALL\n"
"#\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1301
#, no-wrap
msgid ""
"# trhodes, users, example.com\n"
"dn: uid=trhodes,ou=users,o=example.com\n"
"mail: trhodes@example.com\n"
"cn: Tom Rhodes\n"
"uid: trhodes\n"
"telephoneNumber: (123) 456-7890\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1305
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1579
#, no-wrap
msgid ""
"# search result\n"
"search: 2\n"
"result: 0 Success\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1308
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1582
#, no-wrap
msgid ""
"# numResponses: 2\n"
"# numEntries: 1\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1312
msgid ""
"This example entry shows the values for the `dn`, `mail`, `cn`, `uid`, and "
"`telephoneNumber` attributes.  The cn attribute is the RDN."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1314
msgid ""
"More information about LDAP and its terminology can be found at http://www."
"openldap.org/doc/admin24/intro.html[http://www.openldap.org/doc/admin24/"
"intro.html]."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1316
#, no-wrap
msgid "Configuring an LDAP Server"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1320
msgid ""
"FreeBSD does not provide a built-in LDAP server.  Begin the configuration by "
"installing package:net/openldap-server[] package or port:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1324
#, no-wrap
msgid "# pkg install openldap-server\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1329
msgid ""
"There is a large set of default options enabled in the extref:{linux-users}"
"[package, software].  Review them by running `pkg info openldap-server`.  If "
"they are not sufficient (for example if SQL support is needed), please "
"consider recompiling the port using the appropriate crossref:ports[ports-"
"using,framework]."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1332
#, fuzzy
msgid ""
"The installation creates the directory [.filename]#/var/db/openldap-data# to "
"hold the data.  The directory to store the certificates must be created:"
msgstr ""
"安装过程中将创建<filename>/var/db/openldap-data</filename>目录来保存数据。同"
"时必须创建存储证书的目录："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1336
#, no-wrap
msgid "# mkdir /usr/local/etc/openldap/private\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1343
msgid ""
"The next phase is to configure the Certificate Authority.  The following "
"commands must be executed from [.filename]#/usr/local/etc/openldap/"
"private#.  This is important as the file permissions need to be restrictive "
"and users should not have access to these files.  More detailed information "
"about certificates and their parameters can be found in crossref:"
"security[openssl,\"OpenSSL\"].  To create the Certificate Authority, start "
"with this command and follow the prompts:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1347
#, no-wrap
msgid "# openssl req -days 365 -nodes -new -x509 -keyout ca.key -out ../ca.crt\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1352
msgid ""
"The entries for the prompts may be generic _except_ for the `Common Name`.  "
"This entry must be _different_ than the system hostname.  If this will be a "
"self signed certificate, prefix the hostname with `CA` for Certificate "
"Authority."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1355
#, fuzzy
#| msgid ""
#| "The next task is to create a certificate signing request and a private "
#| "key. Input this command and follow the prompts:"
msgid ""
"The next task is to create a certificate signing request and a private key.  "
"Input this command and follow the prompts:"
msgstr ""
"接下来的工作是建立一个凭证签署的请求及私钥。请输入以下指令然后依提示操作："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1359
#, no-wrap
msgid "# openssl req -days 365 -nodes -new -keyout server.key -out server.csr\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1363
#, fuzzy
msgid ""
"During the certificate generation process, be sure to correctly set the "
"`Common Name` attribute.  The Certificate Signing Request must be signed "
"with the Certificate Authority in order to be used as a valid certificate:"
msgstr ""
"在证书生成过程中，一定要正确设置<literal>Common Name</literal>属性。证书签名"
"请求必须与证书管理局签署，才能作为有效证书使用："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1367
#, no-wrap
msgid "# openssl x509 -req -days 365 -in server.csr -out ../server.crt -CA ../ca.crt -CAkey ca.key -CAcreateserial\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1370
msgid ""
"The final part of the certificate generation process is to generate and sign "
"the client certificates:"
msgstr "在凭证产生程序的最后一步是产生并签署用户凭证："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1375
#, no-wrap
msgid ""
"# openssl req -days 365 -nodes -new -keyout client.key -out client.csr\n"
"# openssl x509 -req -days 3650 -in client.csr -out ../client.crt -CA ../ca.crt -CAkey ca.key\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1379
#, fuzzy
msgid ""
"Remember to use the same `Common Name` attribute when prompted.  When "
"finished, ensure that a total of eight (8) new files have been generated "
"through the proceeding commands."
msgstr ""
"Remember to use the same <literal>Common Name</literal> attribute when "
"prompted. When finished, ensure that a total of eight (8) new files have "
"been generated through the proceeding commands."

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1382
msgid ""
"The daemon running the OpenLDAP server is [.filename]#slapd#.  Its "
"configuration is performed through [.filename]#slapd.ldif#: the old [."
"filename]#slapd.conf# has been deprecated by OpenLDAP."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1389
#, fuzzy
msgid ""
"http://www.openldap.org/doc/admin24/slapdconf2.html[Configuration examples] "
"for [.filename]#slapd.ldif# are available and can also be found in [."
"filename]#/usr/local/etc/openldap/slapd.ldif.sample#.  Options are "
"documented in slapd-config(5).  Each section of [.filename]#slapd.ldif#, "
"like all the other LDAP attribute sets, is uniquely identified through a "
"DN.  Be sure that no blank lines are left between the `dn:` statement and "
"the desired end of the section.  In the following example, TLS will be used "
"to implement a secure channel.  The first section represents the global "
"configuration:"
msgstr ""
"<link xlink:href=\"http://www.openldap.org/doc/admin24/slapdconf2.html\"> "
"<filename>slapd.ldif</filename>的配置示例</link>可用，也可以在<filename>/usr/"
"local/etc/openldap/slapd.ldif.samplease</filename>中找到。选项在slapd-"
"config(5)中有描述。<filename>slapd.ldif</filename>的每个部分，就像所有其他的"
"LDAP属性集一样，都是通过DN来唯一标识的。请确保在<literal>dn:</literal>语句和"
"所需的部分结尾之间没有留下空行。在下面的例子中，将使用TLS来实现一个安全通道。"
"第一个部分代表全局配置："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1411
#, fuzzy, no-wrap
msgid ""
"#\n"
"# See slapd-config(5) for details on configuration options.\n"
"# This file should NOT be world readable.\n"
"#\n"
"dn: cn=config\n"
"objectClass: olcGlobal\n"
"cn: config\n"
"#\n"
"#\n"
"# Define global ACLs to disable default read access.\n"
"#\n"
"olcArgsFile: /var/run/openldap/slapd.args\n"
"olcPidFile: /var/run/openldap/slapd.pid\n"
"olcTLSCertificateFile: /usr/local/etc/openldap/server.crt\n"
"olcTLSCertificateKeyFile: /usr/local/etc/openldap/private/server.key\n"
"olcTLSCACertificateFile: /usr/local/etc/openldap/ca.crt\n"
"#olcTLSCipherSuite: HIGH\n"
"olcTLSProtocolMin: 3.1\n"
"olcTLSVerifyClient: never\n"
msgstr ""
"#\n"
"# See slapd-config(5) for details on configuration options.\n"
"# This file should NOT be world readable.\n"
"#\n"
"dn: cn=config\n"
"objectClass: olcGlobal\n"
"cn: config\n"
"#\n"
"#\n"
"# Define global ACLs to disable default read access.\n"
"#\n"
"olcArgsFile: /var/run/openldap/slapd.args\n"
"olcPidFile: /var/run/openldap/slapd.pid\n"
"olcTLSCertificateFile: /usr/local/etc/openldap/server.crt\n"
"olcTLSCertificateKeyFile: /usr/local/etc/openldap/private/server.key\n"
"olcTLSCACertificateFile: /usr/local/etc/openldap/ca.crt\n"
"#olcTLSCipherSuite: HIGH\n"
"olcTLSProtocolMin: 3.1\n"
"olcTLSVerifyClient: never\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1416
#, fuzzy
msgid ""
"The Certificate Authority, server certificate and server private key files "
"must be specified here.  It is recommended to let the clients choose the "
"security cipher and omit option `olcTLSCipherSuite` (incompatible with TLS "
"clients other than [.filename]#openssl#). Option `olcTLSProtocolMin` lets "
"the server require a minimum security level: it is recommended.  While "
"verification is mandatory for the server, it is not for the client: "
"`olcTLSVerifyClient: never`."
msgstr ""
"这里必须指定证书机构、服务器证书和服务器私钥文件。建议让客户端选择安全密码，"
"并省略选项<literal>olcTLSCipherSuite</literal>（不兼容除<filename>openssl</"
"filename>以外的TLS客户端）。选项<literal>olcTLSProtocolMin</literal>可以让服"
"务器要求最低安全级别：建议使用。虽然验证对服务器来说是必须的，但对客户端来说"
"不是：<literal>olcTLSVerifyClient: never</literal>。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1418
msgid ""
"The second section is about the backend modules and can be configured as "
"follows:"
msgstr "第二部分介绍后端模块，可以按以下方法配置："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1434
#, fuzzy, no-wrap
msgid ""
"#\n"
"# Load dynamic backend modules:\n"
"#\n"
"dn: cn=module,cn=config\n"
"objectClass: olcModuleList\n"
"cn: module\n"
"olcModulepath:\t/usr/local/libexec/openldap\n"
"olcModuleload:\tback_mdb.la\n"
"#olcModuleload:\tback_bdb.la\n"
"#olcModuleload:\tback_hdb.la\n"
"#olcModuleload:\tback_ldap.la\n"
"#olcModuleload:\tback_passwd.la\n"
"#olcModuleload:\tback_shell.la\n"
msgstr ""
"#\n"
"# Load dynamic backend modules:\n"
"#\n"
"dn: cn=module,cn=config\n"
"objectClass: olcModuleList\n"
"cn: module\n"
"olcModulepath:\t/usr/local/libexec/openldap\n"
"olcModuleload:\tback_mdb.la\n"
"#olcModuleload:\tback_bdb.la\n"
"#olcModuleload:\tback_hdb.la\n"
"#olcModuleload:\tback_ldap.la\n"
"#olcModuleload:\tback_passwd.la\n"
"#olcModuleload:\tback_shell.la\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1437
msgid ""
"The third section is devoted to load the needed `ldif` schemas to be used by "
"the databases: they are essential."
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1443
#, no-wrap
msgid ""
"dn: cn=schema,cn=config\n"
"objectClass: olcSchemaConfig\n"
"cn: schema\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1448
#, no-wrap
msgid ""
"include: file:///usr/local/etc/openldap/schema/core.ldif\n"
"include: file:///usr/local/etc/openldap/schema/cosine.ldif\n"
"include: file:///usr/local/etc/openldap/schema/inetorgperson.ldif\n"
"include: file:///usr/local/etc/openldap/schema/nis.ldif\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1451
msgid "Next, the frontend configuration section:"
msgstr "接下来是前端配置："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1485
#, fuzzy, no-wrap
msgid ""
"# Frontend settings\n"
"#\n"
"dn: olcDatabase={-1}frontend,cn=config\n"
"objectClass: olcDatabaseConfig\n"
"objectClass: olcFrontendConfig\n"
"olcDatabase: {-1}frontend\n"
"olcAccess: to * by * read\n"
"#\n"
"# Sample global access control policy:\n"
"#\tRoot DSE: allow anyone to read it\n"
"#\tSubschema (sub)entry DSE: allow anyone to read it\n"
"#\tOther DSEs:\n"
"#\t\tAllow self write access\n"
"#\t\tAllow authenticated users read access\n"
"#\t\tAllow anonymous users to authenticate\n"
"#\n"
"#olcAccess: to dn.base=\"\" by * read\n"
"#olcAccess: to dn.base=\"cn=Subschema\" by * read\n"
"#olcAccess: to *\n"
"#\tby self write\n"
"#\tby users read\n"
"#\tby anonymous auth\n"
"#\n"
"# if no access controls are present, the default policy\n"
"# allows anyone and everyone to read anything but restricts\n"
"# updates to rootdn.  (e.g., \"access to * by * read\")\n"
"#\n"
"# rootdn can always read and write EVERYTHING!\n"
"#\n"
"olcPasswordHash: {SSHA}\n"
"# {SSHA} is already the default for olcPasswordHash\n"
msgstr ""
"# Frontend settings\n"
"#\n"
"dn: olcDatabase={-1}frontend,cn=config\n"
"objectClass: olcDatabaseConfig\n"
"objectClass: olcFrontendConfig\n"
"olcDatabase: {-1}frontend\n"
"olcAccess: to * by * read\n"
"#\n"
"# Sample global access control policy:\n"
"#\tRoot DSE: allow anyone to read it\n"
"#\tSubschema (sub)entry DSE: allow anyone to read it\n"
"#\tOther DSEs:\n"
"#\t\tAllow self write access\n"
"#\t\tAllow authenticated users read access\n"
"#\t\tAllow anonymous users to authenticate\n"
"#\n"
"#olcAccess: to dn.base=\"\" by * read\n"
"#olcAccess: to dn.base=\"cn=Subschema\" by * read\n"
"#olcAccess: to *\n"
"#\tby self write\n"
"#\tby users read\n"
"#\tby anonymous auth\n"
"#\n"
"# if no access controls are present, the default policy\n"
"# allows anyone and everyone to read anything but restricts\n"
"# updates to rootdn.  (e.g., \"access to * by * read\")\n"
"#\n"
"# rootdn can always read and write EVERYTHING!\n"
"#\n"
"olcPasswordHash: {SSHA}\n"
"# {SSHA} is already the default for olcPasswordHash\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1488
msgid ""
"Another section is devoted to the _configuration backend_, the only way to "
"later access the OpenLDAP server configuration is as a global super-user."
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1496
#, fuzzy, no-wrap
msgid ""
"dn: olcDatabase={0}config,cn=config\n"
"objectClass: olcDatabaseConfig\n"
"olcDatabase: {0}config\n"
"olcAccess: to * by * none\n"
"olcRootPW: {SSHA}iae+lrQZILpiUdf16Z9KmDmSwT77Dj4U\n"
msgstr ""
"dn: olcDatabase={0}config,cn=config\n"
"objectClass: olcDatabaseConfig\n"
"olcDatabase: {0}config\n"
"olcAccess: to * by * none\n"
"olcRootPW: {SSHA}iae+lrQZILpiUdf16Z9KmDmSwT77Dj4U\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1501
msgid ""
"The default administrator username is `cn=config`.  Type [."
"filename]#slappasswd# in a shell, choose a password and use its hash in "
"`olcRootPW`.  If this option is not specified now, before [.filename]#slapd."
"ldif# is imported, no one will be later able to modify the _global "
"configuration_ section."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1503
msgid "The last section is about the database backend:"
msgstr "最后一部分是关于数据库后端："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1527
#, fuzzy, no-wrap
msgid ""
"#######################################################################\n"
"# LMDB database definitions\n"
"#######################################################################\n"
"#\n"
"dn: olcDatabase=mdb,cn=config\n"
"objectClass: olcDatabaseConfig\n"
"objectClass: olcMdbConfig\n"
"olcDatabase: mdb\n"
"olcDbMaxSize: 1073741824\n"
"olcSuffix: dc=domain,dc=example\n"
"olcRootDN: cn=mdbadmin,dc=domain,dc=example\n"
"# Cleartext passwords, especially for the rootdn, should\n"
"# be avoided.  See slappasswd(8) and slapd-config(5) for details.\n"
"# Use of strong authentication encouraged.\n"
"olcRootPW: {SSHA}X2wHvIWDk6G76CQyCMS1vDCvtICWgn0+\n"
"# The database directory MUST exist prior to running slapd AND\n"
"# should only be accessible by the slapd and slap tools.\n"
"# Mode 700 recommended.\n"
"olcDbDirectory:\t/var/db/openldap-data\n"
"# Indices to maintain\n"
"olcDbIndex: objectClass eq\n"
msgstr ""
"#######################################################################\n"
"# LMDB database definitions\n"
"#######################################################################\n"
"#\n"
"dn: olcDatabase=mdb,cn=config\n"
"objectClass: olcDatabaseConfig\n"
"objectClass: olcMdbConfig\n"
"olcDatabase: mdb\n"
"olcDbMaxSize: 1073741824\n"
"olcSuffix: dc=domain,dc=example\n"
"olcRootDN: cn=mdbadmin,dc=domain,dc=example\n"
"# Cleartext passwords, especially for the rootdn, should\n"
"# be avoided.  See slappasswd(8) and slapd-config(5) for details.\n"
"# Use of strong authentication encouraged.\n"
"olcRootPW: {SSHA}X2wHvIWDk6G76CQyCMS1vDCvtICWgn0+\n"
"# The database directory MUST exist prior to running slapd AND\n"
"# should only be accessible by the slapd and slap tools.\n"
"# Mode 700 recommended.\n"
"olcDbDirectory:\t/var/db/openldap-data\n"
"# Indices to maintain\n"
"olcDbIndex: objectClass eq\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1532
msgid ""
"This database hosts the _actual contents_ of the LDAP directory.  Types "
"other than `mdb` are available.  Its super-user, not to be confused with the "
"global one, is configured here: a (possibly custom) username in `olcRootDN` "
"and the password hash in `olcRootPW`; [.filename]#slappasswd# can be used as "
"before."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1535
#, fuzzy
msgid ""
"This http://www.openldap.org/devel/gitweb.cgi?p=openldap.git;a=tree;f=tests/"
"data/regressions/its8444;h=8a5e808e63b0de3d2bdaf2cf34fecca8577ca7fd;"
"hb=HEAD[repository] contains four examples of [.filename]#slapd.ldif#.  To "
"convert an existing [.filename]#slapd.conf# into [.filename]#slapd.ldif#, "
"refer to http://www.openldap.org/doc/admin24/slapdconf2.html[this page] "
"(please note that this may introduce some unuseful options)."
msgstr ""
"这个<link xlink:href=\"http://www.openldap.org/devel/gitweb.cgi?p=openldap."
"git;a=tree;f=tests/data/regressions/its8444;"
"h=8a5e808e63b0de3d2bdaf2cf34fecca8577ca7fd;hb=HEAD\">存储库</link>包含四个"
"<filename>slapd.ldif</filename>的例子。要将现有的<filename>slapd.conf</"
"filename>转换为<filename>slapd.ldif</filename>，请参考<link xlink:href="
"\"http://www.openldap.org/doc/admin24/slapdconf2.html\">此页面</link>（请注"
"意，这可能会引入一些不实用的选项）。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1538
#, fuzzy
msgid ""
"When the configuration is completed, [.filename]#slapd.ldif# must be placed "
"in an empty directory.  It is recommended to create it as:"
msgstr ""
"配置完成后，<filename>slapd.ldif</filename>必须放在空目录中，建议使用以下命令"
"创建该目录:"

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1542
#, no-wrap
msgid "# mkdir /usr/local/etc/openldap/slapd.d/\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1545
msgid "Import the configuration database:"
msgstr "导入配置数据库："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1549
#, no-wrap
msgid "# /usr/local/sbin/slapadd -n0 -F /usr/local/etc/openldap/slapd.d/ -l /usr/local/etc/openldap/slapd.ldif\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1552
msgid "Start the [.filename]#slapd# daemon:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1556
#, no-wrap
msgid "# /usr/local/libexec/slapd -F /usr/local/etc/openldap/slapd.d/\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1560
msgid ""
"Option `-d` can be used for debugging, as specified in slapd(8).  To verify "
"that the server is running and working:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1571
#, no-wrap
msgid ""
"# ldapsearch -x -b '' -s base '(objectclass=*)' namingContexts\n"
"# extended LDIF\n"
"#\n"
"# LDAPv3\n"
"# base <> with scope baseObject\n"
"# filter: (objectclass=*)\n"
"# requesting: namingContexts\n"
"#\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1575
#, no-wrap
msgid ""
"#\n"
"dn:\n"
"namingContexts: dc=domain,dc=example\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1587
#, fuzzy
#| msgid ""
#| "The server must still be trusted. If that has never been done before, "
#| "follow these instructions. Install the OpenSSL package or port:"
msgid ""
"The server must still be trusted.  If that has never been done before, "
"follow these instructions.  Install the OpenSSL package or port:"
msgstr ""
"服务器仍然必须是可信的。如果以前使用过 OpenSSL，请按照以下说明进行操作。从 "
"package 或 port 安装 OpenSSL："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1591
#, no-wrap
msgid "# pkg install openssl\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1594
msgid ""
"From the directory where [.filename]#ca.crt# is stored (in this example, [."
"filename]#/usr/local/etc/openldap#), run:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1598
#, no-wrap
msgid "# c_rehash .\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1602
#, fuzzy
msgid ""
"Both the CA and the server certificate are now correctly recognized in their "
"respective roles.  To verify this, run this command from the [."
"filename]#server.crt# directory:"
msgstr ""
"CA 和服务器证书现在都在其各自的角色中正确识别。要验证这一点，请从"
"<filename>server.crt</filename>目录运行此命令："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1606
#, no-wrap
msgid "# openssl verify -verbose -CApath . server.crt\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1610
msgid ""
"If [.filename]#slapd# was running, restart it.  As stated in [.filename]#/"
"usr/local/etc/rc.d/slapd#, to properly run [.filename]#slapd# at boot the "
"following lines must be added to [.filename]#/etc/rc.conf#:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1618
#, fuzzy, no-wrap
msgid ""
"slapd_enable=\"YES\"\n"
"slapd_flags='-h \"ldapi://%2fvar%2frun%2fopenldap%2fldapi/\n"
"ldap://0.0.0.0/\"'\n"
"slapd_sockets=\"/var/run/openldap/ldapi\"\n"
"slapd_cn_config=\"YES\"\n"
msgstr ""
"lapd_enable=\"YES\"\n"
"slapd_flags='-h \"ldapi://%2fvar%2frun%2fopenldap%2fldapi/\n"
"ldap://0.0.0.0/\"'\n"
"slapd_sockets=\"/var/run/openldap/ldapi\"\n"
"slapd_cn_config=\"YES\"\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1622
msgid ""
"[.filename]#slapd# does not provide debugging at boot.  Check [.filename]#/"
"var/log/debug.log#, [.filename]#dmesg -a# and [.filename]#/var/log/messages# "
"for this purpose."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1625
msgid ""
"The following example adds the group `team` and the user `john` to the "
"`domain.example` LDAP database, which is still empty.  First, create the "
"file [.filename]#domain.ldif#:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1634
#, no-wrap
msgid ""
"# cat domain.ldif\n"
"dn: dc=domain,dc=example\n"
"objectClass: dcObject\n"
"objectClass: organization\n"
"o: domain.example\n"
"dc: domain\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1639
#, no-wrap
msgid ""
"dn: ou=groups,dc=domain,dc=example\n"
"objectClass: top\n"
"objectClass: organizationalunit\n"
"ou: groups\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1644
#, no-wrap
msgid ""
"dn: ou=users,dc=domain,dc=example\n"
"objectClass: top\n"
"objectClass: organizationalunit\n"
"ou: users\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1650
#, no-wrap
msgid ""
"dn: cn=team,ou=groups,dc=domain,dc=example\n"
"objectClass: top\n"
"objectClass: posixGroup\n"
"cn: team\n"
"gidNumber: 10001\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1663
#, no-wrap
msgid ""
"dn: uid=john,ou=users,dc=domain,dc=example\n"
"objectClass: top\n"
"objectClass: account\n"
"objectClass: posixAccount\n"
"objectClass: shadowAccount\n"
"cn: John McUser\n"
"uid: john\n"
"uidNumber: 10001\n"
"gidNumber: 10001\n"
"homeDirectory: /home/john/\n"
"loginShell: /usr/bin/bash\n"
"userPassword: secret\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1669
msgid ""
"See the OpenLDAP documentation for more details.  Use [."
"filename]#slappasswd# to replace the plain text password `secret` with a "
"hash in `userPassword`.  The path specified as `loginShell` must exist in "
"all the systems where `john` is allowed to login.  Finally, use the `mdb` "
"administrator to modify the database:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1673
#, no-wrap
msgid "# ldapadd -W -D \"cn=mdbadmin,dc=domain,dc=example\" -f domain.ldif\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1678
msgid ""
"Modifications to the _global configuration_ section can only be performed by "
"the global super-user.  For example, assume that the option "
"`olcTLSCipherSuite: HIGH:MEDIUM:SSLv3` was initially specified and must now "
"be deleted.  First, create a file that contains the following:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1685
#, no-wrap
msgid ""
"# cat global_mod\n"
"dn: cn=config\n"
"changetype: modify\n"
"delete: olcTLSCipherSuite\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1688
msgid "Then, apply the modifications:"
msgstr "然后，应用修改："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1692
#, no-wrap
msgid "# ldapmodify -f global_mod -x -D \"cn=config\" -W\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1697
msgid ""
"When asked, provide the password chosen in the _configuration backend_ "
"section.  The username is not required: here, `cn=config` represents the DN "
"of the database section to be modified.  Alternatively, use `ldapmodify` to "
"delete a single line of the database, `ldapdelete` to delete a whole entry."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1699
msgid ""
"If something goes wrong, or if the global super-user cannot access the "
"configuration backend, it is possible to delete and re-write the whole "
"configuration:"
msgstr ""
"如果出现问题，或者管理员无法访问控制页面，则可以删除并重新写入整个配置："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1703
#, no-wrap
msgid "# rm -rf /usr/local/etc/openldap/slapd.d/\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1707
#, fuzzy
msgid ""
"[.filename]#slapd.ldif# can then be edited and imported again.  Please, "
"follow this procedure only when no other solution is available."
msgstr ""
"然后可以再次编辑和导入<filename>slapd.ldif</filename>。请仅在没有其他解决方案"
"可用时使用此操作。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1710
#, fuzzy
#| msgid ""
#| "This is the configuration of the server only. The same machine can also "
#| "host an LDAP client, with its own separate configuration."
msgid ""
"This is the configuration of the server only.  The same machine can also "
"host an LDAP client, with its own separate configuration."
msgstr ""
"这仅是服务器的配置。同一台机器也可以托管一个LDAP客户端，有自己独立的配置。"

#. type: Title ==
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1712
#, no-wrap
msgid "Dynamic Host Configuration Protocol (DHCP)"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1719
msgid ""
"The Dynamic Host Configuration Protocol (DHCP) allows a system to connect to "
"a network in order to be assigned the necessary addressing information for "
"communication on that network.  FreeBSD includes the OpenBSD version of "
"`dhclient` which is used by the client to obtain the addressing "
"information.  FreeBSD does not install a DHCP server, but several servers "
"are available in the FreeBSD Ports Collection.  The DHCP protocol is fully "
"described in http://www.freesoft.org/CIE/RFC/2131/[RFC 2131].  Informational "
"resources are also available at http://www.isc.org/downloads/dhcp/[isc.org/"
"downloads/dhcp/]."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1722
msgid ""
"This section describes how to use the built-in DHCP client.  It then "
"describes how to install and configure a DHCP server."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1728
msgid ""
"In FreeBSD, the man:bpf[4] device is needed by both the DHCP server and DHCP "
"client.  This device is included in the [.filename]#GENERIC# kernel that is "
"installed with FreeBSD.  Users who prefer to create a custom kernel need to "
"keep this device if DHCP is used."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1730
#, fuzzy
msgid ""
"It should be noted that [.filename]#bpf# also allows privileged users to run "
"network packet sniffers on that system."
msgstr ""
"另外要注意<filename>bpf</filename>也会让有权限的使用者在该系统上可执行网络封"
"包监听程序。"

#. type: Title ===
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1733
#, no-wrap
msgid "Configuring a DHCP Client"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1737
msgid ""
"DHCP client support is included in the FreeBSD installer, making it easy to "
"configure a newly installed system to automatically receive its networking "
"addressing information from an existing DHCP server.  Refer to crossref:"
"bsdinstall[bsdinstall-post,\"Accounts, Time Zone, Services and Hardening\"] "
"for examples of network configuration."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1745
msgid ""
"When `dhclient` is executed on the client machine, it begins broadcasting "
"requests for configuration information.  By default, these requests use UDP "
"port 68.  The server replies on UDP port 67, giving the client an IP address "
"and other relevant network information such as a subnet mask, default "
"gateway, and DNS server addresses.  This information is in the form of a "
"DHCP \"lease\" and is valid for a configurable time.  This allows stale IP "
"addresses for clients no longer connected to the network to automatically be "
"reused.  DHCP clients can obtain a great deal of information from the "
"server.  An exhaustive list may be found in man:dhcp-options[5]."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1748
msgid ""
"By default, when a FreeBSD system boots, its DHCP client runs in the "
"background, or _asynchronously_.  Other startup scripts continue to run "
"while the DHCP process completes, which speeds up system startup."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1753
msgid ""
"Background DHCP works well when the DHCP server responds quickly to the "
"client's requests.  However, DHCP may take a long time to complete on some "
"systems.  If network services attempt to run before DHCP has assigned the "
"network addressing information, they will fail.  Using DHCP in _synchronous_ "
"mode prevents this problem as it pauses startup until the DHCP configuration "
"has completed."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1755
#, fuzzy
msgid ""
"This line in [.filename]#/etc/rc.conf# is used to configure background or "
"asynchronous mode:"
msgstr ""
"在<filename>/etc/rc.conf</filename>中的这行用来设定采用背景（非同步模式）："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1759
#, no-wrap
msgid "ifconfig_fxp0=\"DHCP\"\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1763
msgid ""
"This line may already exist if the system was configured to use DHCP during "
"installation.  Replace the _fxp0_ shown in these examples with the name of "
"the interface to be dynamically configured, as described in crossref:"
"config[config-network-setup,“Setting Up Network Interface Cards”]."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1765
msgid ""
"To instead configure the system to use synchronous mode, and to pause during "
"startup while DHCP completes, use \"`SYNCDHCP`\":"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1769
#, no-wrap
msgid "ifconfig_fxp0=\"SYNCDHCP\"\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1773
msgid ""
"Additional client options are available.  Search for `dhclient` in man:rc."
"conf[5] for details."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1775
msgid "The DHCP client uses the following files:"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1777
msgid "[.filename]#/etc/dhclient.conf#"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1781
#, fuzzy
msgid ""
"The configuration file used by `dhclient`.  Typically, this file contains "
"only comments as the defaults are suitable for most clients.  This "
"configuration file is described in man:dhclient.conf[5]."
msgstr ""
"  服务器配置文件需要含有所有要提供给客户端的信息以及有关服务器运作的信息。在"
"dhcpd.conf（5）有此配置文件的说明。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1782
msgid "[.filename]#/sbin/dhclient#"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1784
msgid ""
"More information about the command itself can be found in man:dhclient[8]."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1785
msgid "[.filename]#/sbin/dhclient-script#"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1788
msgid ""
"The FreeBSD-specific DHCP client configuration script.  It is described in "
"man:dhclient-script[8], but should not need any user modification to "
"function properly."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1789
msgid "[.filename]#/var/db/dhclient.leases.interface#"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1791
msgid ""
"The DHCP client keeps a database of valid leases in this file, which is "
"written as a log and is described in man:dhclient.leases[5]."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1794
#, no-wrap
msgid "Installing and Configuring a DHCP Server"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1798
#, fuzzy
msgid ""
"This section demonstrates how to configure a FreeBSD system to act as a DHCP "
"server using the Internet Systems Consortium (ISC) implementation of the "
"DHCP server.  This implementation and its documentation can be installed "
"using the package:net/isc-dhcp44-server[] package or port."
msgstr ""
"本节将示范如何设定FreeBSD系统成为<acronym>DHCP</acronym>服务器，使用Internet "
"Systems Consortium（<acronym>ISC</acronym>）所实作的<acronym>DHCP</acronym>服"
"务器，这个服务器及其文件可使用<package>net/ isc-dhcp43-server</package>套件或"
"Port安装。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1801
#, fuzzy
msgid ""
"The installation of package:net/isc-dhcp44-server[] installs a sample "
"configuration file.  Copy [.filename]#/usr/local/etc/dhcpd.conf.example# to "
"[.filename]#/usr/local/etc/dhcpd.conf# and make any edits to this new file."
msgstr ""
"<package>net/isc-dhcp43-server</package>的安装程序会安装一份示例配置文件，复"
"制<filename>/usr/local/etc/dhcpd.conf.example</filename>到<filename>/usr/"
"local/etc/dhcpd.conf</filename>并在这个新文件做编辑。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1804
msgid ""
"The configuration file is comprised of declarations for subnets and hosts "
"which define the information that is provided to DHCP clients.  For example, "
"these lines configure the following:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1810
#, no-wrap
msgid ""
"option domain-name \"example.org\";<.>\n"
"option domain-name-servers ns1.example.org;<.>\n"
"option subnet-mask 255.255.255.0;<.>\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1814
#, no-wrap
msgid ""
"default-lease-time 600;<.>\n"
"max-lease-time 72400;<.>\n"
"ddns-update-style none;<.>\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1819
#, no-wrap
msgid ""
"subnet 10.254.239.0 netmask 255.255.255.224 {\n"
"  range 10.254.239.10 10.254.239.20;<.>\n"
"  option routers rtr-239-0-1.example.org, rtr-239-0-2.example.org;<.>\n"
"}\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1824
#, no-wrap
msgid ""
"host fantasia {\n"
"  hardware ethernet 08:00:07:26:c0:a5;<.>\n"
"  fixed-address fantasia.fugue.com;<.>\n"
"}\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1827
msgid ""
"This option specifies the default search domain that will be provided to "
"clients. Refer to man:resolv.conf[5] for more information."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1828
msgid ""
"This option specifies a comma separated list of DNS servers that the client "
"should use. They can be listed by their Fully Qualified Domain Names (FQDN), "
"as seen in the example, or by their IP addresses."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1829
msgid "The subnet mask that will be provided to clients."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1830
msgid ""
"The default lease expiry time in seconds. A client can be configured to "
"override this value."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1831
msgid ""
"The maximum allowed length of time, in seconds, for a lease. Should a client "
"request a longer lease, a lease will still be issued, but it will only be "
"valid for `max-lease-time`."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1832
msgid ""
"The default of `none` disables dynamic DNS updates. Changing this to "
"`interim` configures the DHCP server to update a DNS server whenever it "
"hands out a lease so that the DNS server knows which IP addresses are "
"associated with which computers in the network. Do not change the default "
"setting unless the DNS server has been configured to support dynamic DNS."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1833
msgid ""
"This line creates a pool of available IP addresses which are reserved for "
"allocation to DHCP clients. The range of addresses must be valid for the "
"network or subnet specified in the previous line."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1834
msgid ""
"Declares the default gateway that is valid for the network or subnet "
"specified before the opening `{` bracket."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1835
msgid ""
"Specifies the hardware MAC address of a client so that the DHCP server can "
"recognize the client when it makes a request."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1836
msgid ""
"Specifies that this host should always be given the same IP address. Using "
"the hostname is correct, since the DHCP server will resolve the hostname "
"before returning the lease information."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1839
#, fuzzy
#| msgid ""
#| "This configuration file supports many more options. Refer to dhcpd."
#| "conf(5), installed with the server, for details and examples."
msgid ""
"This configuration file supports many more options.  Refer to dhcpd.conf(5), "
"installed with the server, for details and examples."
msgstr ""
"此配置文件还支持其他选项，请参考随服务器一并安装的dhcpd.conf（5）来取得详细信"
"息与示例。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1841
msgid ""
"Once the configuration of [.filename]#dhcpd.conf# is complete, enable the "
"DHCP server in [.filename]#/etc/rc.conf#:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1846
#, fuzzy, no-wrap
msgid ""
"dhcpd_enable=\"YES\"\n"
"dhcpd_ifaces=\"dc0\"\n"
msgstr ""
"dhcpd_enable=\"YES\"\n"
"dhcpd_ifaces=\"dc0\"\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1849
msgid ""
"Replace the `dc0` with the interface (or interfaces, separated by "
"whitespace) that the DHCP server should listen on for DHCP client requests."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1851
msgid "Start the server by issuing the following command:"
msgstr "执行以下指令来启动服务器："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1855
#, no-wrap
msgid "# service isc-dhcpd start\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1858
msgid ""
"Any future changes to the configuration of the server will require the dhcpd "
"service to be stopped and then started using man:service[8]."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1861
msgid ""
"The DHCP server uses the following files.  Note that the manual pages are "
"installed with the server software."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1863
msgid "[.filename]#/usr/local/sbin/dhcpd#"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1865
msgid "More information about the dhcpd server can be found in dhcpd(8)."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1866
msgid "[.filename]#/usr/local/etc/dhcpd.conf#"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1869
#, fuzzy
msgid ""
"The server configuration file needs to contain all the information that "
"should be provided to clients, along with information regarding the "
"operation of the server.  This configuration file is described in dhcpd."
"conf(5)."
msgstr ""
"服务器配置文件需要含有所有要提供给客户端的信息以及有关服务器运作的信息。在"
"dhcpd.conf（5）有此配置文件的说明。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1870
msgid "[.filename]#/var/db/dhcpd.leases#"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1873
msgid ""
"The DHCP server keeps a database of leases it has issued in this file, which "
"is written as a log.  Refer to dhcpd.leases(5), which gives a slightly "
"longer description."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1874
msgid "[.filename]#/usr/local/sbin/dhcrelay#"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1878
#, fuzzy
msgid ""
"This daemon is used in advanced environments where one DHCP server forwards "
"a request from a client to another DHCP server on a separate network.  If "
"this functionality is required, install the package:net/isc-dhcp44-relay[] "
"package or port.  The installation includes dhcrelay(8) which provides more "
"detail."
msgstr ""
"这个Daemon会用在更进阶的环境中，在一个<acronym>DHCP</acronym>服务器要转发来自"
"客户端的请求到另一个网络的另一个<acronym>DHCP</acronym>服务器的环境。若需要使"
"用此功能，请安装<package>net/ isc-dhcp43-relay</package>套件或Port，安装会包"
"含dhcrelay（8），里面有提供更详细的信息。"

#. type: Title ==
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1881
#, no-wrap
msgid "Domain Name System (DNS)"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1886
#, fuzzy
msgid ""
"Domain Name System (DNS) is the protocol through which domain names are "
"mapped to IP addresses, and vice versa.  DNS is coordinated across the "
"Internet through a somewhat complex system of authoritative root, Top Level "
"Domain (TLD), and other smaller-scale name servers, which host and cache "
"individual domain information.  It is not necessary to run a name server to "
"perform DNS lookups on a system."
msgstr ""
"域名系统（Domain Name System，<acronym>DNS</acronym>）是一种协定用来转换网域"
"名称为<acronym> IP </acronym>位址，反之亦然。<acronym>DNS</acronym>会协调网际"
"网络上有权的根节点（Authoritative root）、最上层网域（Top Level Domain，"
"<acronym>TLD</acronym>）及其他小规模名称服务器来取得结果，而这些服务器可管理"
"与缓存个自的网域信息。要在系统上做<acronym>DNS</acronym>查询并不需要架设一个"
"名称服务器。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1888
msgid "The following table describes some of the terms associated with DNS:"
msgstr ""

#. type: Block title
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1889
#, no-wrap
msgid "DNS Terminology"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1895
#, no-wrap
msgid "Definition"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1896
#, no-wrap
msgid "Forward DNS"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1898
#, no-wrap
msgid "Mapping of hostnames to IP addresses."
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1899
#, no-wrap
msgid "Origin"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1901
#, no-wrap
msgid "Refers to the domain covered in a particular zone file."
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1902
#, no-wrap
msgid "Resolver"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1904
#, no-wrap
msgid "A system process through which a machine queries a name server for zone information."
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1905
#, no-wrap
msgid "Reverse DNS"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1907
#, no-wrap
msgid "Mapping of IP addresses to hostnames."
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1908
#, no-wrap
msgid "Root zone"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1910
#, no-wrap
msgid "The beginning of the Internet zone hierarchy. All zones fall under the root zone, similar to how all files in a file system fall under the root directory."
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1911
#, no-wrap
msgid "Zone"
msgstr ""

#. type: Table
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1912
#, no-wrap
msgid "An individual domain, subdomain, or portion of the DNS administered by the same authority."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1915
msgid "Examples of zones:"
msgstr "辖区示例："

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1917
msgid "`.` is how the root zone is usually referred to in documentation."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1918
msgid "`org.` is a Top Level Domain (TLD) under the root zone."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1919
msgid "`example.org.` is a zone under the `org.`TLD."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1920
msgid ""
"`1.168.192.in-addr.arpa` is a zone referencing all IP addresses which fall "
"under the `192.168.1.*`IP address space."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1924
msgid ""
"As one can see, the more specific part of a hostname appears to its left.  "
"For example, `example.org.` is more specific than `org.`, as `org.` is more "
"specific than the root zone.  The layout of each part of a hostname is much "
"like a file system: the [.filename]#/dev# directory falls within the root, "
"and so on."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1925
#, no-wrap
msgid "Reasons to Run a Name Server"
msgstr "要架设名称服务器的原因"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1928
msgid ""
"Name servers generally come in two forms: authoritative name servers, and "
"caching (also known as resolving) name servers."
msgstr ""
"名称服务器通常有两种形式：有权的（Authoritative）名称服务器与缓存（或称解析）"
"名称服务器。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1930
msgid "An authoritative name server is needed when:"
msgstr "以下情况会需要一台有权的名称服务器："

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1932
msgid ""
"One wants to serve DNS information to the world, replying authoritatively to "
"queries."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1933
msgid ""
"A domain, such as `example.org`, is registered and IP addresses need to be "
"assigned to hostnames under it."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1934
msgid "An IP address block requires reverse DNS entries (IP to hostname)."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1935
msgid "A backup or second name server, called a slave, will reply to queries."
msgstr "要有一台备援或次要名称服务器用来回复查询。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1937
msgid "A caching name server is needed when:"
msgstr "以下情况会需要一台缓存名称服务器："

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1939
msgid ""
"A local DNS server may cache and respond more quickly than querying an "
"outside name server."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1943
msgid ""
"When one queries for `www.FreeBSD.org`, the resolver usually queries the "
"uplink ISP's name server, and retrieves the reply.  With a local, caching "
"DNS server, the query only has to be made once to the outside world by the "
"caching DNS server.  Additional queries will not have to go outside the "
"local network, since the information is cached locally."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1944
#, no-wrap
msgid "DNS Server Configuration"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1949
msgid ""
"Unbound is provided in the FreeBSD base system.  By default, it will provide "
"DNS resolution to the local machine only.  While the base system package can "
"be configured to provide resolution services beyond the local machine, it is "
"recommended that such requirements be addressed by installing Unbound from "
"the FreeBSD Ports Collection."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1951
msgid "To enable Unbound, add the following to [.filename]#/etc/rc.conf#:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1955
#, fuzzy, no-wrap
msgid "local_unbound_enable=\"YES\"\n"
msgstr "local_unbound_enable=\"YES\"\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1958
msgid ""
"Any existing nameservers in [.filename]#/etc/resolv.conf# will be configured "
"as forwarders in the new Unbound configuration."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1964
msgid ""
"If any of the listed nameservers do not support DNSSEC, local DNS resolution "
"will fail.  Be sure to test each nameserver and remove any that fail the "
"test.  The following command will show the trust tree or a failure for a "
"nameserver running on `192.168.1.1`:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1968
#, no-wrap
msgid "% drill -S FreeBSD.org @192.168.1.1\n"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1972
msgid "Once each nameserver is confirmed to support DNSSEC, start Unbound:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1976
#, no-wrap
msgid "# service local_unbound onestart\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1980
msgid ""
"This will take care of updating [.filename]#/etc/resolv.conf# so that "
"queries for DNSSEC secured domains will now work.  For example, run the "
"following to validate the FreeBSD.org DNSSEC trust tree:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:1986
#, no-wrap
msgid ""
"% drill -S FreeBSD.org\n"
";; Number of trusted keys: 1\n"
";; Chasing: freebsd.org. A\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2002
#, no-wrap
msgid ""
"DNSSEC Trust tree:\n"
"freebsd.org. (A)\n"
"|---freebsd.org. (DNSKEY keytag: 36786 alg: 8 flags: 256)\n"
"    |---freebsd.org. (DNSKEY keytag: 32659 alg: 8 flags: 257)\n"
"    |---freebsd.org. (DS keytag: 32659 digest type: 2)\n"
"        |---org. (DNSKEY keytag: 49587 alg: 7 flags: 256)\n"
"            |---org. (DNSKEY keytag: 9795 alg: 7 flags: 257)\n"
"            |---org. (DNSKEY keytag: 21366 alg: 7 flags: 257)\n"
"            |---org. (DS keytag: 21366 digest type: 1)\n"
"            |   |---. (DNSKEY keytag: 40926 alg: 8 flags: 256)\n"
"            |       |---. (DNSKEY keytag: 19036 alg: 8 flags: 257)\n"
"            |---org. (DS keytag: 21366 digest type: 2)\n"
"                |---. (DNSKEY keytag: 40926 alg: 8 flags: 256)\n"
"                    |---. (DNSKEY keytag: 19036 alg: 8 flags: 257)\n"
";; Chase successful\n"
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2004
#, fuzzy, no-wrap
#| msgid "Server Configuration"
msgid "Authoritative Name Server Configuration"
msgstr "服务器设定"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2007
msgid ""
"FreeBSD does not provide authoritative name server software in the base "
"system.  Users are encouraged to install third party applications, like "
"package:dns/nsd[] or package:dns/bind918[] package or port."
msgstr ""

#. type: Title ==
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2009
#, no-wrap
msgid "Apache HTTP Server"
msgstr "Apache HTTP服务器"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2013
msgid ""
"The open source Apache HTTP Server is the most widely used web server.  "
"FreeBSD does not install this web server by default, but it can be installed "
"from the package:www/apache24[] package or port."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2016
msgid ""
"This section summarizes how to configure and start version 2._x_ of the "
"Apache HTTP Server on FreeBSD.  For more detailed information about Apache 2."
"X and its configuration directives, refer to http://httpd.apache.org/[httpd."
"apache.org]."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2017
#, no-wrap
msgid "Configuring and Starting Apache"
msgstr "设定并启动Apache"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2022
msgid ""
"In FreeBSD, the main Apache HTTP Server configuration file is installed as [."
"filename]#/usr/local/etc/apache2x/httpd.conf#, where _x_ represents the "
"version number.  This ASCII text file begins comment lines with a `+#+`.  "
"The most frequently modified directives are:"
msgstr ""

#. type: Labeled list
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2023
#, no-wrap
msgid "`ServerRoot \"/usr/local\"`"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2026
msgid ""
"Specifies the default directory hierarchy for the Apache installation.  "
"Binaries are stored in the [.filename]#bin# and [.filename]#sbin# "
"subdirectories of the server root and configuration files are stored in the "
"[.filename]#etc/apache2x# subdirectory."
msgstr ""

#. type: Labeled list
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2027
#, no-wrap
msgid "`ServerAdmin you@example.com`"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2030
#, fuzzy
#| msgid ""
#| "Change this to the email address to receive problems with the server. "
#| "This address also appears on some server-generated pages, such as error "
#| "documents."
msgid ""
"Change this to the email address to receive problems with the server.  This "
"address also appears on some server-generated pages, such as error documents."
msgstr ""
"更改此项目为您要接收问题回报的电子邮件位址，这个位址也会显示在一些服务器产生"
"的页面上，如：错误页面。"

#. type: Labeled list
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2031
#, no-wrap
msgid "`ServerName www.example.com:80`"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2036
msgid ""
"Allows an administrator to set a hostname which is sent back to clients for "
"the server.  For example, `www` can be used instead of the actual hostname.  "
"If the system does not have a registered DNS name, enter its IP address "
"instead.  If the server will listen on an alternate report, change `80` to "
"the alternate port number."
msgstr ""

#. type: Labeled list
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2037
#, no-wrap
msgid "`DocumentRoot \"/usr/local/www/apache2_x_/data\"`"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2040
#, fuzzy
#| msgid ""
#| "The directory where documents will be served from. By default, all "
#| "requests are taken from this directory, but symbolic links and aliases "
#| "may be used to point to other locations."
msgid ""
"The directory where documents will be served from.  By default, all requests "
"are taken from this directory, but symbolic links and aliases may be used to "
"point to other locations."
msgstr ""
"提供文件的目录，预设所有的请求均会到此目录，但可以使用符号连接与别名来指向其"
"他地方。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2044
msgid ""
"It is always a good idea to make a backup copy of the default Apache "
"configuration file before making changes.  When the configuration of Apache "
"is complete, save the file and verify the configuration using `apachectl`.  "
"Running `apachectl configtest` should return `Syntax OK`."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2046
msgid ""
"To launch Apache at system startup, add the following line to [.filename]#/"
"etc/rc.conf#:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2050
#, no-wrap
msgid "apache24_enable=\"YES\"\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2053
msgid ""
"If Apache should be started with non-default options, the following line may "
"be added to [.filename]#/etc/rc.conf# to specify the needed flags:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2057
#, no-wrap
msgid "apache24_flags=\"\"\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2060
msgid "If apachectl does not report configuration errors, start `httpd` now:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2064
#, no-wrap
msgid "# service apache24 start\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2068
msgid ""
"The `httpd` service can be tested by entering `http://_localhost_` in a web "
"browser, replacing _localhost_ with the fully-qualified domain name of the "
"machine running `httpd`.  The default web page that is displayed is [."
"filename]#/usr/local/www/apache24/data/index.html#."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2070
msgid ""
"The Apache configuration can be tested for errors after making subsequent "
"configuration changes while `httpd` is running using the following command:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2074
#, no-wrap
msgid "# service apache24 configtest\n"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2079
msgid ""
"It is important to note that `configtest` is not an man:rc[8] standard, and "
"should not be expected to work for all startup scripts."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2081
#, no-wrap
msgid "Virtual Hosting"
msgstr "虚拟主机"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2087
msgid ""
"Virtual hosting allows multiple websites to run on one Apache server.  The "
"virtual hosts can be _IP-based_ or _name-based_.  IP-based virtual hosting "
"uses a different IP address for each website.  Name-based virtual hosting "
"uses the clients HTTP/1.1 headers to figure out the hostname, which allows "
"the websites to share the same IP address."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2090
msgid ""
"To setup Apache to use name-based virtual hosting, add a `VirtualHost` block "
"for each website.  For example, for the webserver named `www.domain.tld` "
"with a virtual domain of `www.someotherdomain.tld`, add the following "
"entries to [.filename]#httpd.conf#:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2097
#, no-wrap
msgid ""
"<VirtualHost *>\n"
"    ServerName www.domain.tld\n"
"    DocumentRoot /www/domain.tld\n"
"</VirtualHost>\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2102
#, no-wrap
msgid ""
"<VirtualHost *>\n"
"    ServerName www.someotherdomain.tld\n"
"    DocumentRoot /www/someotherdomain.tld\n"
"</VirtualHost>\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2105
msgid ""
"For each virtual host, replace the values for `ServerName` and "
"`DocumentRoot` with the values to be used."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2107
msgid ""
"For more information about setting up virtual hosts, consult the official "
"Apache documentation at: http://httpd.apache.org/docs/vhosts/[http://httpd."
"apache.org/docs/vhosts/]."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2108
#, no-wrap
msgid "Apache Modules"
msgstr "Apache模块"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2112
msgid ""
"Apache uses modules to augment the functionality provided by the basic "
"server.  Refer to http://httpd.apache.org/docs/current/mod/[http://httpd."
"apache.org/docs/current/mod/] for a complete listing of and the "
"configuration details for the available modules."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2117
#, fuzzy
msgid ""
"In FreeBSD, some modules can be compiled with the package:www/apache24[] "
"port.  Type `make config` within [.filename]#/usr/ports/www/apache24# to see "
"which modules are available and which are enabled by default.  If the module "
"is not compiled with the port, the FreeBSD Ports Collection provides an easy "
"way to install many modules.  This section describes three of the most "
"commonly used modules."
msgstr ""
"在FreeBSD中有些模块可以随着<package>www/apache24</package> Port编译，只要在"
"<filename>/usr/ports/www/apache24</filename>输入<command>make config</"
"command>便可查看有那一些模块是预设开启的，若模块未与Port一并编译，FreeBSD "
"Port套件集也提供了一个简单的方式可安装各种模块，本节将介绍最常使用的三个模"
"块。"

#. type: Title ====
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2118
#, no-wrap
msgid "SSL support"
msgstr "SSL 支持"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2125
#, fuzzy
msgid ""
"At one point, support for SSL inside of Apache required a secondary module "
"called [.filename]#mod_ssl#.  This is no longer the case and the default "
"install of Apache comes with SSL built into the web server.  An example of "
"how to enable support for SSL websites is available in the installed file, [."
"filename]#httpd-ssl.conf# inside of the [.filename]#/usr/local/etc/apache24/"
"extra# directory Inside this directory is also a sample file called named [."
"filename]#ssl.conf-sample#.  It is recommended that both files be evaluated "
"to properly set up secure websites in the Apache web server."
msgstr ""
"以前 Apache 的 <acronym>SSL</acronym> 支持借助需要 <filename>mod_ssl</"
"filename> 模块。现在不再是这样了，Apache的默认安装已经在Web服务器中内置了"
"<acronym>SSL</acronym>支持。在<filename role=\"directory\">/usr/local/etc/"
"apache24/extra</filename>目录下的<filename>httpd-ssl.conf</filename>文件中，"
"有个<acronym>SSL</acronym>网站的示例配置。在这个目录下还有一个名为"
"<filename>ssl.conf-sample</filename>的示例文件。建议对这两个文件进行评估，以"
"便在Apache Web服务器中正确设置安全网站。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2127
#, fuzzy
msgid ""
"After the configuration of SSL is complete, the following line must be "
"uncommented in the main [.filename]#http.conf# to activate the changes on "
"the next restart or reload of Apache:"
msgstr ""
"当 <acronym>SSL</acronym> 配置完成后，必须在 <filename>http.conf</filename> "
"主文件中删除以下行，以便在下一次重启或重新加载Apache时激活更改："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2131
#, fuzzy, no-wrap
msgid "#Include etc/apache24/extra/httpd-ssl.conf\n"
msgstr "#Include etc/apache24/extra/httpd-ssl.conf\n"

#. type: delimited block = 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2138
#, fuzzy
msgid ""
"SSL version two and version three have known vulnerability issues.  It is "
"highly recommended TLS version 1.2 and 1.3 be enabled in place of the older "
"SSL options.  This can be accomplished by setting the following options in "
"the [.filename]#ssl.conf#:"
msgstr ""
"<acronym>SSL</acronym> 第二版和第三版存在漏洞。强烈建议启用 TLS 1.2 和 1.3 版"
"本来代替旧版 SSL 选项。这可以通过在 <filename>ssl.conf</filename> 中设置以下"
"选项来实现："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2145
#, fuzzy, no-wrap
msgid ""
"SSLProtocol all -SSLv3 -SSLv2 +TLSv1.2 +TLSv1.3\n"
"SSLProxyProtocol all -SSLv2 -SSLv3 -TLSv1 -TLSv1.1\n"
msgstr ""
"SSLProtocol all -SSLv3 -SSLv2 +TLSv1.2 +TLSv1.3\n"
"SSLProxyProtocol all -SSLv2 -SSLv3 -TLSv1 -TLSv1.1\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2148
msgid ""
"To complete the configuration of SSL in the web server, uncomment the "
"following line to ensure that the configuration will be pulled into Apache "
"during restart or reload:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2153
#, fuzzy, no-wrap
msgid ""
"# Secure (SSL/TLS) connections\n"
"Include etc/apache24/extra/httpd-ssl.conf\n"
msgstr ""
"# Secure (SSL/TLS) connections\n"
"Include etc/apache24/extra/httpd-ssl.conf\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2156
msgid ""
"The following lines must also be uncommented in the [.filename]#httpd.conf# "
"to fully support SSL in Apache:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2162
#, fuzzy, no-wrap
msgid ""
"LoadModule authn_socache_module libexec/apache24/mod_authn_socache.so\n"
"LoadModule socache_shmcb_module libexec/apache24/mod_socache_shmcb.so\n"
"LoadModule ssl_module libexec/apache24/mod_ssl.so\n"
msgstr ""
"LoadModule authn_socache_module libexec/apache24/mod_authn_socache.so\n"
"LoadModule socache_shmcb_module libexec/apache24/mod_socache_shmcb.so\n"
"LoadModule ssl_module libexec/apache24/mod_ssl.so\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2166
#, fuzzy
#| msgid ""
#| "The next step is to work with a certificate authority to have the "
#| "appropriate certificates installed on the system. This will set up a "
#| "chain of trust for the site and prevent any warnings of self-signed "
#| "certificates."
msgid ""
"The next step is to work with a certificate authority to have the "
"appropriate certificates installed on the system.  This will set up a chain "
"of trust for the site and prevent any warnings of self-signed certificates."
msgstr ""
"下一步是与证书机构合作，在系统上安装相应的证书。这将为网站建立一个信任链，并"
"防止任何自签证书的警告。"

#. type: Title ====
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2167
#, no-wrap
msgid "[.filename]#mod_perl#"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2171
msgid ""
"The [.filename]#mod_perl# module makes it possible to write Apache modules "
"in Perl.  In addition, the persistent interpreter embedded in the server "
"avoids the overhead of starting an external interpreter and the penalty of "
"Perl start-up time."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2174
msgid ""
"The [.filename]#mod_perl# can be installed using the package:www/mod_perl2[] "
"package or port.  Documentation for using this module can be found at http://"
"perl.apache.org/docs/2.0/index.html[http://perl.apache.org/docs/2.0/index."
"html]."
msgstr ""

#. type: Title ====
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2175
#, no-wrap
msgid "[.filename]#mod_php#"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2179
msgid ""
"_PHP: Hypertext Preprocessor_ (PHP) is a general-purpose scripting language "
"that is especially suited for web development.  Capable of being embedded "
"into HTML, its syntax draws upon C, Java(TM), and Perl with the intention of "
"allowing web developers to write dynamically generated webpages quickly."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2181
msgid ""
"Support for PHP for Apache and any other feature written in the language, "
"can be added by installing the appropriate port."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2183
msgid "For all supported versions, search the package database using `pkg`:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2187
#, no-wrap
msgid "# pkg search php\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2192
#, fuzzy
msgid ""
"A list will be displayed including the versions and additional features they "
"provide.  The components are completely modular, meaning features are "
"enabled by installing the appropriate port.  To install PHP version 7.4 for "
"Apache, issue the following command:"
msgstr ""
"将显示一个列表，内涵版本号和功能说明。这些组件是完全模块化的，这意味着通过安"
"装相应的 Port 来启用功能。要安装<acronym>PHP</acronym>7.4版本的Apache，请执行"
"以下命令："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2196
#, no-wrap
msgid "# pkg install mod_php74\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2199
msgid ""
"If any dependency packages need to be installed, they will be installed as "
"well."
msgstr "其他依赖包也可以用此方法安装。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2202
msgid ""
"By default, PHP will not be enabled.  The following lines will need to be "
"added to the Apache configuration file located in [.filename]#/usr/local/etc/"
"apache24# to make it active:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2211
#, no-wrap
msgid ""
"<FilesMatch \"\\.php$\">\n"
"    SetHandler application/x-httpd-php\n"
"</FilesMatch>\n"
"<FilesMatch \"\\.phps$\">\n"
"    SetHandler application/x-httpd-php-source\n"
"</FilesMatch>\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2214
#, fuzzy
msgid ""
"In addition, the `DirectoryIndex` in the configuration file will also need "
"to be updated and Apache will either need to be restarted or reloaded for "
"the changes to take effect."
msgstr ""
"此外，配置文件中的 <option>DirectoryIndex</option> 也需要更新，Apache需要重新"
"启动或重新加载才能生效。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2217
msgid ""
"Support for many of the PHP features may also be installed by using `pkg`.  "
"For example, to install support for XML or SSL, install their respective "
"ports:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2221
#, no-wrap
msgid "# pkg install php74-xml php74-openssl\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2224
msgid ""
"As before, the Apache configuration will need to be reloaded for the changes "
"to take effect, even in cases where it was just a module install."
msgstr ""
"和之前一样，Apache的配置需要重新加载才能生效，即使在只是安装模块的情况下也是"
"如此。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2226
msgid ""
"To perform a graceful restart to reload the configuration, issue the "
"following command:"
msgstr "使用以下命令重启 Apache 来载入配置文件："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2230
#, no-wrap
msgid "# apachectl graceful\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2234
#, fuzzy
msgid ""
"Once the install is complete, there are two methods of obtaining the "
"installed PHP support modules and the environmental information of the "
"build.  The first is to install the full PHP binary and running the command "
"to gain the information:"
msgstr ""
"安装完成后，有两种方法可以获得 <acronym>PHP</acronym> 支持模块信息和当前版本"
"的编译参数。第一种是安装完整的 <acronym>PHP</acronym> 二进制程序并执行命令获"
"取信息："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2238
#, no-wrap
msgid "# pkg install php74\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2244
#, no-wrap
msgid "# php -i |less\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2247
msgid ""
"It is necessary to pass the output to a pager, such as the `more` or `less` "
"to easier digest the amount of output."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2251
msgid ""
"Finally, to make any changes to the global configuration of PHP there is a "
"well documented file installed into [.filename]#/usr/local/etc/php.ini#.  At "
"the time of install, this file will not exist because there are two versions "
"to choose from, one is [.filename]#php.ini-development# and the other is [."
"filename]#php.ini-production#.  These are starting points to assist "
"administrators in their deployment."
msgstr ""

#. type: Title ====
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2252
#, no-wrap
msgid "HTTP2 Support"
msgstr "HTTP2 支持"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2257
msgid ""
"Apache support for the HTTP2 protocol is included by default when installing "
"the port with `pkg`.  The new version of HTTP includes many improvements "
"over the previous version, including utilizing a single connection to a "
"website, reducing overall roundtrips of TCP connections.  Also, packet "
"header data is compressed and HTTP2 requires encryption by default."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2260
msgid ""
"When Apache is configured to only use HTTP2, web browsers will require "
"secure, encrypted HTTPS connections.  When Apache is configured to use both "
"versions, HTTP1.1 will be considered a fall back option if any issues arise "
"during the connection."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2263
#, fuzzy
msgid ""
"While this change does require administrators to make changes, they are "
"positive and equate to a more secure Internet for everyone.  The changes are "
"only required for sites not currently implementing SSL and TLS."
msgstr ""
"虽然这一变化需要管理员做出，但它们是积极的，为每个人提供了一个更安全的互联网"
"连接。只有目前没有使用<acronym>SSL</acronym>和<acronym>TLS</acronym>的网站才"
"需要进行更改。"

#. type: delimited block = 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2268
msgid ""
"This configuration depends on the previous sections, including TLS support.  "
"It is recommended those instructions be followed before continuing with this "
"configuration."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2271
msgid ""
"Start the process by enabling the http2 module by uncommenting the line in [."
"filename]#/usr/local/etc/apache24/httpd.conf# and replace the mpm_prefork "
"module with mpm_event as the former does not support HTTP2."
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2276
#, fuzzy, no-wrap
msgid ""
"LoadModule http2_module libexec/apache24/mod_http2.so\n"
"LoadModule mpm_event_module libexec/apache24/mod_mpm_event.so\n"
msgstr ""
"LoadModule http2_module libexec/apache24/mod_http2.so\n"
"LoadModule mpm_event_module libexec/apache24/mod_mpm_event.so\n"

#. type: delimited block = 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2284
msgid ""
"There is a separate [.filename]#mod_http2# port that is available.  It "
"exists to deliver security and bug fixes quicker than the module installed "
"with the bundled [.filename]#apache24# port.  It is not required for HTTP2 "
"support but is available.  When installed, the [.filename]#mod_h2.so# should "
"be used in place of [.filename]#mod_http2.so# in the Apache configuration."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2288
msgid ""
"There are two methods to implement HTTP2 in Apache; one way is globally for "
"all sites and each VirtualHost running on the system.  To enable HTTP2 "
"globally, add the following line under the ServerName directive:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2292
#, fuzzy, no-wrap
msgid "Protocols h2 http/1.1\n"
msgstr "Protocols h2 http/1.1\n"

#. type: delimited block = 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2297
msgid ""
"To enable HTTP2 over plaintext, use h2h2chttp/1.1 in the [.filename]#httpd."
"conf#."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2301
msgid ""
"Having the h2c here will allow plaintext HTTP2 data to pass on the system "
"but is not recommended.  In addition, using the http/1.1 here will allow "
"fallback to the HTTP1.1 version of the protocol should it be needed by the "
"system."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2303
msgid ""
"To enable HTTP2 for individual VirtualHosts, add the same line within the "
"VirtualHost directive in either [.filename]#httpd.conf# or [.filename]#httpd-"
"ssl.conf#."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2305
#, fuzzy
msgid ""
"Reload the configuration using the `apachectl`[parameter]#reload# command "
"and test the configuration either by using either of the following methods "
"after visiting one of the hosted pages:"
msgstr ""
"使用<command>apachectl</command> <parameter>reload</parameter>命令重新加载配"
"置，并在访问其中一个托管页面后使用以下任一方法测试配置："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2309
#, no-wrap
msgid "# grep \"HTTP/2.0\" /var/log/httpd-access.log\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2312
msgid "This should return something similar to the following:"
msgstr "返回结果像这样："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2319
#, fuzzy, no-wrap
msgid ""
"192.168.1.205 - - [18/Oct/2020:18:34:36 -0400] \"GET / HTTP/2.0\" 304 -\n"
"192.0.2.205 - - [18/Oct/2020:19:19:57 -0400] \"GET / HTTP/2.0\" 304 -\n"
"192.0.0.205 - - [18/Oct/2020:19:20:52 -0400] \"GET / HTTP/2.0\" 304 -\n"
"192.0.2.205 - - [18/Oct/2020:19:23:10 -0400] \"GET / HTTP/2.0\" 304 -\n"
msgstr ""
"192.168.1.205 - - [18/Oct/2020:18:34:36 -0400] \"GET / HTTP/2.0\" 304 -\n"
"192.0.2.205 - - [18/Oct/2020:19:19:57 -0400] \"GET / HTTP/2.0\" 304 -\n"
"192.0.0.205 - - [18/Oct/2020:19:20:52 -0400] \"GET / HTTP/2.0\" 304 -\n"
"192.0.2.205 - - [18/Oct/2020:19:23:10 -0400] \"GET / HTTP/2.0\" 304 -\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2322
msgid ""
"The other method is using the web browser's built in site debugger or "
"`tcpdump`; however, using either method is beyond the scope of this document."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2325
msgid ""
"Support for HTTP2 reverse proxy connections by using the [."
"filename]#mod_proxy_http2.so# module.  When configuring the ProxyPass or "
"RewriteRules [P] statements, they should use h2:// for the connection."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2326
#, no-wrap
msgid "Dynamic Websites"
msgstr "动态网站"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2330
msgid ""
"In addition to mod_perl and mod_php, other languages are available for "
"creating dynamic web content.  These include Django and Ruby on Rails."
msgstr ""

#. type: Title ====
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2331
#, no-wrap
msgid "Django"
msgstr "Django"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2337
#, fuzzy
msgid ""
"Django is a BSD-licensed framework designed to allow developers to write "
"high performance, elegant web applications quickly.  It provides an object-"
"relational mapper so that data types are developed as Python objects.  A "
"rich dynamic database-access API is provided for those objects without the "
"developer ever having to write SQL.  It also provides an extensible template "
"system so that the logic of the application is separated from the HTML "
"presentation."
msgstr ""
"<application>Django</application>是以BSD授权的框架（Framework），指在让开发人"
"员能快速的写出高效、优雅的网页应用程序。它提供了物件关联对应器（Object-"
"relational mapper），所以各种数据型态可当做<application>Python</application>"
"的物件来开发，且提供了丰富的动态数据库存取<acronym>API</acronym>给这些物件，"
"让开发人员不再需要写<acronym>SQL</acronym>。它也同时提供了可扩充的样板系统，"
"来让应用程序的逻辑与<acronym>HTML</acronym>呈现能够被拆开。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2341
msgid ""
"Django depends on [.filename]#mod_python#, and an SQL database engine.  In "
"FreeBSD, the package:www/py-django[] port automatically installs [."
"filename]#mod_python# and supports the PostgreSQL, MySQL, or SQLite "
"databases, with the default being SQLite.  To change the database engine, "
"type `make config` within [.filename]#/usr/ports/www/py-django#, then "
"install the port."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2344
msgid ""
"Once Django is installed, the application will need a project directory "
"along with the Apache configuration in order to use the embedded Python "
"interpreter.  This interpreter is used to call the application for specific "
"URLs on the site."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2346
msgid ""
"To configure Apache to pass requests for certain URLs to the web "
"application, add the following to [.filename]#httpd.conf#, specifying the "
"full path to the project directory:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2357
#, no-wrap
msgid ""
"<Location \"/\">\n"
"    SetHandler python-program\n"
"    PythonPath \"['/dir/to/the/django/packages/'] + sys.path\"\n"
"    PythonHandler django.core.handlers.modpython\n"
"    SetEnv DJANGO_SETTINGS_MODULE mysite.settings\n"
"    PythonAutoReload On\n"
"    PythonDebug On\n"
"</Location>\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2360
msgid ""
"Refer to https://docs.djangoproject.com[https://docs.djangoproject.com] for "
"more information on how to use Django."
msgstr ""

#. type: Title ====
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2361
#, no-wrap
msgid "Ruby on Rails"
msgstr "Ruby on Rails"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2366
#, fuzzy
msgid ""
"Ruby on Rails is another open source web framework that provides a full "
"development stack.  It is optimized to make web developers more productive "
"and capable of writing powerful applications quickly.  On FreeBSD, it can be "
"installed using the package:www/rubygem-rails[] package or port."
msgstr ""
"<application>Ruby on Rails</application>是另外一套开放源码的网站框架"
"（Framework），提供了完整的开发堆叠，这使得网页开发人员可以更有生产力且能够快"
"速的写出强大的应用程序，在FreeBSD它可以使用<package>www/rubygem-rails</"
"package>套件或Port安装。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2368
msgid ""
"Refer to http://guides.rubyonrails.org[http://guides.rubyonrails.org] for "
"more information on how to use Ruby on Rails."
msgstr ""

#. type: Title ==
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2370
#, no-wrap
msgid "File Transfer Protocol (FTP)"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2374
msgid ""
"The File Transfer Protocol (FTP) provides users with a simple way to "
"transfer files to and from an FTP server.  FreeBSD includes FTP server "
"software, ftpd, in the base system."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2378
msgid ""
"FreeBSD provides several configuration files for controlling access to the "
"FTP server.  This section summarizes these files.  Refer to man:ftpd[8] for "
"more details about the built-in FTP server."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2379
#, no-wrap
msgid "Configuration"
msgstr "设置"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2385
#, fuzzy
msgid ""
"The most important configuration step is deciding which accounts will be "
"allowed access to the FTP server.  A FreeBSD system has a number of system "
"accounts which should not be allowed FTP access.  The list of users "
"disallowed any FTP access can be found in [.filename]#/etc/ftpusers#. By "
"default, it includes system accounts.  Additional users that should not be "
"allowed access to FTP can be added."
msgstr ""
"最重要的一个设定步骤便是决定那些帐号能够存取<acronym>FTP</acronym>服务器，"
"FreeBSD系统有数个系统帐号，这些帐号不应该能够拥有<acronym>FTP</acronym>存取"
"权，不允许存取<acronym>FTP</acronym>的使用者清单可在<filename>/etc/ftpusers</"
"filename>找到，预设该文件内会有所有的系统帐号，其他不应允许存取<acronym>FTP</"
"acronym>的使用者也可在此加入。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2389
msgid ""
"In some cases it may be desirable to restrict the access of some users "
"without preventing them completely from using FTP.  This can be accomplished "
"be creating [.filename]#/etc/ftpchroot# as described in man:ftpchroot[5].  "
"This file lists users and groups subject to FTP access restrictions."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2394
msgid ""
"To enable anonymous FTP access to the server, create a user named `ftp` on "
"the FreeBSD system.  Users will then be able to log on to the FTP server "
"with a username of `ftp` or `anonymous`.  When prompted for the password, "
"any input will be accepted, but by convention, an email address should be "
"used as the password.  The FTP server will call man:chroot[2] when an "
"anonymous user logs in, to restrict access to only the home directory of the "
"`ftp` user."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2399
#, fuzzy
msgid ""
"There are two text files that can be created to specify welcome messages to "
"be displayed to FTP clients.  The contents of [.filename]#/etc/ftpwelcome# "
"will be displayed to users before they reach the login prompt.  After a "
"successful login, the contents of [.filename]#/etc/ftpmotd# will be "
"displayed.  Note that the path to this file is relative to the login "
"environment, so the contents of [.filename]#~ftp/etc/ftpmotd# would be "
"displayed for anonymous users."
msgstr ""
"要设定显示给<acronym>FTP</acronym>客户端的欢迎信息有两个文字档可以建立，"
"<filename>/etc/ftpwelcome</filename>的内容会在收到登入提示前显示给使用者看，"
"登入成功能后，则会显示<filename>/etc/ftpmotd</filename>的内容。注意，这个文件"
"的路径是相对于登入环境的，所以<filename>~ftp/etc/ftpmotd</filename>的内容只会"
"对匿名使用者显示。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2401
msgid ""
"Once the FTP server has been configured, set the appropriate variable in [."
"filename]#/etc/rc.conf# to start the service during boot:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2405
#, fuzzy, no-wrap
msgid "ftpd_enable=\"YES\"\n"
msgstr "ftpd_enable=\"YES\"\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2408
msgid "To start the service now:"
msgstr "要立即启动服务可："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2412
#, no-wrap
msgid "# service ftpd start\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2415
msgid "Test the connection to the FTP server by typing:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2419
#, no-wrap
msgid "% ftp localhost\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2424
msgid ""
"The ftpd daemon uses man:syslog[3] to log messages.  By default, the system "
"log daemon will write messages related to FTP in [.filename]#/var/log/"
"xferlog#.  The location of the FTP log can be modified by changing the "
"following line in [.filename]#/etc/syslog.conf#:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2428
#, fuzzy, no-wrap
msgid "ftp.info      /var/log/xferlog\n"
msgstr "ftp.info      /var/log/xferlog\n"

#. type: delimited block = 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2437
#, fuzzy
msgid ""
"Be aware of the potential problems involved with running an anonymous FTP "
"server.  In particular, think twice about allowing anonymous users to upload "
"files.  It may turn out that the FTP site becomes a forum for the trade of "
"unlicensed commercial software or worse.  If anonymous FTP uploads are "
"required, then verify the permissions so that these files cannot be read by "
"other anonymous users until they have been reviewed by an administrator."
msgstr ""
"要注意启动匿名<acronym>FTP</acronym>服务器可能的潜藏问题，尤其是要让匿名使用"
"者上传文件时要再次确认，因为这可能让该<acronym>FTP</acronym>站变成用来交换未"
"授权商业软件的交流平台或者更糟的状况。若真的需要匿名<acronym>FTP</acronym>上"
"传，那么请检查权限设定，让这些文件在尚未被管理者审查前不能够被其他匿名使用者"
"读取。"

#. type: Title ==
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2440
#, no-wrap
msgid "File and Print Services for Microsoft(R) Windows(R) Clients (Samba)"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2447
msgid ""
"Samba is a popular open source software package that provides file and print "
"services using the SMB/CIFS protocol.  This protocol is built into "
"Microsoft(R) Windows(R) systems.  It can be added to non-Microsoft(R) "
"Windows(R) systems by installing the Samba client libraries.  The protocol "
"allows clients to access shared data and printers.  These shares can be "
"mapped as a local disk drive and shared printers can be used as if they were "
"local printers."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2450
msgid ""
"On FreeBSD, the Samba client libraries can be installed using the package:"
"net/samba413[] port or package.  The client provides the ability for a "
"FreeBSD system to access SMB/CIFS shares in a Microsoft(R) Windows(R) "
"network."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2453
msgid ""
"A FreeBSD system can also be configured to act as a Samba server by "
"installing the same package:net/samba413[] port or package.  This allows the "
"administrator to create SMB/CIFS shares on the FreeBSD system which can be "
"accessed by clients running Microsoft(R) Windows(R) or the Samba client "
"libraries."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2454
#, no-wrap
msgid "Server Configuration"
msgstr "服务器设定"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2458
msgid ""
"Samba is configured in [.filename]#/usr/local/etc/smb4.conf#.  This file "
"must be created before Samba can be used."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2461
msgid ""
"A simple [.filename]#smb4.conf# to share directories and printers with "
"Windows(R) clients in a workgroup is shown here.  For more complex setups "
"involving LDAP or Active Directory, it is easier to use man:samba-tool[8] to "
"create the initial [.filename]#smb4.conf#."
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2471
#, no-wrap
msgid ""
"[global]\n"
"workgroup = WORKGROUP\n"
"server string = Samba Server Version %v\n"
"netbios name = ExampleMachine\n"
"wins support = Yes\n"
"security = user\n"
"passdb backend = tdbsam\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2483
#, no-wrap
msgid ""
"# Example: share /usr/src accessible only to 'developer' user\n"
"[src]\n"
"path = /usr/src\n"
"valid users = developer\n"
"writable  = yes\n"
"browsable = yes\n"
"read only = no\n"
"guest ok = no\n"
"public = no\n"
"create mask = 0666\n"
"directory mask = 0755\n"
msgstr ""

#. type: Title ====
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2486
#, no-wrap
msgid "Global Settings"
msgstr "全局设定"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2489
#, fuzzy
msgid ""
"Settings that describe the network are added in [.filename]#/usr/local/etc/"
"smb4.conf#:"
msgstr ""
"在<filename>/usr/local/etc/smb4.conf</filename>中加入用来描述网络环境的设定"
"有："

#. type: Labeled list
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2490
#, no-wrap
msgid "`workgroup`"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2492
msgid "The name of the workgroup to be served."
msgstr "要提供的工作群组名称。"

#. type: Labeled list
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2493
#, no-wrap
msgid "`netbios name`"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2496
msgid ""
"The NetBIOS name by which a Samba server is known.  By default, it is the "
"same as the first component of the host's DNS name."
msgstr ""

#. type: Labeled list
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2497
#, no-wrap
msgid "`server string`"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2499
msgid ""
"The string that will be displayed in the output of `net view` and some other "
"networking tools that seek to display descriptive text about the server."
msgstr ""

#. type: Labeled list
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2500
#, no-wrap
msgid "`wins support`"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2503
msgid ""
"Whether Samba will act as a WINS server.  Do not enable support for WINS on "
"more than one server on the network."
msgstr ""

#. type: Title ====
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2505
#, no-wrap
msgid "Security Settings"
msgstr "安全性设定"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2509
#, fuzzy
msgid ""
"The most important settings in [.filename]#/usr/local/etc/smb4.conf# are the "
"security model and the backend password format.  These directives control "
"the options:"
msgstr ""
"在<filename>/usr/local/etc/smb4.conf</filename>中最重要的设定便是安全性模式以"
"及后端密码格式，以下项目管控的选项有："

#. type: Labeled list
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2510
#, no-wrap
msgid "`security`"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2514
#, fuzzy
msgid ""
"The most common settings are `security = share` and `security = user`.  If "
"the clients use usernames that are the same as their usernames on the "
"FreeBSD machine, user level security should be used.  This is the default "
"security policy and it requires clients to first log on before they can "
"access shared resources."
msgstr ""
"最常见的设定为<literal>security = share</literal>以及<literal>security = "
"user</literal>，若客户端使用的使用者名称与在FreeBSD主机上使用的使用者名称相"
"同，则应该使用使用者（user）层级的安全性，这是预设的安全性原则且它会要求客户"
"端在存取共享资源前先登入。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2517
msgid ""
"In share level security, clients do not need to log onto the server with a "
"valid username and password before attempting to connect to a shared "
"resource.  This was the default security model for older versions of Samba."
msgstr ""

#. type: Labeled list
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2518
#, no-wrap
msgid "`passdb backend`"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2524
#, fuzzy
msgid ""
"Samba has several different backend authentication models.  Clients may be "
"authenticated with LDAP, NIS+, an SQL database, or a modified password "
"file.  The recommended authentication method, `tdbsam`, is ideal for simple "
"networks and is covered here.  For larger or more complex networks, "
"`ldapsam` is recommended.  `smbpasswd` was the former default and is now "
"obsolete."
msgstr ""
"<application>Samba</application>支持数种不同的后端认证模式，客户端可以使用"
"LDAP，NIS+，SQL数据库或修改过的密码档来认证，建议的认证方式是"
"<literal>tdbsam</literal>，适用于简易的网络环境且在此处说明，对于较大或更复杂"
"的网络则较建议使用<literal>ldapsam</literal>，而<literal> smbpasswd</literal>"
"是旧版的预设值，现在已废弃不使用。"

#. type: Title ====
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2525
#, no-wrap
msgid "Samba Users"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2529
msgid ""
"FreeBSD user accounts must be mapped to the `SambaSAMAccount` database for "
"Windows(R) clients to access the share.  Map existing FreeBSD user accounts "
"using man:pdbedit[8]:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2533
#, no-wrap
msgid "# pdbedit -a -u username\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2537
msgid ""
"This section has only mentioned the most commonly used settings.  Refer to "
"the https://wiki.samba.org[Official Samba Wiki] for additional information "
"about the available configuration options."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2538
#, no-wrap
msgid "Starting Samba"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2541
msgid ""
"To enable Samba at boot time, add the following line to [.filename]#/etc/rc."
"conf#:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2545
#, fuzzy, no-wrap
msgid "samba_server_enable=\"YES\"\n"
msgstr "samba_server_enable=\"YES\"\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2548
msgid "To start Samba now:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2555
#, no-wrap
msgid ""
"# service samba_server start\n"
"Performing sanity check on Samba configuration: OK\n"
"Starting nmbd.\n"
"Starting smbd.\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2560
msgid ""
"Samba consists of three separate daemons.  Both the nmbd and smbd daemons "
"are started by `samba_enable`.  If winbind name resolution is also required, "
"set:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2564
#, fuzzy, no-wrap
msgid "winbindd_enable=\"YES\"\n"
msgstr "winbindd_enable=\"YES\"\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2567
msgid "Samba can be stopped at any time by typing:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2571
#, no-wrap
msgid "# service samba_server stop\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2575
msgid ""
"Samba is a complex software suite with functionality that allows broad "
"integration with Microsoft(R) Windows(R) networks.  For more information "
"about functionality beyond the basic configuration described here, refer to "
"https://www.samba.org[https://www.samba.org]."
msgstr ""

#. type: Title ==
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2577
#, no-wrap
msgid "Clock Synchronization with NTP"
msgstr "NTP时间校对"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2583
#, fuzzy
msgid ""
"Over time, a computer's clock is prone to drift.  This is problematic as "
"many network services require the computers on a network to share the same "
"accurate time.  Accurate time is also needed to ensure that file timestamps "
"stay consistent.  The Network Time Protocol (NTP) is one way to provide "
"clock accuracy in a network."
msgstr ""
"随着使用时间，电脑的时钟会逐渐偏移，这对需要网络上电脑有相同准确度时间的许多"
"网络服务来说是一个大问题。准确的时间同样能确保文件时间戳记的一致性。网络时间"
"协定（Network Time Protocol，<acronym>NTP</acronym>）是一种在网路上可以确保时"
"间准确的方式。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2585
msgid ""
"FreeBSD includes man:ntpd[8] which can be configured to query other NTP "
"servers to synchronize the clock on that machine or to provide time services "
"to other computers in the network."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2588
msgid ""
"This section describes how to configure ntpd on FreeBSD.  Further "
"documentation can be found in [.filename]#/usr/share/doc/ntp/# in HTML "
"format."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2589
#, no-wrap
msgid "NTP Configuration"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2593
msgid ""
"On FreeBSD, the built-in ntpd can be used to synchronize a system's clock.  "
"ntpd is configured using man:rc.conf[5] variables and [.filename]#/etc/ntp."
"conf#, as detailed in the following sections."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2596
msgid ""
"ntpd communicates with its network peers using UDP packets.  Any firewalls "
"between your machine and its NTP peers must be configured to allow UDP "
"packets in and out on port 123."
msgstr ""

#. type: Title ====
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2597
#, no-wrap
msgid "The [.filename]#/etc/ntp.conf# file"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2607
msgid ""
"ntpd reads [.filename]#/etc/ntp.conf# to determine which NTP servers to "
"query.  Choosing several NTP servers is recommended in case one of the "
"servers becomes unreachable or its clock proves unreliable.  As ntpd "
"receives responses, it favors reliable servers over the less reliable ones.  "
"The servers which are queried can be local to the network, provided by an "
"ISP, or selected from an http://support.ntp.org/bin/view/Servers/"
"WebHome[ online list of publicly accessible NTP servers].  When choosing a "
"public NTP server, select one that is geographically close and review its "
"usage policy.  The `pool` configuration keyword selects one or more servers "
"from a pool of servers.  An http://support.ntp.org/bin/view/Servers/"
"NTPPoolServers[ online list of publicly accessible NTP pools] is available, "
"organized by geographic area.  In addition, FreeBSD provides a project-"
"sponsored pool, `0.freebsd.pool.ntp.org`."
msgstr ""

#. type: Block title
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2608
#, no-wrap
msgid "Sample [.filename]#/etc/ntp.conf#"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2613
#, fuzzy
msgid ""
"This is a simple example of an [.filename]#ntp.conf# file.  It can safely be "
"used as-is; it contains the recommended `restrict` options for operation on "
"a publicly-accessible network connection."
msgstr ""
"这是一个<filename>ntp.conf</filename>文件的简单示例。它可以安全地直接使用；它"
"包含公网连接上操作的建议 <literal>restrict</literal> 选项。"

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2621
#, no-wrap
msgid ""
"# Disallow ntpq control/query access.  Allow peers to be added only\n"
"# based on pool and server statements in this file.\n"
"restrict default limited kod nomodify notrap noquery nopeer\n"
"restrict source  limited kod nomodify notrap noquery\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2625
#, no-wrap
msgid ""
"# Allow unrestricted access from localhost for queries and control.\n"
"restrict 127.0.0.1\n"
"restrict ::1\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2628
#, no-wrap
msgid ""
"# Add a specific server.\n"
"server ntplocal.example.com iburst\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2632
#, no-wrap
msgid ""
"# Add FreeBSD pool servers until 3-6 good servers are available.\n"
"tos minclock 3 maxclock 6\n"
"pool 0.freebsd.pool.ntp.org iburst\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2635
#, no-wrap
msgid ""
"# Use a local leap-seconds file.\n"
"leapfile \"/var/db/ntpd.leap-seconds.list\"\n"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2641
msgid ""
"The format of this file is described in man:ntp.conf[5].  The descriptions "
"below provide a quick overview of just the keywords used in the sample file "
"above."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2647
msgid ""
"By default, an NTP server is accessible to any network host.  The `restrict` "
"keyword controls which systems can access the server.  Multiple `restrict` "
"entries are supported, each one refining the restrictions given in previous "
"statements.  The values shown in the example grant the local system full "
"query and control access, while allowing remote systems only the ability to "
"query the time.  For more details, refer to the `Access Control Support` "
"subsection of man:ntp.conf[5]."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2653
msgid ""
"The `server` keyword specifies a single server to query.  The file can "
"contain multiple server keywords, with one server listed on each line.  The "
"`pool` keyword specifies a pool of servers.  ntpd will add one or more "
"servers from this pool as needed to reach the number of peers specified "
"using the `tos minclock` value.  The `iburst` keyword directs ntpd to "
"perform a burst of eight quick packet exchanges with a server when contact "
"is first established, to help quickly synchronize system time."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2657
msgid ""
"The `leapfile` keyword specifies the location of a file containing "
"information about leap seconds.  The file is updated automatically by man:"
"periodic[8].  The file location specified by this keyword must match the "
"location set in the `ntp_db_leapfile` variable in [.filename]#/etc/rc.conf#."
msgstr ""

#. type: Title ====
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2658
#, no-wrap
msgid "NTP entries in [.filename]#/etc/rc.conf#"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2662
msgid ""
"Set `ntpd_enable=YES` to start ntpd at boot time.  Once `ntpd_enable=YES` "
"has been added to [.filename]#/etc/rc.conf#, ntpd can be started immediately "
"without rebooting the system by typing:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2666
#, no-wrap
msgid "# service ntpd start\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2670
msgid ""
"Only `ntpd_enable` must be set to use ntpd.  The [.filename]#rc.conf# "
"variables listed below may also be set as needed."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2674
msgid ""
"Set `ntpd_sync_on_start=YES` to allow ntpd to step the clock any amount, one "
"time at startup.  Normally ntpd will log an error message and exit if the "
"clock is off by more than 1000 seconds.  This option is especially useful on "
"systems without a battery-backed realtime clock."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2676
msgid ""
"Set `ntpd_oomprotect=YES` to protect the ntpd daemon from being killed by "
"the system attempting to recover from an Out Of Memory (OOM) condition."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2678
msgid ""
"Set `ntpd_config=` to the location of an alternate [.filename]#ntp.conf# "
"file."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2680
msgid ""
"Set `ntpd_flags=` to contain any other ntpd flags as needed, but avoid using "
"these flags which are managed internally by [.filename]#/etc/rc.d/ntpd#:"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2682
msgid "`-p` (pid file location)"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2683
msgid "`-c` (set `ntpd_config=` instead)"
msgstr ""

#. type: Title ====
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2685
#, no-wrap
msgid "ntpd and the unpriveleged `ntpd` user"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2692
msgid ""
"ntpd on FreeBSD can start and run as an unpriveleged user.  Doing so "
"requires the man:mac_ntpd[4] policy module.  The [.filename]#/etc/rc.d/ntpd# "
"startup script first examines the NTP configuration.  If possible, it loads "
"the `mac_ntpd` module, then starts ntpd as unpriveleged user `ntpd` (user id "
"123).  To avoid problems with file and directory access, the startup script "
"will not automatically start ntpd as `ntpd` when the configuration contains "
"any file-related options."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2694
msgid ""
"The presence of any of the following in `ntpd_flags` requires manual "
"configuration as described below to run as the `ntpd` user:"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2696
msgid "-f or --driftfile"
msgstr "-f or --driftfile"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2697
msgid "-i or --jaildir"
msgstr "-i or --jaildir"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2698
msgid "-k or --keyfile"
msgstr "-k or --keyfile"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2699
msgid "-l or --logfile"
msgstr "-l or --logfile"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2700
msgid "-s or --statsdir"
msgstr "-s or --statsdir"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2702
msgid ""
"The presence of any of the following keywords in [.filename]#ntp.conf# "
"requires manual configuration as described below to run as the `ntpd` user:"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2704
msgid "crypto"
msgstr "crypto"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2705
msgid "driftfile"
msgstr "driftfile"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2706
msgid "key"
msgstr "key"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2707
msgid "logdir"
msgstr "logdir"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2708
msgid "statsdir"
msgstr "statsdir"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2710
msgid "To manually configure ntpd to run as user `ntpd` you must:"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2712
msgid ""
"Ensure that the `ntpd` user has access to all the files and directories "
"specified in the configuration."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2713
msgid ""
"Arrange for the `mac_ntpd` module to be loaded or compiled into the kernel. "
"See man:mac_ntpd[4] for details."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2714
msgid "Set `ntpd_user=\"ntpd\"` in [.filename]#/etc/rc.conf#"
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2715
#, no-wrap
msgid "Using NTP with a PPP Connection"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2720
msgid ""
"ntpd does not need a permanent connection to the Internet to function "
"properly.  However, if a PPP connection is configured to dial out on demand, "
"NTP traffic should be prevented from triggering a dial out or keeping the "
"connection alive.  This can be configured with `filter` directives in [."
"filename]#/etc/ppp/ppp.conf#. For example:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2731
#, fuzzy, no-wrap
msgid ""
"set filter dial 0 deny udp src eq 123\n"
"# Prevent NTP traffic from initiating dial out\n"
"set filter dial 1 permit 0 0\n"
"set filter alive 0 deny udp src eq 123\n"
"# Prevent incoming NTP traffic from keeping the connection open\n"
"set filter alive 1 deny udp dst eq 123\n"
"# Prevent outgoing NTP traffic from keeping the connection open\n"
"set filter alive 2 permit 0/0 0/0\n"
msgstr ""
"set filter dial 0 deny udp src eq 123\n"
"# Prevent NTP traffic from initiating dial out\n"
"set filter dial 1 permit 0 0\n"
"set filter alive 0 deny udp src eq 123\n"
"# Prevent incoming NTP traffic from keeping the connection open\n"
"set filter alive 1 deny udp dst eq 123\n"
"# Prevent outgoing NTP traffic from keeping the connection open\n"
"set filter alive 2 permit 0/0 0/0\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2734
msgid ""
"For more details, refer to the `PACKET FILTERING` section in man:ppp[8] and "
"the examples in [.filename]#/usr/share/examples/ppp/#."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2738
msgid ""
"Some Internet access providers block low-numbered ports, preventing NTP from "
"functioning since replies never reach the machine."
msgstr ""
"部份网际网络存取提供商会封锁较小编号的端口，这会让NTP无法运作，因为响应永远无"
"到传送到该主机。"

#. type: Title ==
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2741
#, no-wrap
msgid "iSCSI Initiator and Target Configuration"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2745
msgid ""
"iSCSI is a way to share storage over a network.  Unlike NFS, which works at "
"the file system level, iSCSI works at the block device level."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2749
msgid ""
"In iSCSI terminology, the system that shares the storage is known as the "
"_target_.  The storage can be a physical disk, or an area representing "
"multiple disks or a portion of a physical disk.  For example, if the disk(s) "
"are formatted with ZFS, a zvol can be created to use as the iSCSI storage."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2753
msgid ""
"The clients which access the iSCSI storage are called _initiators_.  To "
"initiators, the storage available through iSCSI appears as a raw, "
"unformatted disk known as a LUN.  Device nodes for the disk appear in [."
"filename]#/dev/# and the device must be separately formatted and mounted."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2756
msgid ""
"FreeBSD provides a native, kernel-based iSCSI target and initiator.  This "
"section describes how to configure a FreeBSD system as a target or an "
"initiator."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2758
#, no-wrap
msgid "Configuring an iSCSI Target"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2761
msgid ""
"To configure an iSCSI target, create the [.filename]#/etc/ctl.conf# "
"configuration file, add a line to [.filename]#/etc/rc.conf# to make sure the "
"man:ctld[8] daemon is automatically started at boot, and then start the "
"daemon."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2764
msgid ""
"The following is an example of a simple [.filename]#/etc/ctl.conf# "
"configuration file.  Refer to man:ctl.conf[5] for a complete description of "
"this file's available options."
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2772
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2850
#, no-wrap
msgid ""
"portal-group pg0 {\n"
"\tdiscovery-auth-group no-authentication\n"
"\tlisten 0.0.0.0\n"
"\tlisten [::]\n"
"}\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2776
#, no-wrap
msgid ""
"target iqn.2012-06.com.example:target0 {\n"
"\tauth-group no-authentication\n"
"\tportal-group pg0\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2782
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2880
#, no-wrap
msgid ""
"\tlun 0 {\n"
"\t\tpath /data/target0-0\n"
"\t\tsize 4G\n"
"\t}\n"
"}\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2788
msgid ""
"The first entry defines the `pg0` portal group.  Portal groups define which "
"network addresses the man:ctld[8] daemon will listen on.  The `discovery-"
"auth-group no-authentication` entry indicates that any initiator is allowed "
"to perform iSCSI target discovery without authentication.  Lines three and "
"four configure man:ctld[8] to listen on all IPv4 (`listen 0.0.0.0`) and IPv6 "
"(`listen [::]`) addresses on the default port of 3260."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2791
msgid ""
"It is not necessary to define a portal group as there is a built-in portal "
"group called `default`.  In this case, the difference between `default` and "
"`pg0` is that with `default`, target discovery is always denied, while with "
"`pg0`, it is always allowed."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2799
#, fuzzy
msgid ""
"The second entry defines a single target.  Target has two possible meanings: "
"a machine serving iSCSI or a named group of LUNs.  This example uses the "
"latter meaning, where `iqn.2012-06.com.example:target0` is the target name.  "
"This target name is suitable for testing purposes.  For actual use, change "
"`com.example` to the real domain name, reversed.  The `2012-06` represents "
"the year and month of acquiring control of that domain name, and `target0` "
"can be any value.  Any number of targets can be defined in this "
"configuration file."
msgstr ""
"第二个条目定义了一个单一目标。目标有两种可能的含义：服务于<acronym>iSCSI</"
"acronym>的机器或命名的<acronym>LUNs</acronym>组。这个例子使用了后一种含义，其"
"中<literal>iqn.2012-06.com.examplease:target0</literal>是目标名称。这个目标名"
"称适用于测试目的。实际使用时，将<literal>com.example</literal>改为真正的域"
"名，反过来。<literal>2012-06</literal>表示获得该域名控制权的年月，"
"<literal>target0</literal>可以是任意值。在这个配置文件中可以定义任意数量的目"
"标。"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2801
msgid ""
"The `auth-group no-authentication` line allows all initiators to connect to "
"the specified target and `portal-group pg0` makes the target reachable "
"through the `pg0` portal group."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2809
msgid ""
"The next section defines the LUN.  To the initiator, each LUN will be "
"visible as a separate disk device.  Multiple LUNs can be defined for each "
"target.  Each LUN is identified by a number, where LUN 0 is mandatory.  The "
"`path /data/target0-0` line defines the full path to a file or zvol backing "
"the LUN.  That path must exist before starting man:ctld[8].  The second line "
"is optional and specifies the size of the LUN."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2811
msgid ""
"Next, to make sure the man:ctld[8] daemon is started at boot, add this line "
"to [.filename]#/etc/rc.conf#:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2815
#, fuzzy, no-wrap
msgid "ctld_enable=\"YES\"\n"
msgstr "ctld_enable=\"YES\"\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2818
msgid "To start man:ctld[8] now, run this command:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2822
#, no-wrap
msgid "# service ctld start\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2826
msgid ""
"As the man:ctld[8] daemon is started, it reads [.filename]#/etc/ctl.conf#.  "
"If this file is edited after the daemon starts, use this command so that the "
"changes take effect immediately:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2830
#, no-wrap
msgid "# service ctld reload\n"
msgstr ""

#. type: Title ====
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2833
#, no-wrap
msgid "Authentication"
msgstr "认证"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2837
#, fuzzy
#| msgid ""
#| "The previous example is inherently insecure as it uses no authentication, "
#| "granting anyone full access to all targets. To require a username and "
#| "password to access targets, modify the configuration as follows:"
msgid ""
"The previous example is inherently insecure as it uses no authentication, "
"granting anyone full access to all targets.  To require a username and "
"password to access targets, modify the configuration as follows:"
msgstr ""
"前面的例子本质上是不安全的，因为它不使用身份验证，允许任何人完全访问所有目"
"标。若要要求使用用户名和密码来访问目标，请修改配置如下："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2844
#, no-wrap
msgid ""
"auth-group ag0 {\n"
"\tchap username1 secretsecret\n"
"\tchap username2 anothersecret\n"
"}\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2859
#, no-wrap
msgid ""
"target iqn.2012-06.com.example:target0 {\n"
"\tauth-group ag0\n"
"\tportal-group pg0\n"
"\tlun 0 {\n"
"\t\tpath /data/target0-0\n"
"\t\tsize 4G\n"
"\t}\n"
"}\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2865
msgid ""
"The `auth-group` section defines username and password pairs.  An initiator "
"trying to connect to `iqn.2012-06.com.example:target0` must first specify a "
"defined username and secret.  However, target discovery is still permitted "
"without authentication.  To require target discovery authentication, set "
"`discovery-auth-group` to a defined `auth-group` name instead of `no-"
"authentication`."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2868
#, fuzzy
#| msgid ""
#| "It is common to define a single exported target for every initiator. As a "
#| "shorthand for the syntax above, the username and password can be "
#| "specified directly in the target entry:"
msgid ""
"It is common to define a single exported target for every initiator.  As a "
"shorthand for the syntax above, the username and password can be specified "
"directly in the target entry:"
msgstr ""
"常见的做法是为每个发起者定义一个单一的导出目标。作为上述语法的速记，可以在目"
"标条目中直接指定用户名和密码："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2874
#, no-wrap
msgid ""
"target iqn.2012-06.com.example:target0 {\n"
"\tportal-group pg0\n"
"\tchap username1 secretsecret\n"
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2884
#, no-wrap
msgid "Configuring an iSCSI Initiator"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2890
msgid ""
"The iSCSI initiator described in this section is supported starting with "
"FreeBSD 10.0-RELEASE.  To use the iSCSI initiator available in older "
"versions, refer to man:iscontrol[8]."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2895
msgid ""
"The iSCSI initiator requires that the man:iscsid[8] daemon is running.  This "
"daemon does not use a configuration file.  To start it automatically at "
"boot, add this line to [.filename]#/etc/rc.conf#:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2899
#, fuzzy, no-wrap
msgid "iscsid_enable=\"YES\"\n"
msgstr "iscsid_enable=\"YES\"\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2902
msgid "To start man:iscsid[8] now, run this command:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2906
#, no-wrap
msgid "# service iscsid start\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2910
#, fuzzy
msgid ""
"Connecting to a target can be done with or without an [.filename]#/etc/iscsi."
"conf# configuration file.  This section demonstrates both types of "
"connections."
msgstr ""
"可以用<filename>/etc/iscsi.conf</filename>配置文件连接到目标，也可以不使用。"
"本节演示了两种连接类型。"

#. type: Title ====
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2911
#, no-wrap
msgid "Connecting to a Target Without a Configuration File"
msgstr "不使用配置文件联机到Target"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2914
msgid ""
"To connect an initiator to a single target, specify the IP address of the "
"portal and the name of the target:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2918
#, no-wrap
msgid "# iscsictl -A -p 10.10.10.10 -t iqn.2012-06.com.example:target0\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2922
msgid ""
"To verify if the connection succeeded, run `iscsictl` without any "
"arguments.  The output should look similar to this:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2927
#, fuzzy, no-wrap
msgid ""
"Target name                                     Target portal   State\n"
"iqn.2012-06.com.example:target0                 10.10.10.10     Connected: da0\n"
msgstr ""
"Target name                                     Target portal   State\n"
"iqn.2012-06.com.example:target0                 10.10.10.10     Connected: da0\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2931
msgid ""
"In this example, the iSCSI session was successfully established, with [."
"filename]#/dev/da0# representing the attached LUN.  If the `iqn.2012-06.com."
"example:target0` target exports more than one LUN, multiple device nodes "
"will be shown in that section of the output:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2935
#, fuzzy, no-wrap
msgid "Connected: da0 da1 da2.\n"
msgstr "Connected: da0 da1 da2.\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2939
msgid ""
"Any errors will be reported in the output, as well as the system logs.  For "
"example, this message usually means that the man:iscsid[8] daemon is not "
"running:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2944
#, fuzzy, no-wrap
msgid ""
"Target name                                     Target portal   State\n"
"iqn.2012-06.com.example:target0                 10.10.10.10     Waiting for iscsid(8)\n"
msgstr ""
"Target name                                     Target portal   State\n"
"iqn.2012-06.com.example:target0                 10.10.10.10     Waiting for iscsid(8)\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2947
msgid ""
"The following message suggests a networking problem, such as a wrong IP "
"address or port:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2952
#, fuzzy, no-wrap
msgid ""
"Target name                                     Target portal   State\n"
"iqn.2012-06.com.example:target0                 10.10.10.11     Connection refused\n"
msgstr ""
"Target name                                     Target portal   State\n"
"iqn.2012-06.com.example:target0                 10.10.10.11     Connection refused\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2955
msgid "This message means that the specified target name is wrong:"
msgstr "这条消息表示目标名字（target name）错误："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2960
#, fuzzy, no-wrap
msgid ""
"Target name                                     Target portal   State\n"
"iqn.2012-06.com.example:target0                 10.10.10.10     Not found\n"
msgstr ""
"Target name                                     Target portal   State\n"
"iqn.2012-06.com.example:target0                 10.10.10.10     Not found\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2963
msgid "This message means that the target requires authentication:"
msgstr "此消息表示目标需要身份验证："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2968
#, fuzzy, no-wrap
msgid ""
"Target name                                     Target portal   State\n"
"iqn.2012-06.com.example:target0                 10.10.10.10     Authentication failed\n"
msgstr ""
"Target name                                     Target portal   State\n"
"iqn.2012-06.com.example:target0                 10.10.10.10     Authentication failed\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2971
msgid "To specify a CHAP username and secret, use this syntax:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2975
#, no-wrap
msgid "# iscsictl -A -p 10.10.10.10 -t iqn.2012-06.com.example:target0 -u user -s secretsecret\n"
msgstr ""

#. type: Title ====
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2978
#, no-wrap
msgid "Connecting to a Target with a Configuration File"
msgstr "使用配置文件联机到Target"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2981
#, fuzzy
msgid ""
"To connect using a configuration file, create [.filename]#/etc/iscsi.conf# "
"with contents like this:"
msgstr ""
"若需使用配置文件进行连接，请创建 <filename> /etc/iscsi.conf </filename>，内容"
"如下："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2991
#, fuzzy, no-wrap
msgid ""
"t0 {\n"
"\tTargetAddress   = 10.10.10.10\n"
"\tTargetName      = iqn.2012-06.com.example:target0\n"
"\tAuthMethod      = CHAP\n"
"\tchapIName       = user\n"
"\tchapSecret      = secretsecret\n"
"}\n"
msgstr ""
"t0 {\n"
"\tTargetAddress   = 10.10.10.10\n"
"\tTargetName      = iqn.2012-06.com.example:target0\n"
"\tAuthMethod      = CHAP\n"
"\tchapIName       = user\n"
"\tchapSecret      = secretsecret\n"
"}\n"

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:2998
msgid ""
"The `t0` specifies a nickname for the configuration file section.  It will "
"be used by the initiator to specify which configuration to use.  The other "
"lines specify the parameters to use during connection.  The `TargetAddress` "
"and `TargetName` are mandatory, whereas the other options are optional.  In "
"this example, the CHAP username and secret are shown."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:3000
msgid "To connect to the defined target, specify the nickname:"
msgstr "使用昵称链接："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:3004
#, no-wrap
msgid "# iscsictl -An t0\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:3007
msgid ""
"Alternately, to connect to all targets defined in the configuration file, "
"use:"
msgstr "或使用以下命令连接到配置文件中的所有目标："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:3011
#, no-wrap
msgid "# iscsictl -Aa\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/network-servers/_index.adoc:3014
#, fuzzy
msgid ""
"To make the initiator automatically connect to all targets in [.filename]#/"
"etc/iscsi.conf#, add the following to [.filename]#/etc/rc.conf#:"
msgstr ""
"要使启动器自动连接到<filename>/etc/iscsi.conf</filename>中的所有目标，请在"
"<filename>/etc/rc.conf</filename>中添加以下内容："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/network-servers/_index.adoc:3019
#, fuzzy, no-wrap
msgid ""
"iscsictl_enable=\"YES\"\n"
"iscsictl_flags=\"-Aa\"\n"
msgstr ""
"iscsictl_enable=\"YES\"\n"
"iscsictl_flags=\"-Aa\"\n"

#, fuzzy, no-wrap
#~ msgid ""
#~ "rpc_lockd_enable=\"YES\"\n"
#~ "rpc_statd_enable=\"YES\"\n"
#~ msgstr ""
#~ "rpc_lockd_enable=\"YES\"\n"
#~ "rpc_statd_enable=\"YES\"\n"

#~ msgid "Then start the applications:"
#~ msgstr "然后使用下述命令启动该程序："
