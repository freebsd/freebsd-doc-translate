# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR The FreeBSD Project
# This file is distributed under the same license as the FreeBSD Documentation package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
msgid ""
msgstr ""
"Project-Id-Version: FreeBSD Documentation VERSION\n"
"POT-Creation-Date: 2021-03-14 11:02-0300\n"
"PO-Revision-Date: 2021-04-05 18:35+0000\n"
"Last-Translator: Anonymous <noreply@weblate.org>\n"
"Language-Team: Chinese (Traditional) <https://translate-dev.freebsd.org/"
"projects/documentation/booksporters-handbookspecialchapter/zh_TW/>\n"
"Language: zh_TW\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Plural-Forms: nplurals=1; plural=0;\n"
"X-Generator: Weblate 4.5.2\n"

#. type: YAML Front Matter: title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1
#, no-wrap
msgid "Chapter 6. Special Considerations"
msgstr ""

#. type: Title =
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:8
#, no-wrap
msgid "Special Considerations"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:33
msgid ""
"This section explains the most common things to consider when creating a "
"port."
msgstr ""

#. type: Title ==
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:35
#, no-wrap
msgid "Staging"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:38
msgid ""
"[.filename]#bsd.port.mk# expects ports to work with a \"stage directory\". "
"This means that a port must not install files directly to the regular "
"destination directories (that is, under `PREFIX`, for example) but instead "
"into a separate directory from which the package is then built. In many "
"cases, this does not require root privileges, making it possible to build "
"packages as an unprivileged user. With staging, the port is built and "
"installed into the stage directory, `STAGEDIR`. A package is created from "
"the stage directory and then installed on the system. Automake tools refer "
"to this concept as `DESTDIR`, but in FreeBSD, `DESTDIR` has a different "
"meaning (see <<porting-prefix,`PREFIX` and `DESTDIR`>>)."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:42
msgid ""
"No port _really_ needs to be root. It can mostly be avoided by using <<uses-"
"uidfix,`USES=uidfix`>>. If the port still runs commands like man:chown[8], "
"man:chgrp[1], or forces owner or group with man:install[1] then use <<uses-"
"fakeroot,`USES=fakeroot`>> to fake those calls. Some patching of the port's "
"[.filename]#Makefiles# will be needed."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:45
msgid ""
"Meta ports, or ports that do not install files themselves but only depend on "
"other ports, must avoid needlessly extracting the man:mtree[8] to the stage "
"directory. This is the basic directory layout of the package, and these "
"empty directories will be seen as orphans. To prevent man:mtree[8] "
"extraction, add this line:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:49
#, no-wrap
msgid "NO_MTREE=\tyes\n"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:54
msgid ""
"Metaports should use <<uses-metaport,`USES=metaport`>>. It sets up defaults "
"for ports that do not fetch, build, or install anything."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:57
msgid ""
"Staging is enabled by prepending `STAGEDIR` to paths used in the `pre-"
"install`, `do-install`, and `post-install` targets (see the examples through "
"the book). Typically, this includes `PREFIX`, `ETCDIR`, `DATADIR`, "
"`EXAMPLESDIR`, `MANPREFIX`, `DOCSDIR`, and so on. Directories should be "
"created as part of the `post-install` target. Avoid using absolute paths "
"whenever possible."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:61
msgid ""
"Ports that install kernel modules must prepend `STAGEDIR` to their "
"destination, by default [.filename]#/boot/modules#."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:64
#, no-wrap
msgid "Handling Symbolic Links"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:67
msgid ""
"When creating a symbolic link, relative ones are strongly recommended. Use `"
"${RLN}` to create relative symbolic links. It uses man:install[1] under the "
"hood to automatically figure out the relative link to create."
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:69
#, no-wrap
msgid "Create Relative Symbolic Links Automatically"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:73
msgid ""
"`${RLN}` uses man:install[1]'s relative symbolic feature which frees the "
"porter of computing the relative path."
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:79
#, no-wrap
msgid ""
"${RLN} ${STAGEDIR}${PREFIX}/lib/libfoo.so.42 ${STAGEDIR}${PREFIX}/lib/libfoo.so\n"
"${RLN} ${STAGEDIR}${PREFIX}/libexec/foo/bar ${STAGEDIR}${PREFIX}/bin/bar\n"
"${RLN} ${STAGEDIR}/var/cache/foo ${STAGEDIR}${PREFIX}/share/foo\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:82
msgid "Will generate:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:92
#, no-wrap
msgid ""
"% ls -lF ${STAGEDIR}${PREFIX}/lib\n"
"lrwxr-xr-x  1 nobody  nobody    181 Aug  3 11:27 libfoo.so@ -> libfoo.so.42\n"
"-rwxr-xr-x  1 nobody  nobody     15 Aug  3 11:24 libfoo.so.42*\n"
"% ls -lF ${STAGEDIR}${PREFIX}/bin\n"
"lrwxr-xr-x  1 nobody  nobody    181 Aug  3 11:27 bar@ -> ../libexec/foo/bar\n"
"% ls -lF ${STAGEDIRDIR}${PREFIX}/share\n"
"lrwxr-xr-x  1 nobody  nobody    181 Aug  3 11:27 foo@ -> ../../../var/cache/foo\n"
msgstr ""

#. type: Title ==
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:97
#, no-wrap
msgid "Bundled Libraries"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:100
msgid ""
"This section explains why bundled dependencies are considered bad and what "
"to do about them."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:102
#, no-wrap
msgid "Why Bundled Libraries Are Bad"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:105
msgid ""
"Some software requires the porter to locate third-party libraries and add "
"the required dependencies to the port. Other software bundles all necessary "
"libraries into the distribution file. The second approach seems easier at "
"first, but there are some serious drawbacks:"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:107
msgid ""
"This list is loosely based on the https://fedoraproject.org/wiki/Packaging:"
"No_Bundled_Libraries[Fedora] and http://wiki.gentoo.org/wiki/"
"Why_not_bundle_dependencies[Gentoo] wikis, both licensed under the http://"
"creativecommons.org/licenses/by-sa/3.0/[CC-BY-SA 3.0] license."
msgstr ""

#. type: Labeled list
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:108
#, no-wrap
msgid "Security"
msgstr "安全性"

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:110
msgid ""
"If vulnerabilities are found in the upstream library and fixed there, they "
"might not be fixed in the library bundled with the port. One reason could be "
"that the author is not aware of the problem. This means that the porter must "
"fix them, or upgrade to a non-vulnerable version, and send a patch to the "
"author. This all takes time, which results in software being vulnerable "
"longer than necessary. This in turn makes it harder to coordinate a fix "
"without unnecessarily leaking information about the vulnerability."
msgstr ""

#. type: Labeled list
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:111
#, no-wrap
msgid "Bugs"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:113
msgid ""
"This problem is similar to the problem with security in the last paragraph, "
"but generally less severe."
msgstr ""

#. type: Labeled list
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:114
#, no-wrap
msgid "Forking"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:116
msgid ""
"It is easier for the author to fork the upstream library once it is bundled. "
"While convenient on first sight, it means that the code diverges from "
"upstream making it harder to address security or other problems with the "
"software. A reason for this is that patching becomes harder."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:118
msgid ""
"Another problem of forking is that because code diverges from upstream, bugs "
"get solved over and over again instead of just once at a central location. "
"This defeats the idea of open source software in the first place."
msgstr ""

#. type: Labeled list
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:119
#, no-wrap
msgid "Symbol collision"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:121
msgid ""
"When a library is installed on the system, it might collide with the bundled "
"version. This can cause immediate errors at compile or link time. It can "
"also cause errors when running the program which might be harder to track "
"down. The latter problem could be caused because the versions of the two "
"libraries are incompatible."
msgstr ""

#. type: Labeled list
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:122
#, no-wrap
msgid "Licensing"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:124
msgid ""
"When bundling projects from different sources, license issues can arise more "
"easily, especially when licenses are incompatible."
msgstr ""

#. type: Labeled list
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:125
#, no-wrap
msgid "Waste of resources"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:127
msgid ""
"Bundled libraries waste resources on several levels. It takes longer to "
"build the actual application, especially if these libraries are already "
"present on the system. At run-time, they can take up unnecessary memory when "
"the system-wide library is already loaded by one program and the bundled "
"library is loaded by another program."
msgstr ""

#. type: Labeled list
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:128
#, no-wrap
msgid "Waste of effort"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:130
msgid ""
"When a library needs patches for FreeBSD, these patches have to be "
"duplicated again in the bundled library. This wastes developer time because "
"the patches might not apply cleanly. It can also be hard to notice that "
"these patches are required in the first place."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:132
#, no-wrap
msgid "What to do About Bundled Libraries"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:135
msgid ""
"Whenever possible, use the unbundled version of the library by adding a "
"`LIB_DEPENDS` to the port. If such a port does not exist yet, consider "
"creating it."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:137
msgid ""
"Only use bundled libraries if the upstream has a good track record on "
"security and using unbundled versions leads to overly complex patches."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:141
msgid ""
"In some very special cases, for example emulators, like Wine, a port has to "
"bundle libraries, because they are in a different architecture, or they have "
"been modified to fit the software's use. In that case, those libraries "
"should not be exposed to other ports for linking. Add `BUNDLE_LIBS=yes` to "
"the port's [.filename]#Makefile#. This will tell man:pkg[8] to not compute "
"provided libraries. Always ask the {portmgr} before adding this to a port."
msgstr ""

#. type: Title ==
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:144
#, no-wrap
msgid "Shared Libraries"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:147
msgid ""
"If the port installs one or more shared libraries, define a `USE_LDCONFIG` "
"make variable, which will instruct a [.filename]#bsd.port.mk# to run `"
"${LDCONFIG} -m` on the directory where the new library is installed (usually "
"[.filename]#PREFIX/lib#) during `post-install` target to register it into "
"the shared library cache. This variable, when defined, will also facilitate "
"addition of an appropriate `@exec /sbin/ldconfig -m` and `@unexec /sbin/"
"ldconfig -R` pair into [.filename]#pkg-plist#, so that a user who installed "
"the package can start using the shared library immediately and de-"
"installation will not cause the system to still believe the library is there."
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:151
#, no-wrap
msgid "USE_LDCONFIG=\tyes\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:154
msgid ""
"The default directory can be overridden by setting `USE_LDCONFIG` to a list "
"of directories into which shared libraries are to be installed. For example, "
"if the port installs shared libraries into [.filename]#PREFIX/lib/foo# and [."
"filename]#PREFIX/lib/bar# use this in [.filename]#Makefile#:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:158
#, no-wrap
msgid "USE_LDCONFIG=\t${PREFIX}/lib/foo ${PREFIX}/lib/bar\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:161
msgid ""
"Please double-check, often this is not necessary at all or can be avoided "
"through `-rpath` or setting `LD_RUN_PATH` during linking (see package:lang/"
"mosml[] for an example), or through a shell-wrapper which sets "
"`LD_LIBRARY_PATH` before invoking the binary, like package:www/seamonkey[] "
"does."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:163
msgid ""
"When installing 32-bit libraries on 64-bit system, use `USE_LDCONFIG32` "
"instead."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:165
msgid ""
"If the software uses <<using-autotools,autotools>>, and specifically "
"`libtool`, add <<uses-libtool,`USES=libtool`>>."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:167
msgid ""
"When the major library version number increments in the update to the new "
"port version, all other ports that link to the affected library must have "
"their `PORTREVISION` incremented, to force recompilation with the new "
"library version."
msgstr ""

#. type: Title ==
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:169
#, no-wrap
msgid "Ports with Distribution Restrictions or Legal Concerns"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:172
msgid ""
"Licenses vary, and some of them place restrictions on how the application "
"can be packaged, whether it can be sold for profit, and so on."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:176
msgid ""
"It is the responsibility of a porter to read the licensing terms of the "
"software and make sure that the FreeBSD project will not be held accountable "
"for violating them by redistributing the source or compiled binaries either "
"via FTP/HTTP or CD-ROM. If in doubt, please contact the {freebsd-ports}."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:179
msgid ""
"In situations like this, the variables described in the next sections can be "
"set."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:181
#, no-wrap
msgid "`NO_PACKAGE`"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:184
msgid ""
"This variable indicates that we may not generate a binary package of the "
"application. For instance, the license may disallow binary redistribution, "
"or it may prohibit distribution of packages created from patched sources."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:186
msgid ""
"However, the port's `DISTFILES` may be freely mirrored on FTP/HTTP. They may "
"also be distributed on a CD-ROM (or similar media) unless `NO_CDROM` is set "
"as well."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:188
msgid ""
"If the binary package is not generally useful, and the application must "
"always be compiled from the source code, use `NO_PACKAGE`. For example, if "
"the application has configuration information that is site specific hard "
"coded into it at compile time, set `NO_PACKAGE`."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:190
msgid ""
"Set `NO_PACKAGE` to a string describing the reason why the package cannot be "
"generated."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:192
#, no-wrap
msgid "`NO_CDROM`"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:195
msgid ""
"This variable alone indicates that, although we are allowed to generate "
"binary packages, we may put neither those packages nor the port's "
"`DISTFILES` onto a CD-ROM (or similar media) for resale. However, the binary "
"packages and the port's `DISTFILES` will still be available via FTP/HTTP."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:197
msgid ""
"If this variable is set along with `NO_PACKAGE`, then only the port's "
"`DISTFILES` will be available, and only via FTP/HTTP."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:199
msgid ""
"Set `NO_CDROM` to a string describing the reason why the port cannot be "
"redistributed on CD-ROM. For instance, use this if the port's license is for "
"\"non-commercial\" use only."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:201
#, no-wrap
msgid "`NOFETCHFILES`"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:204
msgid ""
"Files defined in `NOFETCHFILES` are not fetchable from any of "
"`MASTER_SITES`. An example of such a file is when the file is supplied on CD-"
"ROM by the vendor."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:206
msgid ""
"Tools which check for the availability of these files on `MASTER_SITES` have "
"to ignore these files and not report about them."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:208
#, no-wrap
msgid "`RESTRICTED`"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:211
msgid ""
"Set this variable alone if the application's license permits neither "
"mirroring the application's `DISTFILES` nor distributing the binary package "
"in any way."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:213
msgid ""
"Do not set `NO_CDROM` or `NO_PACKAGE` along with `RESTRICTED`, since the "
"latter variable implies the former ones."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:215
msgid ""
"Set `RESTRICTED` to a string describing the reason why the port cannot be "
"redistributed. Typically, this indicates that the port contains proprietary "
"software and that the user will need to manually download the `DISTFILES`, "
"possibly after registering for the software or agreeing to accept the terms "
"of an EULA."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:217
#, no-wrap
msgid "`RESTRICTED_FILES`"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:220
msgid ""
"When `RESTRICTED` or `NO_CDROM` is set, this variable defaults to `"
"${DISTFILES} ${PATCHFILES}`, otherwise it is empty. If only some of the "
"distribution files are restricted, then set this variable to list them."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:222
#, no-wrap
msgid "`LEGAL_TEXT`"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:225
msgid ""
"If the port has legal concerns not addressed by the above variables, set "
"`LEGAL_TEXT` to a string explaining the concern. For example, if special "
"permission was obtained for FreeBSD to redistribute the binary, this "
"variable must indicate so."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:227
#, no-wrap
msgid "[.filename]#/usr/ports/LEGAL# and `LEGAL`"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:230
msgid ""
"A port which sets any of the above variables must also be added to [."
"filename]#/usr/ports/LEGAL#. The first column is a glob which matches the "
"restricted distfiles. The second column is the port's origin. The third "
"column is the output of `make -VLEGAL`."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:232
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3825
#, no-wrap
msgid "Examples"
msgstr "範例"

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:235
msgid ""
"The preferred way to state \"the distfiles for this port must be fetched "
"manually\" is as follows:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:241
#, no-wrap
msgid ""
".if !exists(${DISTDIR}/${DISTNAME}${EXTRACT_SUFX})\n"
"IGNORE=\tmay not be redistributed because of licensing reasons. Please visit some-website to accept their license and download ${DISTFILES} into ${DISTDIR}\n"
".endif\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:244
msgid ""
"This both informs the user, and sets the proper metadata on the user's "
"machine for use by automated programs."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:246
msgid ""
"Note that this stanza must be preceded by an inclusion of [.filename]#bsd."
"port.pre.mk#."
msgstr ""

#. type: Title ==
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:248
#, no-wrap
msgid "Building Mechanisms"
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:251
#, no-wrap
msgid "Building Ports in Parallel"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:254
msgid ""
"The FreeBSD ports framework supports parallel building using multiple `make` "
"sub-processes, which allows SMP systems to utilize all of their available "
"CPU power, allowing port builds to be faster and more effective."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:256
msgid ""
"This is achieved by passing `-jX` flag to man:make[1] running on vendor "
"code. This is the default build behavior of ports. Unfortunately, not all "
"ports handle parallel building well and it may be required to explicitly "
"disable this feature by adding the `MAKE_JOBS_UNSAFE=yes` variable. It is "
"used when a port is known to be broken with `-jX` due to race conditions "
"causing intermittent build failures."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:260
msgid ""
"When setting `MAKE_JOBS_UNSAFE`, it is very important to explain either with "
"a comment in the [.filename]#Makefile#, or at least in the commit message, "
"_why_ the port does not build when enabling. Otherwise, it is almost "
"impossible to either fix the problem, or test if it has been fixed when "
"committing an update at a later date."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:263
#, no-wrap
msgid "`make`, `gmake`, and `imake`"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:266
msgid ""
"Several differing `make` implementations exist. Ported software often "
"requires a particular implementation, like GNU`make`, known in FreeBSD as "
"`gmake`."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:268
msgid "If the port uses GNU make, add `gmake` to `USES`."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:270
msgid ""
"`MAKE_CMD` can be used to reference the specific command configured by the "
"`USES` setting in the port's [.filename]#Makefile#. Only use `MAKE_CMD` "
"within the application [.filename]#Makefile#s in `WRKSRC` to call the `make` "
"implementation expected by the ported software."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:272
msgid ""
"If the port is an X application that uses imake to create [."
"filename]##Makefile##s from [.filename]##Imakefile##s, set `USES= imake`.. "
"See the <<uses-imake,`USES=imake`>> section of <<uses,Using `USES` Macros>> "
"for more details."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:274
msgid ""
"If the port's source [.filename]#Makefile# has something other than `all` as "
"the main build target, set `ALL_TARGET` accordingly. The same goes for "
"`install` and `INSTALL_TARGET`."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:276
#, no-wrap
msgid "`configure` Script"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:279
msgid ""
"If the port uses the `configure` script to generate [.filename]#Makefile# "
"from [.filename]#Makefile.in#, set `GNU_CONFIGURE=yes`. To give extra "
"arguments to the `configure` script (the default argument is `--prefix="
"${PREFIX} --infodir=${PREFIX}/${INFO_PATH} --mandir=${MANPREFIX}/man --build="
"${CONFIGURE_TARGET}`), set those extra arguments in `CONFIGURE_ARGS`. Extra "
"environment variables can be passed using `CONFIGURE_ENV`."
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:281
#, no-wrap
msgid "Variables for Ports That Use `configure`"
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:301
#, no-wrap
msgid ""
"| Variable\n"
"| Means\n"
"\n"
"|`GNU_CONFIGURE`\n"
"|The port uses `configure` script to prepare build.\n"
"\n"
"|`HAS_CONFIGURE`\n"
"|Same as `GNU_CONFIGURE`, except default configure target is not added to `CONFIGURE_ARGS`.\n"
"\n"
"|`CONFIGURE_ARGS`\n"
"|Additional arguments passed to `configure` script.\n"
"\n"
"|`CONFIGURE_ENV`\n"
"|Additional environment variables to be set for `configure` script run.\n"
"\n"
"|`CONFIGURE_TARGET`\n"
"|Override default configure target. Default value is `${MACHINE_ARCH}-portbld-freebsd${OSREL}`.\n"
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:304
#, no-wrap
msgid "Using `cmake`"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:307
msgid "For ports that use CMake, define `USES= cmake`."
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:309
#, no-wrap
msgid "Variables for Ports That Use `cmake`"
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:332
#, no-wrap
msgid ""
"| Variable\n"
"| Means\n"
"\n"
"|`CMAKE_ARGS`\n"
"|Port specific CMake flags to be passed to the `cmake` binary.\n"
"\n"
"|`CMAKE_ON`\n"
"|For each entry in `CMAKE_ON`, an enabled boolean value is added to `CMAKE_ARGS`. See <<using-cmake-example2>>.\n"
"\n"
"|`CMAKE_OFF`\n"
"|For each entry in `CMAKE_OFF`, a disabled boolean value is added to `CMAKE_ARGS`. See <<using-cmake-example2>>.\n"
"\n"
"|`CMAKE_BUILD_TYPE`\n"
"|Type of build (CMake predefined build profiles). Default is `Release`, or `Debug` if `WITH_DEBUG` is set.\n"
"\n"
"|`CMAKE_SOURCE_PATH`\n"
"|Path to the source directory. Default is `${WRKSRC}`.\n"
"\n"
"|`CONFIGURE_ENV`\n"
"|Additional environment variables to be set for the `cmake` binary.\n"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:335
#, no-wrap
msgid "Variables the Users Can Define for `cmake` Builds"
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:343
#, no-wrap
msgid ""
"| Variable\n"
"| Means\n"
"\n"
"|`CMAKE_NOCOLOR`\n"
"|Disables color build output. Default not set, unless `BATCH` or `PACKAGE_BUILDING` are set.\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:346
msgid ""
"CMake supports these build profiles: `Debug`, `Release`, `RelWithDebInfo` "
"and `MinSizeRel`. `Debug` and `Release` profiles respect system `\\*FLAGS`, "
"`RelWithDebInfo` and `MinSizeRel` will set `CFLAGS` to `-O2 -g` and `-Os -"
"DNDEBUG` correspondingly. The lower-cased value of `CMAKE_BUILD_TYPE` is "
"exported to `PLIST_SUB` and must be used if the port installs [.filename]#*."
"cmake# depending on the build type (see package:devel/kf5-kcrash[] for an "
"example). Please note that some projects may define their own build profiles "
"and/or force particular build type by setting `CMAKE_BUILD_TYPE` in [."
"filename]#CMakeLists.txt#. To make a port for such a project respect "
"`CFLAGS` and `WITH_DEBUG`, the `CMAKE_BUILD_TYPE` definitions must be "
"removed from those files."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:348
msgid ""
"Most CMake-based projects support an out-of-source method of building. The "
"out-of-source build for a port is the default setting. An in-source build "
"can be requested by using the `:insource` suffix. With out-of-source builds, "
"`CONFIGURE_WRKSRC`, `BUILD_WRKSRC` and `INSTALL_WRKSRC` will be set to `"
"${WRKDIR}/.build` and this directory will be used to keep all files "
"generated during configuration and build stages, leaving the source "
"directory intact."
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:350
#, no-wrap
msgid "`USES= cmake` Example"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:354
msgid ""
"This snippet demonstrates the use of CMake for a port. `CMAKE_SOURCE_PATH` "
"is not usually required, but can be set when the sources are not located in "
"the top directory, or if only a subset of the project is intended to be "
"built by the port."
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:359
#, no-wrap
msgid ""
"USES=\t\t\tcmake\n"
"CMAKE_SOURCE_PATH=\t${WRKSRC}/subproject\n"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:364
#, no-wrap
msgid "`CMAKE_ON` and `CMAKE_OFF`"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:368
msgid ""
"When adding boolean values to `CMAKE_ARGS`, it is easier to use the "
"`CMAKE_ON` and `CMAKE_OFF` variables instead. This:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:373
#, no-wrap
msgid ""
"CMAKE_ON=\tVAR1 VAR2\n"
"CMAKE_OFF=\tVAR3\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:376
msgid "Is equivalent to:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:380
#, no-wrap
msgid "CMAKE_ARGS=\t-DVAR1:BOOL=TRUE -DVAR2:BOOL=TRUE -DVAR3:BOOL=FALSE\n"
msgstr ""

#. type: delimited block = 6
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:385
msgid ""
"This is only for the default values off `CMAKE_ARGS`. The helpers described "
"in <<options-cmake_bool,`OPT_CMAKE_BOOL` and `OPT_CMAKE_BOOL_OFF`>> use the "
"same semantics, but for optional values."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:390
#, no-wrap
msgid "Using `scons`"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:393
msgid "If the port uses SCons, define `USES=scons`."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:395
msgid ""
"To make third party [.filename]#SConstruct# respect everything that is "
"passed to SCons in the environment (that is, most importantly, `CC/CXX/"
"CFLAGS/CXXFLAGS`), patch [.filename]#SConstruct# so build `Environment` is "
"constructed like this:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:399
#, no-wrap
msgid "env = Environment(**ARGUMENTS)\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:402
msgid "It may be then modified with `env.Append` and `env.Replace`."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:404
#, no-wrap
msgid "Building Rust Applications with `cargo`"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:407
msgid "For ports that use Cargo, define `USES=cargo`."
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:409
#, no-wrap
msgid "Variables the Users Can Define for `cargo` Builds"
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:503
#, no-wrap
msgid ""
"| Variable\n"
"| Default\n"
"| Description\n"
"\n"
"|`CARGO_CRATES`\n"
"|\n"
"|List of crates the port depends on. Each entry needs to have a format like `cratename-semver` for example, `libc-0.2.40`. Port maintainers can generate this list from [.filename]#Cargo.lock# using `make cargo-crates`. Manually bumping crate versions is possible but be mindful of transitive dependencies.\n"
"\n"
"|`CARGO_FEATURES`\n"
"|\n"
"|List of application features to build (space separated list). To deactivate all default features add the special token `--no-default-features` to `CARGO_FEATURES`. Manually passing it to `CARGO_BUILD_ARGS`, `CARGO_INSTALL_ARGS`, and `CARGO_TEST_ARGS` is not needed.\n"
"\n"
"|`CARGO_CARGOTOML`\n"
"|`${WRKSRC}/Cargo.toml`\n"
"|The path to the [.filename]#Cargo.toml# to use.\n"
"\n"
"|`CARGO_CARGOLOCK`\n"
"|`${WRKSRC}/Cargo.lock`\n"
"|The path to the [.filename]#Cargo.lock# to use for `make cargo-crates`. It is possible to specify more than one lock file when necessary.\n"
"\n"
"|`CARGO_ENV`\n"
"|\n"
"|A list of environment variables to pass to Cargo similar to `MAKE_ENV`.\n"
"\n"
"|`RUSTFLAGS`\n"
"|\n"
"|Flags to pass to the Rust compiler.\n"
"\n"
"|`CARGO_CONFIGURE`\n"
"|`yes`\n"
"|Use the default `do-configure`.\n"
"\n"
"|`CARGO_UPDATE_ARGS`\n"
"|\n"
"|Extra arguments to pass to Cargo during the configure phase. Valid arguments can be looked up with `cargo update --help`.\n"
"\n"
"|`CARGO_BUILDDEP`\n"
"|`yes`\n"
"|Add a build dependency on package:lang/rust[].\n"
"\n"
"|`CARGO_CARGO_BIN`\n"
"|`${LOCALBASE}/bin/cargo`\n"
"|Location of the `cargo` binary.\n"
"\n"
"|`CARGO_BUILD`\n"
"|`yes`\n"
"|Use the default `do-build`.\n"
"\n"
"|`CARGO_BUILD_ARGS`\n"
"|\n"
"|Extra arguments to pass to Cargo during the build phase. Valid arguments can be looked up with `cargo build --help`.\n"
"\n"
"|`CARGO_INSTALL`\n"
"|`yes`\n"
"|Use the default `do-install`.\n"
"\n"
"|`CARGO_INSTALL_ARGS`\n"
"|\n"
"|Extra arguments to pass to Cargo during the install phase. Valid arguments can be looked up with `cargo install --help`.\n"
"\n"
"|`CARGO_INSTALL_PATH`\n"
"|`.`\n"
"|Path to the crate to install. This is passed to `cargo install` via its `--path` argument. When multiple paths are specified `cargo install` is run multiple times.\n"
"\n"
"|`CARGO_TEST`\n"
"|`yes`\n"
"|Use the default `do-test`.\n"
"\n"
"|`CARGO_TEST_ARGS`\n"
"|\n"
"|Extra arguments to pass to Cargo during the test phase. Valid arguments can be looked up with `cargo test --help`.\n"
"\n"
"|`CARGO_TARGET_DIR`\n"
"|`${WRKDIR}/target`\n"
"|Location of the cargo output directory.\n"
"\n"
"|`CARGO_DIST_SUBDIR`\n"
"|[.filename]#rust/crates#\n"
"|Directory relative to `DISTDIR` where the crate distribution files will be stored.\n"
"\n"
"|`CARGO_VENDOR_DIR`\n"
"|`${WRKSRC}/cargo-crates`\n"
"|Location of the vendor directory where all crates will be extracted to. Try to keep this under `PATCH_WRKSRC`, so that patches can be applied easily.\n"
"\n"
"|`CARGO_USE_GITHUB`\n"
"|`no`\n"
"|Enable fetching of crates locked to specific Git commits on GitHub via `GH_TUPLE`. This will try to patch all [.filename]#Cargo.toml# under `WRKDIR` to point to the offline sources instead of fetching them from a Git repository during the build.\n"
"\n"
"|`CARGO_USE_GITLAB`\n"
"|`no`\n"
"|Same as `CARGO_USE_GITHUB` but for GitLab instances and `GL_TUPLE`.\n"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:506
#, no-wrap
msgid "Creating a Port for a Simple Rust Application"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:510
msgid ""
"Creating a Cargo based port is a three stage process. First we need to "
"provide a ports template that fetches the application distribution file:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:517
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:561
#, no-wrap
msgid ""
"PORTNAME=\ttokei\n"
"DISTVERSIONPREFIX=\tv\n"
"DISTVERSION=\t7.0.2\n"
"CATEGORIES=\tdevel\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:520
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:564
#, no-wrap
msgid ""
"MAINTAINER=\ttobik@FreeBSD.org\n"
"COMMENT=\tDisplay statistics about your code\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:524
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:568
#, no-wrap
msgid ""
"USES=\t\tcargo\n"
"USE_GITHUB=\tyes\n"
"GH_ACCOUNT=\tAaronepower\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:526
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:578
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:737
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:758
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:814
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:881
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1001
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1022
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1337
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3060
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3116
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3228
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3847
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3870
#, no-wrap
msgid ".include <bsd.port.mk>\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:529
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:761
msgid "Generate an initial [.filename]#distinfo#:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:537
#, no-wrap
msgid ""
"% make makesum\n"
"=> Aaronepower-tokei-v7.0.2_GH0.tar.gz doesn't seem to exist in /usr/ports/distfiles/.\n"
"=> Attempting to fetch https://codeload.github.com/Aaronepower/tokei/tar.gz/v7.0.2?dummy=/Aaronepower-tokei-v7.0.2_GH0.tar.gz\n"
"fetch: https://codeload.github.com/Aaronepower/tokei/tar.gz/v7.0.2?dummy=/Aaronepower-tokei-v7.0.2_GH0.tar.gz: size of remote file is not known\n"
"Aaronepower-tokei-v7.0.2_GH0.tar.gz                     45 kB  239 kBps 00m00s\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:540
msgid ""
"Now the distribution file is ready to use and we can go ahead and extract "
"crate dependencies from the bundled [.filename]#Cargo.lock#:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:551
#, no-wrap
msgid ""
"% make cargo-crates\n"
"CARGO_CRATES=   aho-corasick-0.6.4 \\\n"
"                ansi_term-0.11.0 \\\n"
"                arrayvec-0.4.7 \\\n"
"                atty-0.2.9 \\\n"
"                bitflags-1.0.1 \\\n"
"                byteorder-1.2.2 \\\n"
"                [...]\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:554
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:790
msgid ""
"The output of this command needs to be pasted directly into the Makefile:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:576
#, no-wrap
msgid ""
"CARGO_CRATES=   aho-corasick-0.6.4 \\\n"
"                ansi_term-0.11.0 \\\n"
"                arrayvec-0.4.7 \\\n"
"                atty-0.2.9 \\\n"
"                bitflags-1.0.1 \\\n"
"                byteorder-1.2.2 \\\n"
"                [...]\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:581
msgid ""
"[.filename]#distinfo# needs to be regenerated to contain all the crate "
"distribution files:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:599
#, no-wrap
msgid ""
"% make makesum\n"
"=> rust/crates/aho-corasick-0.6.4.tar.gz doesn't seem to exist in /usr/ports/distfiles/.\n"
"=> Attempting to fetch https://crates.io/api/v1/crates/aho-corasick/0.6.4/download?dummy=/rust/crates/aho-corasick-0.6.4.tar.gz\n"
"rust/crates/aho-corasick-0.6.4.tar.gz         100% of   24 kB 6139 kBps 00m00s\n"
"=> rust/crates/ansi_term-0.11.0.tar.gz doesn't seem to exist in /usr/ports/distfiles/.\n"
"=> Attempting to fetch https://crates.io/api/v1/crates/ansi_term/0.11.0/download?dummy=/rust/crates/ansi_term-0.11.0.tar.gz\n"
"rust/crates/ansi_term-0.11.0.tar.gz           100% of   16 kB   21 MBps 00m00s\n"
"=> rust/crates/arrayvec-0.4.7.tar.gz doesn't seem to exist in /usr/ports/distfiles/.\n"
"=> Attempting to fetch https://crates.io/api/v1/crates/arrayvec/0.4.7/download?dummy=/rust/crates/arrayvec-0.4.7.tar.gz\n"
"rust/crates/arrayvec-0.4.7.tar.gz             100% of   22 kB 3237 kBps 00m00s\n"
"=> rust/crates/atty-0.2.9.tar.gz doesn't seem to exist in /usr/ports/distfiles/.\n"
"=> Attempting to fetch https://crates.io/api/v1/crates/atty/0.2.9/download?dummy=/rust/crates/atty-0.2.9.tar.gz\n"
"rust/crates/atty-0.2.9.tar.gz                 100% of 5898  B   81 MBps 00m00s\n"
"=> rust/crates/bitflags-1.0.1.tar.gz doesn't seem to exist in /usr/ports/distfiles/.\n"
"[...]\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:602
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:833
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:952
msgid ""
"The port is now ready for a test build and further adjustments like creating "
"a plist, writing a description, adding license information, options, etc. as "
"normal."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:604
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:835
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:954
msgid ""
"If you are not testing your port in a clean environment like with Poudriere, "
"remember to run `make clean` before any testing."
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:607
#, no-wrap
msgid "Enabling Additional Application Features"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:611
msgid ""
"Some applications define additional features in their [.filename]#Cargo."
"toml#. They can be compiled in by setting `CARGO_FEATURES` in the port."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:613
msgid "Here we enable Tokei's `json` and `yaml` features:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:617
#, no-wrap
msgid "CARGO_FEATURES=\tjson yaml\n"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:622
#, no-wrap
msgid "Encoding Application Features As Port Options"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:626
msgid ""
"An example `[features]` section in [.filename]#Cargo.toml# could look like "
"this:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:633
#, no-wrap
msgid ""
"[features]\n"
"pulseaudio_backend = [\"librespot-playback/pulseaudio-backend\"]\n"
"portaudio_backend = [\"librespot-playback/portaudio-backend\"]\n"
"default = [\"pulseaudio_backend\"]\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:636
msgid ""
"`pulseaudio_backend` is a default feature. It is always enabled unless we "
"explicitly turn off default features by adding `--no-default-features` to "
"`CARGO_FEATURES`. Here we turn the `portaudio_backend` and "
"`pulseaudio_backend` features into port options:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:640
#, no-wrap
msgid "CARGO_FEATURES=\t--no-default-features\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:642
#, no-wrap
msgid "OPTIONS_DEFINE=\tPORTAUDIO PULSEAUDIO\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:645
#, no-wrap
msgid ""
"PORTAUDIO_VARS=\t\tCARGO_FEATURES+=portaudio_backend\n"
"PULSEAUDIO_VARS=\tCARGO_FEATURES+=pulseaudio_backend\n"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:650
#, no-wrap
msgid "Listing Crate Licenses"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:654
msgid ""
"Crates have their own licenses. It is important to know what they are when "
"adding a `LICENSE` block to the port (see <<licenses,Licenses>>). The helper "
"target `cargo-crates-licenses` will try to list all the licenses of all "
"crates defined in `CARGO_CRATES`."
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:665
#, no-wrap
msgid ""
"% make cargo-crates-licenses\n"
"aho-corasick-0.6.4  Unlicense/MIT\n"
"ansi_term-0.11.0    MIT\n"
"arrayvec-0.4.7      MIT/Apache-2.0\n"
"atty-0.2.9          MIT\n"
"bitflags-1.0.1      MIT/Apache-2.0\n"
"byteorder-1.2.2     Unlicense/MIT\n"
"[...]\n"
msgstr ""

#. type: delimited block = 6
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:670
msgid ""
"The license names `make cargo-crates-licenses` outputs are SPDX 2.1 licenses "
"expression which do not match the license names defined in the ports "
"framework. They need to be translated to the names from <<licenses-license-"
"list,Predefined License List>>."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:675
#, no-wrap
msgid "Using `meson`"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:678
msgid "For ports that use Meson, define `USES=meson`."
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:680
#, no-wrap
msgid "Variables for Ports That Use `meson`"
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:691
#, no-wrap
msgid ""
"| Variable\n"
"| Description\n"
"\n"
"|`MESON_ARGS`\n"
"|Port specific Meson flags to be passed to the `meson` binary.\n"
"\n"
"|`MESON_BUILD_DIR`\n"
"|Path to the build directory relative to `WRKSRC`. Default is `_build`.\n"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:694
#, no-wrap
msgid "`USES=meson` Example"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:698
msgid "This snippet demonstrates the use of Meson for a port."
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:703
#, no-wrap
msgid ""
"USES=\t\tmeson\n"
"MESON_ARGS=\t-Dfoo=enabled\n"
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:708
#, no-wrap
msgid "Building Go Applications"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:711
msgid ""
"For ports that use Go, define `USES=go`. Refer to <<uses-go,`go`>> for a "
"list of variables that can be set to control the build process."
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:713
#, no-wrap
msgid "Creating a Port for a Go Modules Based Application"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:717
msgid ""
"In most cases, it is sufficient to set the `GO_MODULE` variable to the value "
"specified by the `module` directive in `go.mod`:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:724
#, no-wrap
msgid ""
"PORTNAME=       hey\n"
"PORTVERSION=    0.1.4\n"
"DISTVERSIONPREFIX=      v\n"
"CATEGORIES=     benchmarks\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:727
#, no-wrap
msgid ""
"MAINTAINER=     dmgk@FreeBSD.org\n"
"COMMENT=        Tiny program that sends some load to a web application\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:730
#, no-wrap
msgid ""
"LICENSE=        APACHE20\n"
"LICENSE_FILE=   ${WRKSRC}/LICENSE\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:733
#, no-wrap
msgid ""
"USES=           go:modules\n"
"GO_MODULE=      github.com/rakyll/hey\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:735
#, no-wrap
msgid "PLIST_FILES=    bin/hey\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:740
msgid ""
"If the \"easy\" way is not adequate or more control over dependencies is "
"needed, the full porting process is described below."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:742
msgid ""
"Creating a Go based port is a five stage process. First we need to provide a "
"ports template that fetches the application distribution file:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:749
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:797
#, no-wrap
msgid ""
"PORTNAME=\tghq\n"
"DISTVERSIONPREFIX=\tv\n"
"DISTVERSION=\t0.12.5\n"
"CATEGORIES=\tdevel\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:752
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:800
#, no-wrap
msgid ""
"MAINTAINER=\ttobik@FreeBSD.org\n"
"COMMENT=\tRemote repository management made easy\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:756
#, no-wrap
msgid ""
"USES=\t\tgo:modules\n"
"USE_GITHUB=\tyes\n"
"GH_ACCOUNT=\tmotemen\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:770
#, no-wrap
msgid ""
"% make makesum\n"
"===>  License MIT accepted by the user\n"
"=> motemen-ghq-v0.12.5_GH0.tar.gz doesn't seem to exist in /usr/ports/distfiles/.\n"
"=> Attempting to fetch https://codeload.github.com/motemen/ghq/tar.gz/v0.12.5?dummy=/motemen-ghq-v0.12.5_GH0.tar.gz\n"
"fetch: https://codeload.github.com/motemen/ghq/tar.gz/v0.12.5?dummy=/motemen-ghq-v0.12.5_GH0.tar.gz: size of remote file is not known\n"
"motemen-ghq-v0.12.5_GH0.tar.gz                          32 kB  177 kBps    00s\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:773
msgid ""
"Now the distribution file is ready to use and we can extract the required Go "
"module dependencies. This step requires having package:ports-mgmt/"
"modules2tuple[] installed:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:787
#, no-wrap
msgid ""
"% make gomod-vendor\n"
"[...]\n"
"GH_TUPLE=\t\\\n"
"\t\tSongmu:gitconfig:v0.0.2:songmu_gitconfig/vendor/github.com/Songmu/gitconfig \\\n"
"\t\tdaviddengcn:go-colortext:186a3d44e920:daviddengcn_go_colortext/vendor/github.com/daviddengcn/go-colortext \\\n"
"\t\tgo-yaml:yaml:v2.2.2:go_yaml_yaml/vendor/gopkg.in/yaml.v2 \\\n"
"\t\tgolang:net:3ec191127204:golang_net/vendor/golang.org/x/net \\\n"
"\t\tgolang:sync:112230192c58:golang_sync/vendor/golang.org/x/sync \\\n"
"\t\tgolang:xerrors:3ee3066db522:golang_xerrors/vendor/golang.org/x/xerrors \\\n"
"\t\tmotemen:go-colorine:45d19169413a:motemen_go_colorine/vendor/github.com/motemen/go-colorine \\\n"
"\t\turfave:cli:v1.20.0:urfave_cli/vendor/github.com/urfave/cli\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:812
#, no-wrap
msgid ""
"USES=\t\tgo:modules\n"
"USE_GITHUB=\tyes\n"
"GH_ACCOUNT=\tmotemen\n"
"GH_TUPLE=\tSongmu:gitconfig:v0.0.2:songmu_gitconfig/vendor/github.com/Songmu/gitconfig \\\n"
"\t\tdaviddengcn:go-colortext:186a3d44e920:daviddengcn_go_colortext/vendor/github.com/daviddengcn/go-colortext \\\n"
"\t\tgo-yaml:yaml:v2.2.2:go_yaml_yaml/vendor/gopkg.in/yaml.v2 \\\n"
"\t\tgolang:net:3ec191127204:golang_net/vendor/golang.org/x/net \\\n"
"\t\tgolang:sync:112230192c58:golang_sync/vendor/golang.org/x/sync \\\n"
"\t\tgolang:xerrors:3ee3066db522:golang_xerrors/vendor/golang.org/x/xerrors \\\n"
"\t\tmotemen:go-colorine:45d19169413a:motemen_go_colorine/vendor/github.com/motemen/go-colorine \\\n"
"\t\turfave:cli:v1.20.0:urfave_cli/vendor/github.com/urfave/cli\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:817
msgid ""
"[.filename]#distinfo# needs to be regenerated to contain all the "
"distribution files:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:830
#, no-wrap
msgid ""
"% make makesum\n"
"=> Songmu-gitconfig-v0.0.2_GH0.tar.gz doesn't seem to exist in /usr/ports/distfiles/.\n"
"=> Attempting to fetch https://codeload.github.com/Songmu/gitconfig/tar.gz/v0.0.2?dummy=/Songmu-gitconfig-v0.0.2_GH0.tar.gz\n"
"fetch: https://codeload.github.com/Songmu/gitconfig/tar.gz/v0.0.2?dummy=/Songmu-gitconfig-v0.0.2_GH0.tar.gz: size of remote file is not known\n"
"Songmu-gitconfig-v0.0.2_GH0.tar.gz                    5662  B  936 kBps    00s\n"
"=> daviddengcn-go-colortext-186a3d44e920_GH0.tar.gz doesn't seem to exist in /usr/ports/distfiles/.\n"
"=> Attempting to fetch https://codeload.github.com/daviddengcn/go-colortext/tar.gz/186a3d44e920?dummy=/daviddengcn-go-colortext-186a3d44e920_GH0.tar.gz\n"
"fetch: https://codeload.github.com/daviddengcn/go-colortext/tar.gz/186a3d44e920?dummy=/daviddengcn-go-colortext-186a3d44e920_GH0.tar.gz: size of remote file is not known\n"
"daviddengcn-go-colortext-186a3d44e920_GH0.tar.        4534  B 1098 kBps    00s\n"
"[...]\n"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:838
#, no-wrap
msgid "Setting Output Binary Name or Installation Path"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:842
msgid ""
"Some ports need to install the resulting binary under a different name or to "
"a path other than the default `${PREFIX}/bin`. This can be done by using "
"`GO_TARGET` tuple syntax, for example:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:846
#, no-wrap
msgid "GO_TARGET=  ./cmd/ipfs:ipfs-go\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:849
msgid "will install `ipfs` binary as `${PREFIX}/bin/ipfs-go` and"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:853
#, no-wrap
msgid "GO_TARGET=  ./dnscrypt-proxy:${PREFIX}/sbin/dnscrypt-proxy\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:856
msgid "will install `dnscrypt-proxy` to `${PREFIX}/sbin`."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:859
#, no-wrap
msgid "Building Haskell Applications with `cabal`"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:862
msgid ""
"For ports that use Cabal, build system defines `USES=cabal`. Refer to <<uses-"
"cabal,`cabal`>> for a list of variables that can be set to control the build "
"process."
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:864
#, no-wrap
msgid "Creating a Port for a Hackage-hosted Haskell Application"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:868
msgid ""
"When preparing a Haskell Cabal port, the package:devel/hs-cabal-install[] "
"program is required, so make sure it is installed beforehand. First we need "
"to define common ports variables that allows cabal-install to fetch the "
"package distribution file:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:874
#, no-wrap
msgid ""
"PORTNAME=\tShellCheck\n"
"DISTVERSION=\t0.6.0\n"
"CATEGORIES=\tdevel\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:877
#, no-wrap
msgid ""
"MAINTAINER=\thaskell@FreeBSD.org\n"
"COMMENT=\tShell script analysis tool\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:879
#, no-wrap
msgid "USES=\t\tcabal\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:884
msgid "This minimal Makefile allows us to fetch the distribution file:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:894
#, no-wrap
msgid ""
"% make cabal-extract\n"
"[...]\n"
"Downloading the latest package list from hackage.haskell.org\n"
"cabal get ShellCheck-0.6.0\n"
"Downloading  ShellCheck-0.6.0\n"
"Downloaded   ShellCheck-0.6.0\n"
"Unpacking to ShellCheck-0.6.0/\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:897
msgid ""
"Now we have ShellCheck.cabal package description file, which allows us to "
"fetch all package's dependencies, including transitive ones:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:911
#, no-wrap
msgid ""
"% make cabal-extract-deps\n"
"[...]\n"
"Resolving dependencies...\n"
"Downloading  base-orphans-0.8.2\n"
"Downloaded   base-orphans-0.8.2\n"
"Downloading  primitive-0.7.0.0\n"
"Starting     base-orphans-0.8.2 (lib)\n"
"Building     base-orphans-0.8.2 (lib)\n"
"Downloaded   primitive-0.7.0.0\n"
"Downloading  dlist-0.8.0.7\n"
"[...]\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:914
msgid ""
"As a side effect, the package's dependencies are also compiled, so the "
"command may take some time. Once done, a list of required dependencies can "
"generated:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:922
#, no-wrap
msgid ""
"% make make-use-cabal\n"
"USE_CABAL=QuickCheck-2.12.6.1 \\\n"
"hashable-1.3.0.0 \\\n"
"integer-logarithms-1.0.3 \\\n"
"[...]\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:925
msgid ""
"Haskell packages may contain revisions, just like FreeBSD ports. Revisions "
"can affect only [.filename]#.cabal# files, but it is still important to pull "
"them in. To check `USE_CABAL` items for available revision updates, run "
"following command:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:933
#, no-wrap
msgid ""
"% make make-use-cabal-revs\n"
"USE_CABAL=QuickCheck-2.12.6.1_1 \\\n"
"hashable-1.3.0.0 \\\n"
"integer-logarithms-1.0.3_2 \\\n"
"[...]\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:936
msgid ""
"Note additional version numbers after `_` symbol. Put newly generated "
"`USE_CABAL` list instead of an old one."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:938
msgid ""
"Finally, [.filename]#distinfo# needs to be regenerated to contain all the "
"distribution files:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:949
#, no-wrap
msgid ""
"% make makesum\n"
"=> ShellCheck-0.6.0.tar.gz doesn't seem to exist in /usr/local/poudriere/ports/git/distfiles/cabal.\n"
"=> Attempting to fetch https://hackage.haskell.org/package/ShellCheck-0.6.0/ShellCheck-0.6.0.tar.gz\n"
"ShellCheck-0.6.0.tar.gz                                136 kB  642 kBps    00s\n"
"=> QuickCheck-2.12.6.1/QuickCheck-2.12.6.1.tar.gz doesn't seem to exist in /usr/local/poudriere/ports/git/distfiles/cabal.\n"
"=> Attempting to fetch https://hackage.haskell.org/package/QuickCheck-2.12.6.1/QuickCheck-2.12.6.1.tar.gz\n"
"QuickCheck-2.12.6.1/QuickCheck-2.12.6.1.tar.gz          65 kB  361 kBps    00s\n"
"[...]\n"
msgstr ""

#. type: Title ==
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:957
#, no-wrap
msgid "Using GNU Autotools"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:960
msgid ""
"If a port needs any of the GNU Autotools software, add `USES=autoreconf`. "
"See <<uses-autoreconf,`autoreconf`>> for more information."
msgstr ""

#. type: Title ==
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:962
#, no-wrap
msgid "Using GNU `gettext`"
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:965
#, no-wrap
msgid "Basic Usage"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:968
msgid ""
"If the port requires `gettext`, set `USES= gettext`, and the port will "
"inherit a dependency on [.filename]#libintl.so# from package:devel/"
"gettext[]. Other values for `gettext` usage are listed in <<uses-gettext,"
"`USES=gettext`>>."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:970
msgid ""
"A rather common case is a port using `gettext` and `configure`. Generally, "
"GNU `configure` should be able to locate `gettext` automatically."
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:975
#, no-wrap
msgid ""
"USES=\tgettext\n"
"GNU_CONFIGURE=\tyes\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:978
msgid ""
"If it ever fails to, hints at the location of `gettext` can be passed in "
"`CPPFLAGS` and `LDFLAGS` using `localbase` as follows:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:983
#, no-wrap
msgid ""
"USES=\tgettext localbase:ldflags\n"
"GNU_CONFIGURE=\tyes\n"
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:986
#, no-wrap
msgid "Optional Usage"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:989
msgid ""
"Some software products allow for disabling NLS. For example, through passing "
"`--disable-nls` to `configure`. In that case, the port must use `gettext` "
"conditionally, depending on the status of the `NLS` option. For ports of low "
"to medium complexity, use this idiom:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:993
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1008
#, no-wrap
msgid "GNU_CONFIGURE=\t\tyes\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:996
#, no-wrap
msgid ""
"OPTIONS_DEFINE=\t\tNLS\n"
"OPTIONS_SUB=\t\tyes\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:999
#, no-wrap
msgid ""
"NLS_USES=\t\tgettext\n"
"NLS_CONFIGURE_ENABLE=\tnls\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1004
msgid "Or using the older way of using options:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1010
#, no-wrap
msgid "OPTIONS_DEFINE=\t\tNLS\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1012
#, no-wrap
msgid ".include <bsd.port.options.mk>\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1020
#, no-wrap
msgid ""
".if ${PORT_OPTIONS:MNLS}\n"
"USES+=\t\t\tgettext\n"
"PLIST_SUB+=\t\tNLS=\"\"\n"
".else\n"
"CONFIGURE_ARGS+=\t--disable-nls\n"
"PLIST_SUB+=\t\tNLS=\"@comment \"\n"
".endif\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1025
msgid ""
"The next item on the to-do list is to arrange so that the message catalog "
"files are included in the packing list conditionally. The [."
"filename]#Makefile# part of this task is already provided by the idiom. It "
"is explained in the section on <<plist-sub,advanced [.filename]#pkg-plist# "
"practices>>. In a nutshell, each occurrence of `%%NLS%%` in [.filename]#pkg-"
"plist# will be replaced by \"`@comment `\" if NLS is disabled, or by a null "
"string if NLS is enabled. Consequently, the lines prefixed by `%%NLS%%` will "
"become mere comments in the final packing list if NLS is off; otherwise the "
"prefix will be just left out. Then insert `%%NLS%%` before each path to a "
"message catalog file in [.filename]#pkg-plist#. For example:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1030
#, no-wrap
msgid ""
"%%NLS%%share/locale/fr/LC_MESSAGES/foobar.mo\n"
"%%NLS%%share/locale/no/LC_MESSAGES/foobar.mo\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1033
msgid ""
"In high complexity cases, more advanced techniques may be needed, such as "
"<<plist-dynamic,dynamic packing list generation>>."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1035
#, no-wrap
msgid "Handling Message Catalog Directories"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1038
msgid ""
"There is a point to note about installing message catalog files. The target "
"directories for them, which reside under [.filename]#LOCALBASE/share/"
"locale#, must not be created and removed by a port. The most popular "
"languages have their respective directories listed in [.filename]#PORTSDIR/"
"Templates/BSD.local.dist#. The directories for many other languages are "
"governed by the package:devel/gettext[] port. Consult its [.filename]#pkg-"
"plist# and see whether the port is going to install a message catalog file "
"for a unique language."
msgstr ""

#. type: Title ==
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1040
#, no-wrap
msgid "Using Perl"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1043
msgid ""
"If `MASTER_SITES` is set to `CPAN`, the correct subdirectory is usually "
"selected automatically. If the default subdirectory is wrong, `CPAN/Module` "
"can be used to change it. `MASTER_SITES` can also be set to the old "
"`MASTER_SITE_PERL_CPAN`, then the preferred value of `MASTER_SITE_SUBDIR` is "
"the top-level hierarchy name. For example, the recommended value for `p5-"
"Module-Name` is `Module`. The top-level hierarchy can be examined at http://"
"cpan.org/modules/by-module/[cpan.org]. This keeps the port working when the "
"author of the module changes."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1045
msgid ""
"The exception to this rule is when the relevant directory does not exist or "
"the distfile does not exist in that directory. In such case, using author's "
"id as `MASTER_SITE_SUBDIR` is allowed. The `CPAN:AUTHOR` macro can be used, "
"which will be translated to the hashed author directory. For example, `CPAN:"
"AUTHOR` will be converted to `authors/id/A/AU/AUTHOR`."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1047
msgid ""
"When a port needs Perl support, it must set `USES=perl5` with the optional "
"`USE_PERL5` described in <<uses-perl5,the perl5 USES description>>."
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1049
#, no-wrap
msgid "Read-Only Variables for Ports That Use Perl"
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1072
#, no-wrap
msgid ""
"| Read only variables\n"
"| Means\n"
"\n"
"|`PERL`\n"
"|The full path of the Perl 5 interpreter, either in the system or installed from a port, but without the version number. Use this when the software needs the path to the Perl interpreter. To replace \"``#!``\"lines in scripts, use <<uses-shebangfix,`shebangfix`>>.\n"
"\n"
"|`PERL_VERSION`\n"
"|The full version of Perl installed (for example, `5.8.9`).\n"
"\n"
"|`PERL_LEVEL`\n"
"|The installed Perl version as an integer of the form `MNNNPP` (for example, `500809`).\n"
"\n"
"|`PERL_ARCH`\n"
"|Where Perl stores architecture dependent libraries. Defaults to `${ARCH}-freebsd`.\n"
"\n"
"|`PERL_PORT`\n"
"|Name of the Perl port that is installed (for example, `perl5`).\n"
"\n"
"|`SITE_PERL`\n"
"|Directory name where site specific Perl packages go. This value is added to `PLIST_SUB`.\n"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1077
msgid ""
"Ports of Perl modules which do not have an official website must link to "
"`cpan.org` in the WWW line of [.filename]#pkg-descr#. The preferred URL form "
"is `http://search.cpan.org/dist/Module-Name/` (including the trailing slash)."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1082
msgid ""
"Do not use `${SITE_PERL}` in dependency declarations. Doing so assumes that "
"[.filename]#perl5.mk# has been included, which is not always true. Ports "
"depending on this port will have incorrect dependencies if this port's files "
"move later in an upgrade. The right way to declare Perl module dependencies "
"is shown in the example below."
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1085
#, no-wrap
msgid "Perl Dependency Example"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1091
#, no-wrap
msgid "p5-IO-Tee>=0.64:devel/p5-IO-Tee\n"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1096
msgid ""
"For Perl ports that install manual pages, the macro `PERL5_MAN3` and "
"`PERL5_MAN1` can be used inside [.filename]#pkg-plist#. For example,"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1101
#, no-wrap
msgid ""
"lib/perl5/5.14/man/man1/event.1.gz\n"
"lib/perl5/5.14/man/man3/AnyEvent::I3.3.gz\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1104
msgid "can be replaced with"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1109
#, no-wrap
msgid ""
"%%PERL5_MAN1%%/event.1.gz\n"
"%%PERL5_MAN3%%/AnyEvent::I3.3.gz\n"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1114
msgid ""
"There are no `PERL5_MAN_x_` macros for the other sections (_x_ in `2` and "
"`4` to `9`) because those get installed in the regular directories."
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1117
#, no-wrap
msgid "A Port Which Only Requires Perl to Build"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1121
msgid "As the default USE_PERL5 value is build and run, set it to:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1126
#, no-wrap
msgid ""
"USES=\t\tperl5\n"
"USE_PERL5=\tbuild\n"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1131
#, no-wrap
msgid "A Port Which Also Requires Perl to Patch"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1135
msgid ""
"From time to time, using man:sed[1] for patching is not enough. When using "
"man:perl[1] is easier, use:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1140
#, no-wrap
msgid ""
"USES=\t\tperl5\n"
"USE_PERL5=\tpatch build run\n"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1145
#, no-wrap
msgid "A Perl Module Which Needs `ExtUtils::MakeMaker` to Build"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1149
msgid ""
"Most Perl modules come with a [.filename]#Makefile.PL# configure script. In "
"this case, set:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1154
#, no-wrap
msgid ""
"USES=\t\tperl5\n"
"USE_PERL5=\tconfigure\n"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1159
#, no-wrap
msgid "A Perl Module Which Needs `Module::Build` to Build"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1163
msgid ""
"When a Perl module comes with a [.filename]#Build.PL# configure script, it "
"can require Module::Build, in which case, set"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1168
#, no-wrap
msgid ""
"USES=\t\tperl5\n"
"USE_PERL5=\tmodbuild\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1171
msgid "If it instead requires Module::Build::Tiny, set"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1176
#, no-wrap
msgid ""
"USES=\t\tperl5\n"
"USE_PERL5=\tmodbuildtiny\n"
msgstr ""

#. type: Title ==
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1181
#, no-wrap
msgid "Using X11"
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1184
#, no-wrap
msgid "X.Org Components"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1187
msgid ""
"The X11 implementation available in The Ports Collection is X.Org. If the "
"application depends on X components, add `USES= xorg` and set `USE_XORG` to "
"the list of required components. A full list can be found in <<uses-xorg,"
"`xorg`>>."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1189
msgid ""
"The Mesa Project is an effort to provide free OpenGL implementation. To "
"specify a dependency on various components of this project, use `USES= gl` "
"and `USE_GL`. See <<uses-gl,`gl`>> for a full list of available components. "
"For backwards compatibility, the value of `yes` maps to `glu`."
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1191
#, no-wrap
msgid "`USE_XORG` Example"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1199
#, no-wrap
msgid ""
"USES=\t\tgl xorg\n"
"USE_GL=\t\tglu\n"
"USE_XORG=\txrender xft xkbfile xt xaw\n"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1204
#, no-wrap
msgid "Variables for Ports That Use X"
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1212
#, no-wrap
msgid ""
"|`USES= imake`\n"
"|The port uses `imake`.\n"
"\n"
"|`XMKMF`\n"
"|Set to the path of `xmkmf` if not in the `PATH`. Defaults to `xmkmf -a`.\n"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1215
#, no-wrap
msgid "Using X11-Related Variables"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1223
#, no-wrap
msgid ""
"# Use some X11 libraries\n"
"USES=\t\txorg\n"
"USE_XORG=\tx11 xpm\n"
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1228
#, no-wrap
msgid "Ports That Require Motif"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1231
msgid ""
"If the port requires a Motif library, define `USES= motif` in the [."
"filename]#Makefile#. Default Motif implementation is package:x11-toolkits/"
"open-motif[]. Users can choose package:x11-toolkits/lesstif[] instead by "
"setting `WANT_LESSTIF` in their [.filename]#make.conf#."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1233
msgid ""
"`MOTIFLIB` will be set by [.filename]#motif.mk# to reference the appropriate "
"Motif library. Please patch the source of the port to use `${MOTIFLIB}` "
"wherever the Motif library is referenced in the original [."
"filename]#Makefile# or [.filename]#Imakefile#."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1235
msgid "There are two common cases:"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1237
msgid ""
"If the port refers to the Motif library as `-lXm` in its [."
"filename]#Makefile# or [.filename]#Imakefile#, substitute `${MOTIFLIB}` for "
"it."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1238
msgid ""
"If the port uses `XmClientLibs` in its [.filename]#Imakefile#, change it to `"
"${MOTIFLIB} ${XTOOLLIB} ${XLIB}`."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1240
msgid ""
"Note that `MOTIFLIB` (usually) expands to `-L/usr/local/lib -lXm -lXp` or `/"
"usr/local/lib/libXm.a`, so there is no need to add `-L` or `-l` in front."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1242
#, no-wrap
msgid "X11 Fonts"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1245
msgid ""
"If the port installs fonts for the X Window System, put them in [."
"filename]#LOCALBASE/lib/X11/fonts/local#."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1247
#, no-wrap
msgid "Getting a Fake `DISPLAY` with Xvfb"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1250
msgid ""
"Some applications require a working X11 display for compilation to succeed. "
"This poses a problem for machines that operate headless. When this variable "
"is used, the build infrastructure will start the virtual framebuffer X "
"server. The working `DISPLAY` is then passed to the build. See <<uses-"
"display,`USES=display`>> for the possible arguments."
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1254
#, no-wrap
msgid "USES=\tdisplay\n"
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1258
#, no-wrap
msgid "Desktop Entries"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1261
msgid ""
"Desktop entries (http://standards.freedesktop.org/desktop-entry-spec/latest/"
"[a Freedesktop standard]) provide a way to automatically adjust desktop "
"features when a new program is installed, without requiring user "
"intervention. For example, newly-installed programs automatically appear in "
"the application menus of compatible desktop environments. Desktop entries "
"originated in the GNOME desktop environment, but are now a standard and also "
"work with KDE and Xfce. This bit of automation provides a real benefit to "
"the user, and desktop entries are encouraged for applications which can be "
"used in a desktop environment."
msgstr ""

#. type: Title ====
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1263
#, no-wrap
msgid "Using Predefined [.filename]#.desktop# Files"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1266
msgid ""
"Ports that include predefined [.filename]#*.desktop# must include those "
"files in [.filename]#pkg-plist# and install them in the [.filename]#"
"$LOCALBASE/share/applications# directory. The <<install-macros,"
"`INSTALL_DATA` macro>> is useful for installing these files."
msgstr ""

#. type: Title ====
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1268
#, no-wrap
msgid "Updating Desktop Database"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1271
msgid ""
"If a port has a MimeType entry in its [.filename]#portname.desktop#, the "
"desktop database must be updated after install and deinstall. To do this, "
"define `USES`= desktop-file-utils."
msgstr ""

#. type: Title ====
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1273
#, no-wrap
msgid "Creating Desktop Entries with `DESKTOP_ENTRIES`"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1276
msgid ""
"Desktop entries can be easily created for applications by using "
"`DESKTOP_ENTRIES`. A file named [.filename]#name.desktop# will be created, "
"installed, and added to [.filename]#pkg-plist# automatically. Syntax is:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1280
#, no-wrap
msgid "DESKTOP_ENTRIES=\t\"NAME\" \"COMMENT\" \"ICON\" \"COMMAND\" \"CATEGORY\" StartupNotify\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1283
msgid ""
"The list of possible categories is available on the http://standards."
"freedesktop.org/menu-spec/latest/apa.html[Freedesktop website]. "
"`StartupNotify` indicates whether the application is compatible with "
"_startup notifications_. These are typically a graphic indicator like a "
"clock that appear at the mouse pointer, menu, or panel to give the user an "
"indication when a program is starting. A program that is compatible with "
"startup notifications clears the indicator after it has started. Programs "
"that are not compatible with startup notifications would never clear the "
"indicator (potentially confusing and infuriating the user), and must have "
"`StartupNotify` set to `false` so the indicator is not shown at all."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1285
msgid "Example:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1292
#, no-wrap
msgid ""
"DESKTOP_ENTRIES=\t\"ToME\" \"Roguelike game based on JRR Tolkien's work\" \\\n"
"\t\t\t\"${DATADIR}/xtra/graf/tome-128.png\" \\\n"
"\t\t\t\"tome -v -g\" \"Application;Game;RolePlaying;\" \\\n"
"\t\t\tfalse\n"
msgstr ""

#. type: Title ==
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1296
#, no-wrap
msgid "Using GNOME"
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1299
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3392
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3679
#, no-wrap
msgid "Introduction"
msgstr "說明"

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1302
msgid ""
"This chapter explains the GNOME framework as used by ports. The framework "
"can be loosely divided into the base components, GNOME desktop components, "
"and a few special macros that simplify the work of port maintainers."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1304
#, no-wrap
msgid "Using `USE_GNOME`"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1307
msgid ""
"Adding this variable to the port allows the use of the macros and components "
"defined in [.filename]#bsd.gnome.mk#. The code in [.filename]#bsd.gnome.mk# "
"adds the needed build-time, run-time or library dependencies or the handling "
"of special files. GNOME applications under FreeBSD use the `USE_GNOME` "
"infrastructure. Include all the needed components as a space-separated list. "
"The `USE_GNOME` components are divided into these virtual lists: basic "
"components, GNOME 3 components and legacy components. If the port needs only "
"GTK3 libraries, this is the shortest way to define it:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1311
#, no-wrap
msgid "USE_GNOME=\tgtk30\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1314
msgid ""
"`USE_GNOME` components automatically add the dependencies they need. Please "
"see <<gnome-components>> for an exhaustive list of all `USE_GNOME` "
"components and which other components they imply and their dependencies."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1316
msgid ""
"Here is an example [.filename]#Makefile# for a GNOME port that uses many of "
"the techniques outlined in this document. Please use it as a guide for "
"creating new ports."
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1320
#, no-wrap
msgid "# $FreeBSD$\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1325
#, no-wrap
msgid ""
"PORTNAME=\tregexxer\n"
"DISTVERSION=\t0.10\n"
"CATEGORIES=\tdevel textproc gnome\n"
"MASTER_SITES=\tGNOME\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1328
#, no-wrap
msgid ""
"MAINTAINER=\tkwm@FreeBSD.org\n"
"COMMENT=\tInteractive tool for performing search and replace operations\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1333
#, no-wrap
msgid ""
"USES=\t\tgettext gmake localbase:ldflags pathfix pkgconfig tar:xz\n"
"GNU_CONFIGURE=\tyes\n"
"USE_GNOME=\tgnomeprefix intlhack gtksourceviewmm3\n"
"INSTALLS_ICONS=\tyes\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1335
#, no-wrap
msgid "GLIB_SCHEMAS=\torg.regexxer.gschema.xml\n"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1342
msgid ""
"The `USE_GNOME` macro without any arguments does not add any dependencies to "
"the port. `USE_GNOME` cannot be set after [.filename]#bsd.port.pre.mk#."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1345
#, no-wrap
msgid "Variables"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1348
msgid ""
"This section explains which macros are available and how they are used. Like "
"they are used in the above example. The <<gnome-components>> has a more in-"
"depth explanation. `USE_GNOME` has to be set for these macros to be of use."
msgstr ""

#. type: Labeled list
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1349
#, no-wrap
msgid "`INSTALLS_ICONS`"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1351
msgid ""
"GTK+ ports which install Freedesktop-style icons to [.filename]#${LOCALBASE}/"
"share/icons# should use this macro to ensure that the icons are cached and "
"will display correctly. The cache file is named [.filename]#icon-theme."
"cache#. Do not include that file in [.filename]#pkg-plist#. This macro "
"handles that automatically. This macro is not needed for Qt, which uses an "
"internal method."
msgstr ""

#. type: Labeled list
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1352
#, no-wrap
msgid "`GLIB_SCHEMAS`"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1354
msgid ""
"List of all the glib schema files the port installs. The macro will add the "
"files to the port plist and handle the registration of these files on "
"install and deinstall."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1356
msgid ""
"The glib schema files are written in XML and end with the [."
"filename]#gschema.xml# extension. They are installed in the [."
"filename]#share/glib-2.0/schemas/# directory. These schema files contain all "
"application config values with their default settings. The actual database "
"used by the applications is built by glib-compile-schema, which is run by "
"the `GLIB_SCHEMAS` macro."
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1360
#, no-wrap
msgid "GLIB_SCHEMAS=foo.gschema.xml\n"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1365
msgid ""
"Do not add glib schemas to the [.filename]#pkg-plist#. If they are listed in "
"[.filename]#pkg-plist#, they will not be registered and the applications "
"might not work properly."
msgstr ""

#. type: Labeled list
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1367
#, no-wrap
msgid "`GCONF_SCHEMAS`"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1369
msgid ""
"List all the gconf schema files. The macro will add the schema files to the "
"port plist and will handle their registration on install and deinstall."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1371
msgid ""
"GConf is the XML-based database that virtually all GNOME applications use "
"for storing their settings. These files are installed into the [."
"filename]#etc/gconf/schemas# directory. This database is defined by "
"installed schema files that are used to generate [.filename]#%gconf.xml# key "
"files. For each schema file installed by the port, there must be an entry in "
"the [.filename]#Makefile#:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1375
#, no-wrap
msgid "GCONF_SCHEMAS=my_app.schemas my_app2.schemas my_app3.schemas\n"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1380
msgid ""
"Gconf schemas are listed in the `GCONF_SCHEMAS` macro rather than [."
"filename]#pkg-plist#. If they are listed in [.filename]#pkg-plist#, they "
"will not be registered and the applications might not work properly."
msgstr ""

#. type: Labeled list
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1382
#, no-wrap
msgid "`INSTALLS_OMF`"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1384
msgid ""
"Open Source Metadata Framework (OMF) files are commonly used by GNOME 2 "
"applications. These files contain the application help file information, and "
"require special processing by ScrollKeeper/rarian. To properly register OMF "
"files when installing GNOME applications from packages, make sure that `omf` "
"files are listed in `pkg-plist` and that the port [.filename]#Makefile# has "
"`INSTALLS_OMF` defined:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1388
#, no-wrap
msgid "INSTALLS_OMF=yes\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1391
msgid ""
"When set, [.filename]#bsd.gnome.mk# automatically scans [.filename]#pkg-"
"plist# and adds appropriate `@exec` and `@unexec` directives for each [."
"filename]#.omf# to track in the OMF registration database."
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1393
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1398
#, no-wrap
msgid "GNOME Components"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1396
msgid ""
"For further help with a GNOME port, look at some of the link:https://www."
"FreeBSD.org/ports/gnome.html[existing ports] for examples. The link:https://"
"www.FreeBSD.org/gnome/[FreeBSD GNOME page] has contact information if more "
"help is needed. The components are divided into GNOME components that are "
"currently in use and legacy components. If the component supports argument, "
"they are listed between parenthesis in the description. The first is the "
"default. \"Both\" is shown if the component defaults to adding to both build "
"and run dependencies."
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1564
#, no-wrap
msgid ""
"| Component\n"
"| Associated program\n"
"| Description\n"
"\n"
"|`atk`\n"
"|accessibility/atk\n"
"|Accessibility toolkit (ATK)\n"
"\n"
"|`atkmm`\n"
"|accessibility/atkmm\n"
"|c++ bindings for atk\n"
"\n"
"|`cairo`\n"
"|graphics/cairo\n"
"|Vector graphics library with cross-device output support\n"
"\n"
"|`cairomm`\n"
"|graphics/cairomm\n"
"|c++ bindings for cairo\n"
"\n"
"|`dconf`\n"
"|devel/dconf\n"
"|Configuration database system (both, build, run)\n"
"\n"
"|`evolutiondataserver3`\n"
"|databases/evolution-data-server\n"
"|Data backends for the Evolution integrated mail/PIM suite\n"
"\n"
"|`gdkpixbuf2`\n"
"|graphics/gdk-pixbuf2\n"
"|Graphics library for GTK+\n"
"\n"
"|`glib20`\n"
"|devel/glib20\n"
"|GNOME core library `glib20`\n"
"\n"
"|`glibmm`\n"
"|devel/glibmm\n"
"|c++ bindings for glib20\n"
"\n"
"|`gnomecontrolcenter3`\n"
"|sysutils/gnome-control-center\n"
"|GNOME 3 Control Center\n"
"\n"
"|`gnomedesktop3`\n"
"|x11/gnome-desktop\n"
"|GNOME 3 desktop UI library\n"
"\n"
"|`gsound`\n"
"|audio/gsound\n"
"|GObject library for playing system sounds (both, build, run)\n"
"\n"
"|`gtk-update-icon-cache`\n"
"|graphics/gtk-update-icon-cache\n"
"|Gtk-update-icon-cache utility from the Gtk+ toolkit\n"
"\n"
"|`gtk20`\n"
"|x11-toolkits/gtk20\n"
"|Gtk+ 2 toolkit\n"
"\n"
"|`gtk30`\n"
"|x11-toolkits/gtk30\n"
"|Gtk+ 3 toolkit\n"
"\n"
"|`gtkmm20`\n"
"|x11-toolkits/gtkmm20\n"
"|c++ bindings 2.0 for the gtk20 toolkit\n"
"\n"
"|`gtkmm24`\n"
"|x11-toolkits/gtkmm24\n"
"|c++ bindings 2.4 for the gtk20 toolkit\n"
"\n"
"|`gtkmm30`\n"
"|x11-toolkits/gtkmm30\n"
"|c++ bindings 3.0 for the gtk30 toolkit\n"
"\n"
"|`gtksourceview2`\n"
"|x11-toolkits/gtksourceview2\n"
"|Widget that adds syntax highlighting to GtkTextView\n"
"\n"
"|`gtksourceview3`\n"
"|x11-toolkits/gtksourceview3\n"
"|Text widget that adds syntax highlighting to the GtkTextView widget\n"
"\n"
"|`gtksourceviewmm3`\n"
"|x11-toolkits/gtksourceviewmm3\n"
"|c++ bindings for the gtksourceview3 library\n"
"\n"
"|`gvfs`\n"
"|devel/gvfs\n"
"|GNOME virtual file system\n"
"\n"
"|`intltool`\n"
"|textproc/intltool\n"
"|Tool for internationalization (also see intlhack)\n"
"\n"
"|`introspection`\n"
"|devel/gobject-introspection\n"
"|Basic introspection bindings and tools to generate introspection bindings. Most of the time :build is enough, :both/:run is only need for applications that use introspection bindings. (both, build, run)\n"
"\n"
"|`libgda5`\n"
"|databases/libgda5\n"
"|Provides uniform access to different kinds of data sources\n"
"\n"
"|`libgda5-ui`\n"
"|databases/libgda5-ui\n"
"|UI library from the libgda5 library\n"
"\n"
"|`libgdamm5`\n"
"|databases/libgdamm5\n"
"|c++ bindings for the libgda5 library\n"
"\n"
"|`libgsf`\n"
"|devel/libgsf\n"
"|Extensible I/O abstraction for dealing with structured file formats\n"
"\n"
"|`librsvg2`\n"
"|graphics/librsvg2\n"
"|Library for parsing and rendering SVG vector-graphic files\n"
"\n"
"|`libsigc++20`\n"
"|devel/libsigc++20\n"
"|Callback Framework for C++\n"
"\n"
"|`libxml++26`\n"
"|textproc/libxml++26\n"
"|c++ bindings for the libxml2 library\n"
"\n"
"|`libxml2`\n"
"|textproc/libxml2\n"
"|XML parser library (both, build, run)\n"
"\n"
"|`libxslt`\n"
"|textproc/libxslt\n"
"|XSLT C library (both, build, run)\n"
"\n"
"|`metacity`\n"
"|x11-wm/metacity\n"
"|Window manager from GNOME\n"
"\n"
"|`nautilus3`\n"
"|x11-fm/nautilus\n"
"|GNOME file manager\n"
"\n"
"|`pango`\n"
"|x11-toolkits/pango\n"
"|Open-source framework for the layout and rendering of i18n text\n"
"\n"
"|`pangomm`\n"
"|x11-toolkits/pangomm\n"
"|c++ bindings for the pango library\n"
"\n"
"|`py3gobject3`\n"
"|devel/py3-gobject3\n"
"|Python 3, GObject 3.0 bindings\n"
"\n"
"|`pygobject3`\n"
"|devel/py-gobject3\n"
"|Python 2, GObject 3.0 bindings\n"
"\n"
"|`vte3`\n"
"|x11-toolkits/vte3\n"
"|Terminal widget with improved accessibility and I18N support\n"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1567
#, no-wrap
msgid "GNOME Macro Components"
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1581
#, no-wrap
msgid ""
"| Component\n"
"| Description\n"
"\n"
"|`gnomeprefix`\n"
"|Supply `configure` with some default locations.\n"
"\n"
"|`intlhack`\n"
"|Same as intltool, but patches to make sure [.filename]#share/locale/# is used. Please only use when `intltool` alone is not enough.\n"
"\n"
"|`referencehack`\n"
"|This macro is there to help splitting of the API or reference documentation into its own port.\n"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1584
#, no-wrap
msgid "GNOME Legacy Components"
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1750
#, no-wrap
msgid ""
"| Component\n"
"| Associated program\n"
"| Description\n"
"\n"
"|`atspi`\n"
"|accessibility/at-spi\n"
"|Assistive Technology Service Provider Interface\n"
"\n"
"|`esound`\n"
"|audio/esound\n"
"|Enlightenment sound package\n"
"\n"
"|`gal2`\n"
"|x11-toolkits/gal2\n"
"|Collection of widgets taken from GNOME 2 gnumeric\n"
"\n"
"|`gconf2`\n"
"|devel/gconf2\n"
"|Configuration database system for GNOME 2\n"
"\n"
"|`gconfmm26`\n"
"|devel/gconfmm26\n"
"|c++ bindings for gconf2\n"
"\n"
"|`gdkpixbuf`\n"
"|graphics/gdk-pixbuf\n"
"|Graphics library for GTK+\n"
"\n"
"|`glib12`\n"
"|devel/glib12\n"
"|glib 1.2 core library\n"
"\n"
"|`gnomedocutils`\n"
"|textproc/gnome-doc-utils\n"
"|GNOME doc utils\n"
"\n"
"|`gnomemimedata`\n"
"|misc/gnome-mime-data\n"
"|MIME and Application database for GNOME 2\n"
"\n"
"|`gnomesharp20`\n"
"|x11-toolkits/gnome-sharp20\n"
"|GNOME 2 interfaces for the .NET runtime\n"
"\n"
"|`gnomespeech`\n"
"|accessibility/gnome-speech\n"
"|GNOME 2 text-to-speech API\n"
"\n"
"|`gnomevfs2`\n"
"|devel/gnome-vfs\n"
"|GNOME 2 Virtual File System\n"
"\n"
"|`gtk12`\n"
"|x11-toolkits/gtk12\n"
"|Gtk+ 1.2 toolkit\n"
"\n"
"|`gtkhtml3`\n"
"|www/gtkhtml3\n"
"|Lightweight HTML rendering/printing/editing engine\n"
"\n"
"|`gtkhtml4`\n"
"|www/gtkhtml4\n"
"|Lightweight HTML rendering/printing/editing engine\n"
"\n"
"|`gtksharp20`\n"
"|x11-toolkits/gtk-sharp20\n"
"|GTK+ and GNOME 2 interfaces for the .NET runtime\n"
"\n"
"|`gtksourceview`\n"
"|x11-toolkits/gtksourceview\n"
"|Widget that adds syntax highlighting to GtkTextView\n"
"\n"
"|`libartgpl2`\n"
"|graphics/libart_lgpl\n"
"|Library for high-performance 2D graphics\n"
"\n"
"|`libbonobo`\n"
"|devel/libbonobo\n"
"|Component and compound document system for GNOME 2\n"
"\n"
"|`libbonoboui`\n"
"|x11-toolkits/libbonoboui\n"
"|GUI frontend to the libbonobo component of GNOME 2\n"
"\n"
"|`libgda4`\n"
"|databases/libgda4\n"
"|Provides uniform access to different kinds of data sources\n"
"\n"
"|`libglade2`\n"
"|devel/libglade2\n"
"|GNOME 2 glade library\n"
"\n"
"|`libgnome`\n"
"|x11/libgnome\n"
"|Libraries for GNOME 2, a GNU desktop environment\n"
"\n"
"|`libgnomecanvas`\n"
"|graphics/libgnomecanvas\n"
"|Graphics library for GNOME 2\n"
"\n"
"|`libgnomekbd`\n"
"|x11/libgnomekbd\n"
"|GNOME 2 keyboard shared library\n"
"\n"
"|`libgnomeprint`\n"
"|print/libgnomeprint\n"
"|Gnome 2 print support library\n"
"\n"
"|`libgnomeprintui`\n"
"|x11-toolkits/libgnomeprintui\n"
"|Gnome 2 print support library\n"
"\n"
"|`libgnomeui`\n"
"|x11-toolkits/libgnomeui\n"
"|Libraries for the GNOME 2 GUI, a GNU desktop environment\n"
"\n"
"|`libgtkhtml`\n"
"|www/libgtkhtml\n"
"|Lightweight HTML rendering/printing/editing engine\n"
"\n"
"|`libgtksourceviewmm`\n"
"|x11-toolkits/libgtksourceviewmm\n"
"|c++ binding of GtkSourceView\n"
"\n"
"|`libidl`\n"
"|devel/libIDL\n"
"|Library for creating trees of CORBA IDL file\n"
"\n"
"|`libsigc++12`\n"
"|devel/libsigc++12\n"
"|Callback Framework for C++\n"
"\n"
"|`libwnck`\n"
"|x11-toolkits/libwnck\n"
"|Library used for writing pagers and taskslists\n"
"\n"
"|`libwnck3`\n"
"|x11-toolkits/libwnck3\n"
"|Library used for writing pagers and taskslists\n"
"\n"
"|`orbit2`\n"
"|devel/ORBit2\n"
"|High-performance CORBA ORB with support for the C language\n"
"\n"
"|`pygnome2`\n"
"|x11-toolkits/py-gnome2\n"
"|Python bindings for GNOME 2\n"
"\n"
"|`pygobject`\n"
"|devel/py-gobject\n"
"|Python 2, GObject 2.0 bindings\n"
"\n"
"|`pygtk2`\n"
"|x11-toolkits/py-gtk2\n"
"|Set of Python bindings for GTK+\n"
"\n"
"|`pygtksourceview`\n"
"|x11-toolkits/py-gtksourceview\n"
"|Python bindings for GtkSourceView 2\n"
"\n"
"|`vte`\n"
"|x11-toolkits/vte\n"
"|Terminal widget with improved accessibility and I18N support\n"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1753
#, no-wrap
msgid "Deprecated Components: Do Not Use"
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1761
#, no-wrap
msgid ""
"| Component\n"
"| Description\n"
"\n"
"|`pangox-compat`\n"
"|pangox-compat has been deprecated and split off from the pango package.\n"
msgstr ""

#. type: Title ==
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1764
#, no-wrap
msgid "Using Qt"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1769
msgid "For ports that are part of Qt itself, see <<uses-qt-dist,`qt-dist`>>."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1772
#, no-wrap
msgid "Ports That Require Qt"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1775
msgid ""
"The Ports Collection provides support for Qt 5 with `USES+=qt:5`. Set "
"`USE_QT` to the list of required Qt components (libraries, tools, plugins)."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1777
msgid ""
"The Qt framework exports a number of variables which can be used by ports, "
"some of them listed below:"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1779
#, no-wrap
msgid "Variables Provided to Ports That Use Qt"
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1805
#, no-wrap
msgid ""
"|`QMAKE`\n"
"|Full path to `qmake` binary.\n"
"\n"
"|`LRELEASE`\n"
"|Full path to `lrelease` utility.\n"
"\n"
"|`MOC`\n"
"|Full path to `moc`.\n"
"\n"
"|`RCC`\n"
"|Full path to `rcc`.\n"
"\n"
"|`UIC`\n"
"|Full path to `uic`.\n"
"\n"
"|`QT_INCDIR`\n"
"|Qt include directory.\n"
"\n"
"|`QT_LIBDIR`\n"
"|Qt libraries path.\n"
"\n"
"|`QT_PLUGINDIR`\n"
"|Qt plugins path.\n"
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1808
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3474
#, no-wrap
msgid "Component Selection"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1811
msgid ""
"Individual Qt tool and library dependencies must be specified in `USE_QT`. "
"Every component can be suffixed with `_build` or `_run`, the suffix "
"indicating whether the dependency on the component is at buildtime or "
"runtime. If unsuffixed, the component will be depended on at both build- and "
"runtime. Usually, library components are specified unsuffixed, tool "
"components are mostly specified with the `_build` suffix and plugin "
"components are specified with the `_run` suffix. The most commonly used "
"components are listed below (all available components are listed in "
"`_USE_QT_ALL`, and `_USE_QT5_ONLY` in [.filename]#/usr/ports/Mk/Uses/qt.mk#):"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:1812
#, no-wrap
msgid "Available Qt Library Components"
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2027
#, no-wrap
msgid ""
"| Name\n"
"| Description\n"
"\n"
"|`3d`\n"
"|Qt3D module\n"
"\n"
"|`assistant`\n"
"|Qt 5 documentation browser\n"
"\n"
"|`canvas3d`\n"
"|Qt canvas3d module\n"
"\n"
"|`charts`\n"
"|Qt 5 charts module\n"
"\n"
"|`concurrent`\n"
"|Qt multi-threading module\n"
"\n"
"|`connectivity`\n"
"|Qt connectivity (Bluetooth/NFC) module\n"
"\n"
"|`core`\n"
"|Qt core non-graphical module\n"
"\n"
"|`datavis3d`\n"
"|Qt 5 3D data visualization module\n"
"\n"
"|`dbus`\n"
"|Qt D-Bus inter-process communication module\n"
"\n"
"|`declarative`\n"
"|Qt declarative framework for dynamic user interfaces\n"
"\n"
"|`designer`\n"
"|Qt 5 graphical user interface designer\n"
"\n"
"|`diag`\n"
"|Tool for reporting diagnostic information about Qt and its environment\n"
"\n"
"|`doc`\n"
"|Qt 5 documentation\n"
"\n"
"|`examples`\n"
"|Qt 5 examples sourcecode\n"
"\n"
"|`gamepad`\n"
"|Qt 5 Gamepad Module\n"
"\n"
"|`graphicaleffects`\n"
"|Qt Quick graphical effects\n"
"\n"
"|`gui`\n"
"|Qt graphical user interface module\n"
"\n"
"|`help`\n"
"|Qt online help integration module\n"
"\n"
"|`l10n`\n"
"|Qt localized messages\n"
"\n"
"|`linguist`\n"
"|Qt 5 translation tool\n"
"\n"
"|`location`\n"
"|Qt location module\n"
"\n"
"|`multimedia`\n"
"|Qt audio, video, radio and camera support module\n"
"\n"
"|`network`\n"
"|Qt network module\n"
"\n"
"|`networkauth`\n"
"|Qt network auth module\n"
"\n"
"|`opengl`\n"
"|Qt 5-compatible OpenGL support module\n"
"\n"
"|`paths`\n"
"|Command line client to QStandardPaths\n"
"\n"
"|`phonon4`\n"
"|KDE multimedia framework\n"
"\n"
"|`pixeltool`\n"
"|Qt 5 screen magnifier\n"
"\n"
"|`plugininfo`\n"
"|Qt5 plugin metadata dumper\n"
"\n"
"|`printsupport`\n"
"|Qt print support module\n"
"\n"
"|`qdbus`\n"
"|Qt command-line interface to D-Bus\n"
"\n"
"|`qdbusviewer`\n"
"|Qt 5 graphical interface to D-Bus\n"
"\n"
"|`qdoc`\n"
"|Qt documentation generator\n"
"\n"
"|`qdoc-data`\n"
"|QDoc configuration files\n"
"\n"
"|`qev`\n"
"|Qt QWidget events introspection tool\n"
"\n"
"|`qmake`\n"
"|Qt Makefile generator\n"
"\n"
"|`quickcontrols`\n"
"|Set of controls for building complete interfaces in Qt Quick\n"
"\n"
"|`quickcontrols2`\n"
"|Set of controls for building complete interfaces in Qt Quick\n"
"\n"
"|`remoteobjects`\n"
"|Qt5 SXCML module\n"
"\n"
"|`script`\n"
"|Qt 4-compatible scripting module\n"
"\n"
"|`scripttools`\n"
"|Qt Script additional components\n"
"\n"
"|`scxml`\n"
"|Qt5 SXCML module\n"
"\n"
"|`sensors`\n"
"|Qt sensors module\n"
"\n"
"|`serialbus`\n"
"|Qt functions to access industrial bus systems\n"
"\n"
"|`serialport`\n"
"|Qt functions to access serial ports\n"
"\n"
"|`speech`\n"
"|Accessibilty features for Qt5\n"
"\n"
"|`sql`\n"
"|Qt SQL database integration module\n"
"\n"
"|`sql-ibase`\n"
"|Qt InterBase/Firebird database plugin\n"
"\n"
"|`sql-mysql`\n"
"|Qt MySQL database plugin\n"
"\n"
"|`sql-odbc`\n"
"|Qt Open Database Connectivity plugin\n"
"\n"
"|`sql-pgsql`\n"
"|Qt PostgreSQL database plugin\n"
"\n"
"|`sql-sqlite2`\n"
"|Qt SQLite 2 database plugin\n"
"\n"
"|`sql-sqlite3`\n"
"|Qt SQLite 3 database plugin\n"
"\n"
"|`sql-tds`\n"
"|Qt TDS Database Connectivity database plugin\n"
"\n"
"|`svg`\n"
"|Qt SVG support module\n"
"\n"
"|`testlib`\n"
"|Qt unit testing module\n"
"\n"
"|`uiplugin`\n"
"|Custom Qt widget plugin interface for Qt Designer\n"
"\n"
"|`uitools`\n"
"|Qt Designer UI forms support module\n"
"\n"
"|`virtualkeyboard`\n"
"|Qt 5 Virtual Keyboard Module\n"
"\n"
"|`wayland`\n"
"|Qt5 wrapper for Wayland\n"
"\n"
"|`webchannel`\n"
"|Qt 5 library for integration of C++/QML with HTML/js clients\n"
"\n"
"|`webengine`\n"
"|Qt 5 library to render web content\n"
"\n"
"|`webkit`\n"
"|QtWebKit with a more modern WebKit code base\n"
"\n"
"|`websockets`\n"
"|Qt implementation of WebSocket protocol\n"
"\n"
"|`websockets-qml`\n"
"|Qt implementation of WebSocket protocol (QML bindings)\n"
"\n"
"|`webview`\n"
"|Qt component for displaying web content\n"
"\n"
"|`widgets`\n"
"|Qt C++ widgets module\n"
"\n"
"|`x11extras`\n"
"|Qt platform-specific features for X11-based systems\n"
"\n"
"|`xml`\n"
"|Qt SAX and DOM implementations\n"
"\n"
"|`xmlpatterns`\n"
"|Qt support for XPath, XQuery, XSLT and XML Schema\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2030
msgid ""
"To determine the libraries an application depends on, run `ldd` on the main "
"executable after a successful compilation."
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2032
#, no-wrap
msgid "Available Qt Tool Components"
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2046
#, no-wrap
msgid ""
"| Name\n"
"| Description\n"
"\n"
"|`buildtools`\n"
"|build tools (`moc`, `rcc`), needed for almost every Qt application.\n"
"\n"
"|`linguisttools`\n"
"|localization tools: `lrelease`, `lupdate`\n"
"\n"
"|`qmake`\n"
"|Makefile generator/build utility\n"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2049
#, no-wrap
msgid "Available Qt Plugin Components"
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2057
#, no-wrap
msgid ""
"| Name\n"
"| Description\n"
"\n"
"|`imageformats`\n"
"|plugins for TGA, TIFF, and MNG image formats\n"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2060
#, no-wrap
msgid "Selecting Qt 5 Components"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2064
msgid ""
"In this example, the ported application uses the Qt 5 graphical user "
"interface library, the Qt 5 core library, all of the Qt 5 code generation "
"tools and Qt 5's Makefile generator. Since the `gui` library implies a "
"dependency on the core library, `core` does not need to be specified. The Qt "
"5 code generation tools `moc`, `uic` and `rcc`, as well as the Makefile "
"generator `qmake` are only needed at buildtime, thus they are specified with "
"the `_build` suffix:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2069
#, no-wrap
msgid ""
"USES=\tqt:5\n"
"USE_QT=\tgui buildtools_build qmake_build\n"
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2074
#, no-wrap
msgid "Using `qmake`"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2077
msgid ""
"If the application provides a qmake project file ([.filename]#*.pro#), "
"define `USES= qmake` along with `USE_QT`. `USES= qmake` already implies a "
"build dependency on qmake, therefore the qmake component can be omitted from "
"`USE_QT`. Similar to <<using-cmake,CMake>>, qmake supports out-of-source "
"builds, which can be enabled by specifying the `outsource` argument (see "
"<<using-qmake-example,`USES= qmake` example>>). Also see <<using-qmake-"
"arguments>>."
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2078
#, no-wrap
msgid "Possible Arguments for `USES= qmake`"
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2095
#, no-wrap
msgid ""
"| Variable\n"
"| Description\n"
"\n"
"|`no_configure`\n"
"|Do not add the configure target. This is implied by `HAS_CONFIGURE=yes` and `GNU_CONFIGURE=yes`. It is required when the build only needs the environment setup from `USES= qmake`, but otherwise runs `qmake` on its own.\n"
"\n"
"|`no_env`\n"
"|Suppress modification of the configure and make environments. It is only required when `qmake` is used to configure the software and the build fails to understand the environment setup by `USES= qmake`.\n"
"\n"
"|`norecursive`\n"
"|Do not pass the `-recursive` argument to `qmake`.\n"
"\n"
"|`outsource`\n"
"|Perform an out-of-source build.\n"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2098
#, no-wrap
msgid "Variables for Ports That Use `qmake`"
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2112
#, no-wrap
msgid ""
"| Variable\n"
"| Description\n"
"\n"
"|`QMAKE_ARGS`\n"
"|Port specific qmake flags to be passed to the `qmake` binary.\n"
"\n"
"|`QMAKE_ENV`\n"
"|Environment variables to be set for the `qmake` binary. The default is `${CONFIGURE_ENV}`.\n"
"\n"
"|`QMAKE_SOURCE_PATH`\n"
"|Path to qmake project files ([.filename]#.pro#). The default is `${WRKSRC}` if an out-of-source build is requested, empty otherwise.\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2115
msgid "When using `USES= qmake`, these settings are deployed:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2122
#, no-wrap
msgid ""
"CONFIGURE_ARGS+=\t--with-qt-includes=${QT_INCDIR} \\\n"
"\t\t\t--with-qt-libraries=${QT_LIBDIR} \\\n"
"\t\t\t--with-extra-libs=${LOCALBASE}/lib \\\n"
"\t\t\t--with-extra-includes=${LOCALBASE}/include\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2126
#, no-wrap
msgid ""
"CONFIGURE_ENV+=\tQTDIR=\"${QT_PREFIX}\" QMAKE=\"${QMAKE}\" \\\n"
"\t\tMOC=\"${MOC}\" RCC=\"${RCC}\" UIC=\"${UIC}\" \\\n"
"\t\tQMAKESPEC=\"${QMAKESPEC}\"\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2130
#, no-wrap
msgid ""
"PLIST_SUB+=\tQT_INCDIR=${QT_INCDIR_REL} \\\n"
"\t\tQT_LIBDIR=${QT_LIBDIR_REL} \\\n"
"\t\tQT_PLUGINDIR=${QT_PLUGINDIR_REL}\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2133
msgid ""
"Some configure scripts do not support the arguments above. To suppress "
"modification of `CONFIGURE_ENV` and `CONFIGURE_ARGS`, set `USES= qmake:"
"no_env`."
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2135
#, no-wrap
msgid "`USES= qmake` Example"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2139
msgid "This snippet demonstrates the use of qmake for a Qt 5 port:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2144
#, no-wrap
msgid ""
"USES=\tqmake:outsource qt:5\n"
"USE_QT=\tbuildtools_build\n"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2149
msgid ""
"Qt applications are often written to be cross-platform and often X11/Unix is "
"not the platform they are developed on, which in turn leads to certain loose "
"ends, like:"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2151
msgid ""
"_Missing additional include paths._ Many applications come with system tray "
"icon support, but neglect to look for includes and/or libraries in the X11 "
"directories. To add directories to `qmake`'s include and library search "
"paths via the command line, use:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2156
#, no-wrap
msgid ""
"QMAKE_ARGS+=\tINCLUDEPATH+=${LOCALBASE}/include \\\n"
"\t\tLIBS+=-L${LOCALBASE}/lib\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2159
msgid ""
"_Bogus installation paths._ Sometimes data such as icons or .desktop files "
"are by default installed into directories which are not scanned by XDG-"
"compatible applications. package:editors/texmaker[] is an example for this - "
"look at [.filename]#patch-texmaker.pro# in the [.filename]#files# directory "
"of that port for a template on how to remedy this directly in the `qmake` "
"project file."
msgstr ""

#. type: Title ==
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2162
#, no-wrap
msgid "Using KDE"
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2165
#, no-wrap
msgid "KDE Variable Definitions"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2168
msgid ""
"If the application depends on KDE, set `USES+=kde:5` and `USE_KDE` to the "
"list of required components. `_build` and `_run` suffixes can be used to "
"force components dependency type (for example, `baseapps_run`). If no suffix "
"is set, a default dependency type will be used. To force both types, add the "
"component twice with both suffixes (for example, `ecm_build ecm_run`). "
"Available components are listed below (up-to-date components are also listed "
"in [.filename]#/usr/ports/Mk/Uses/kde.mk#):"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2169
#, no-wrap
msgid "Available KDE Components"
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2720
#, no-wrap
msgid ""
"| Name\n"
"| Description\n"
"\n"
"|`activities`\n"
"|KF5 runtime and library to organize work in separate activities\n"
"\n"
"|`activities-stats`\n"
"|KF5 statistics for activities\n"
"\n"
"|`activitymanagerd`\n"
"|System service to manage user's activities, track the usage patterns\n"
"\n"
"|`akonadi`\n"
"|Storage server for KDE-Pim\n"
"\n"
"|`akonadicalendar`\n"
"|Akonadi Calendar Integration\n"
"\n"
"|`akonadiconsole`\n"
"|Akonadi management and debugging console\n"
"\n"
"|`akonadicontacts`\n"
"|Libraries and daemons to implement Contact Management in Akonadi\n"
"\n"
"|`akonadiimportwizard`\n"
"|Import data from other mail clients to KMail\n"
"\n"
"|`akonadimime`\n"
"|Libraries and daemons to implement basic email handling\n"
"\n"
"|`akonadinotes`\n"
"|KDE library for accessing mail storages in MBox format\n"
"\n"
"|`akonadisearch`\n"
"|Libraries and daemons to implement searching in Akonadi\n"
"\n"
"|`akregator`\n"
"|A Feed Reader by KDE\n"
"\n"
"|`alarmcalendar`\n"
"|KDE API for KAlarm alarms\n"
"\n"
"|`apidox`\n"
"|KF5 API Documentation Tools\n"
"\n"
"|`archive`\n"
"|KF5 library that provides classes for handling archive formats\n"
"\n"
"|`attica`\n"
"|Open Collaboration Services API library KDE5 version\n"
"\n"
"|`attica5`\n"
"|Open Collaboration Services API library KDE5 version\n"
"\n"
"|`auth`\n"
"|KF5 abstraction to system policy and authentication features\n"
"\n"
"|`baloo`\n"
"|KF5 Framework for searching and managing user metadata\n"
"\n"
"|`baloo-widgets`\n"
"|BalooWidgets library\n"
"\n"
"|`baloo5`\n"
"|KF5 Framework for searching and managing user metadata\n"
"\n"
"|`blog`\n"
"|KDE API for weblogging access\n"
"\n"
"|`bookmarks`\n"
"|KF5 library for bookmarks and the XBEL format\n"
"\n"
"|`breeze`\n"
"|Plasma5 artwork, styles and assets for the Breeze visual style\n"
"\n"
"|`breeze-gtk`\n"
"|Plasma5 Breeze visual style for Gtk\n"
"\n"
"|`breeze-icons`\n"
"|Breeze icon theme for KDE\n"
"\n"
"|`calendarcore`\n"
"|KDE calendar access library\n"
"\n"
"|`calendarsupport`\n"
"|Calendar support libraries for KDEPim\n"
"\n"
"|`calendarutils`\n"
"|KDE utility and user interface functions for accessing calendar\n"
"\n"
"|`codecs`\n"
"|KF5 library for string manipulation\n"
"\n"
"|`completion`\n"
"|KF5 text completion helpers and widgets\n"
"\n"
"|`config`\n"
"|KF5 widgets for configuration dialogs\n"
"\n"
"|`configwidgets`\n"
"|KF5 widgets for configuration dialogs\n"
"\n"
"|`contacts`\n"
"|KDE api to manage contact information\n"
"\n"
"|`coreaddons`\n"
"|KF5 addons to QtCore\n"
"\n"
"|`crash`\n"
"|KF5 library to handle crash analysis and bug report from apps\n"
"\n"
"|`dbusaddons`\n"
"|KF5 addons to QtDBus\n"
"\n"
"|`decoration`\n"
"|Plasma5 library to create window decorations\n"
"\n"
"|`designerplugin`\n"
"|KF5 integration of Frameworks widgets in Qt Designer/Creator\n"
"\n"
"|`discover`\n"
"|Plasma5 package management tools\n"
"\n"
"|`dnssd`\n"
"|KF5 abstraction to system DNSSD features\n"
"\n"
"|`doctools`\n"
"|KF5 documentation generation from docbook\n"
"\n"
"|`drkonqi`\n"
"|Plasma5 crash handler\n"
"\n"
"|`ecm`\n"
"|Extra modules and scripts for CMake\n"
"\n"
"|`emoticons`\n"
"|KF5 library to convert emoticons\n"
"\n"
"|`eventviews`\n"
"|Event view libriares for KDEPim\n"
"\n"
"|`filemetadata`\n"
"|KF5 library for extracting file metadata\n"
"\n"
"|`frameworkintegration`\n"
"|KF5 workspace and cross-framework integration plugins\n"
"\n"
"|`gapi`\n"
"|KDE based library to access google services\n"
"\n"
"|`globalaccel`\n"
"|KF5 library to add support for global workspace shortcuts\n"
"\n"
"|`grantlee-editor`\n"
"|Editor for Grantlee themes\n"
"\n"
"|`grantleetheme`\n"
"|KDE PIM grantleetheme\n"
"\n"
"|`gravatar`\n"
"|Library for gravatar support\n"
"\n"
"|`guiaddons`\n"
"|KF5 addons to QtGui\n"
"\n"
"|`holidays`\n"
"|KDE library for calendar holidays\n"
"\n"
"|`hotkeys`\n"
"|Plasma5 library for hotkeys\n"
"\n"
"|`i18n`\n"
"|KF5 advanced internationalization framework\n"
"\n"
"|`iconthemes`\n"
"|KF5 library for handling icons in applications\n"
"\n"
"|`identitymanagement`\n"
"|KDE pim identities\n"
"\n"
"|`idletime`\n"
"|KF5 library for monitoring user activity\n"
"\n"
"|`imap`\n"
"|KDE API for IMAP support\n"
"\n"
"|`incidenceeditor`\n"
"|Incidence editor libriares for KDEPim\n"
"\n"
"|`infocenter`\n"
"|Plasma5 utility providing system information\n"
"\n"
"|`init`\n"
"|KF5 process launcher to speed up launching KDE applications\n"
"\n"
"|`itemmodels`\n"
"|KF5 models for Qt Model/View system\n"
"\n"
"|`itemviews`\n"
"|KF5 widget addons for Qt Model/View\n"
"\n"
"|`jobwidgets`\n"
"|KF5 widgets for tracking KJob instance\n"
"\n"
"|`js`\n"
"|KF5 library providing an ECMAScript interpreter\n"
"\n"
"|`jsembed`\n"
"|KF5 library for binding JavaScript objects to QObjects\n"
"\n"
"|`kaddressbook`\n"
"|KDE contact manager\n"
"\n"
"|`kalarm`\n"
"|Personal alarm scheduler\n"
"\n"
"|`kalarm`\n"
"|Personal alarm scheduler\n"
"\n"
"|`kate`\n"
"|Basic editor framework for the KDE system\n"
"\n"
"|`kcmutils`\n"
"|KF5 utilities for working with KCModules\n"
"\n"
"|`kde-cli-tools`\n"
"|Plasma5 non-interactive system tools\n"
"\n"
"|`kde-gtk-config`\n"
"|Plasma5 GTK2 and GTK3 configurator\n"
"\n"
"|`kdeclarative`\n"
"|KF5 library providing integration of QML and KDE Frameworks\n"
"\n"
"|`kded`\n"
"|KF5 extensible daemon for providing system level services\n"
"\n"
"|`kdelibs4support`\n"
"|KF5 porting aid from KDELibs4\n"
"\n"
"|`kdepim-addons`\n"
"|KDE PIM addons\n"
"\n"
"|`kdepim-apps-libs`\n"
"|KDE PIM mail related libraries\n"
"\n"
"|`kdepim-runtime5`\n"
"|KDE PIM tools and services\n"
"\n"
"|`kdeplasma-addons`\n"
"|Plasma5 addons to improve the Plasma experience\n"
"\n"
"|`kdesu`\n"
"|KF5 integration with su for elevated privileges\n"
"\n"
"|`kdewebkit`\n"
"|KF5 library providing integration of QtWebKit\n"
"\n"
"|`kgamma5`\n"
"|Plasma5 monitor's gamma settings\n"
"\n"
"|`khtml`\n"
"|KF5 KTHML rendering engine\n"
"\n"
"|`kimageformats`\n"
"|KF5 library providing support for additional image formats\n"
"\n"
"|`kio`\n"
"|KF5 resource and network access abstraction\n"
"\n"
"|`kirigami2`\n"
"|QtQuick based components set\n"
"\n"
"|`kitinerary`\n"
"|Data Model and Extraction System for Travel Reservation information\n"
"\n"
"|`kmail`\n"
"|KDE mail client\n"
"\n"
"|`kmail`\n"
"|KDE mail client\n"
"\n"
"|`kmail-account-wizard`\n"
"|KDE mail account wizard\n"
"\n"
"|`kmenuedit`\n"
"|Plasma5 menu editor\n"
"\n"
"|`knotes`\n"
"|Popup notes\n"
"\n"
"|`kontact`\n"
"|KDE Personal Information Manager\n"
"\n"
"|`kontact`\n"
"|KDE Personal Information Manager\n"
"\n"
"|`kontactinterface`\n"
"|KDE glue for embedding KParts into Kontact\n"
"\n"
"|`korganizer`\n"
"|Calendar and scheduling Program\n"
"\n"
"|`kpimdav`\n"
"|A DAV protocol implementation with KJobs\n"
"\n"
"|`kpkpass`\n"
"|Library to deal with Apple Wallet pass files\n"
"\n"
"|`kross`\n"
"|KF5 multi-language application scripting\n"
"\n"
"|`kscreen`\n"
"|Plasma5 screen management library\n"
"\n"
"|`kscreenlocker`\n"
"|Plasma5 secure lock screen architecture\n"
"\n"
"|`ksmtp`\n"
"|Job-based library to send email through an SMTP server\n"
"\n"
"|`ksshaskpass`\n"
"|Plasma5 ssh-add frontend\n"
"\n"
"|`ksysguard`\n"
"|Plasma5 utility to track and control the running processes\n"
"\n"
"|`kwallet-pam`\n"
"|Plasma5 KWallet PAM Integration\n"
"\n"
"|`kwayland-integration`\n"
"|Integration plugins for a Wayland-based desktop\n"
"\n"
"|`kwin`\n"
"|Plasma5 window manager\n"
"\n"
"|`kwrited`\n"
"|Plasma5 daemon listening for wall and write messages\n"
"\n"
"|`ldap`\n"
"|LDAP access API for KDE\n"
"\n"
"|`libkcddb`\n"
"|KDE CDDB library\n"
"\n"
"|`libkcompactdisc`\n"
"|KDE library for interfacing with audio CDs\n"
"\n"
"|`libkdcraw`\n"
"|LibRaw interface for KDE\n"
"\n"
"|`libkdegames`\n"
"|Libraries used by KDE games\n"
"\n"
"|`libkdepim`\n"
"|KDE PIM Libraries\n"
"\n"
"|`libkeduvocdocument`\n"
"|Library for reading and writing vocabulary files\n"
"\n"
"|`libkexiv2`\n"
"|Exiv2 library interface for KDE\n"
"\n"
"|`libkipi`\n"
"|KDE Image Plugin Interface\n"
"\n"
"|`libkleo`\n"
"|Certificate manager for KDE\n"
"\n"
"|`libksane`\n"
"|SANE library interface for KDE\n"
"\n"
"|`libkscreen`\n"
"|Plasma5 screen management library\n"
"\n"
"|`libksieve`\n"
"|Sieve libriares for KDEPim\n"
"\n"
"|`libksysguard`\n"
"|Plasma5 library to track and control running processes\n"
"\n"
"|`mailcommon`\n"
"|Common libriares for KDEPim\n"
"\n"
"|`mailimporter`\n"
"|Import mbox files to KMail\n"
"\n"
"|`mailtransport`\n"
"|KDE library to managing mail transport\n"
"\n"
"|`marble`\n"
"|Virtual globe and world atlas for KDE\n"
"\n"
"|`mbox`\n"
"|KDE library for accessing mail storages in MBox format\n"
"\n"
"|`mbox-importer`\n"
"|Import mbox files to KMail\n"
"\n"
"|`mediaplayer`\n"
"|KF5 plugin interface for media player features\n"
"\n"
"|`messagelib`\n"
"|Library for handling messages\n"
"\n"
"|`milou`\n"
"|Plasma5 Plasmoid for search\n"
"\n"
"|`mime`\n"
"|Library for handling MIME data\n"
"\n"
"|`newstuff`\n"
"|KF5 library for downloading application assets from the network\n"
"\n"
"|`notifications`\n"
"|KF5 abstraction for system notifications\n"
"\n"
"|`notifyconfig`\n"
"|KF5 configuration system for KNotify\n"
"\n"
"|`okular`\n"
"|KDE universal document viewer\n"
"\n"
"|`oxygen`\n"
"|Plasma5 Oxygen style\n"
"\n"
"|`oxygen-icons5`\n"
"|The Oxygen icon theme for KDE\n"
"\n"
"|`package`\n"
"|KF5 library to load and install packages\n"
"\n"
"|`parts`\n"
"|KF5 document centric plugin system\n"
"\n"
"|`people`\n"
"|KF5 library providing access to contacts\n"
"\n"
"|`pim-data-exporter`\n"
"|Import and export KDE PIM settings\n"
"\n"
"|`pimcommon`\n"
"|Common libriares for KDEPim\n"
"\n"
"|`pimtextedit`\n"
"|KDE library for PIM-specific text editing utilities\n"
"\n"
"|`plasma-browser-integration`\n"
"|Plasma5 components to integrate browsers into the desktop\n"
"\n"
"|`plasma-desktop`\n"
"|Plasma5 plasma desktop\n"
"\n"
"|`plasma-framework`\n"
"|KF5 plugin based UI runtime used to write user interfaces\n"
"\n"
"|`plasma-integration`\n"
"|Qt Platform Theme integration plugins for the Plasma workspaces\n"
"\n"
"|`plasma-pa`\n"
"|Plasma5 Plasma pulse audio mixer\n"
"\n"
"|`plasma-sdk`\n"
"|Plasma5 applications useful for Plasma development\n"
"\n"
"|`plasma-workspace`\n"
"|Plasma5 Plasma workspace\n"
"\n"
"|`plasma-workspace-wallpapers`\n"
"|Plasma5 wallpapers\n"
"\n"
"|`plotting`\n"
"|KF5 lightweight plotting framework\n"
"\n"
"|`polkit-kde-agent-1`\n"
"|Plasma5 daemon providing a polkit authentication UI\n"
"\n"
"|`powerdevil`\n"
"|Plasma5 tool to manage the power consumption settings\n"
"\n"
"|`prison`\n"
"|API to produce barcodes\n"
"\n"
"|`pty`\n"
"|KF5 pty abstraction\n"
"\n"
"|`purpose`\n"
"|Offers available actions for a specific purpose\n"
"\n"
"|`qqc2-desktop-style`\n"
"|Qt QuickControl2 style for KDE\n"
"\n"
"|`runner`\n"
"|KF5 parallelized query system\n"
"\n"
"|`service`\n"
"|KF5 advanced plugin and service introspection\n"
"\n"
"|`solid`\n"
"|KF5 hardware integration and detection\n"
"\n"
"|`sonnet`\n"
"|KF5 plugin-based spell checking library\n"
"\n"
"|`syndication`\n"
"|KDE RSS feed handling library\n"
"\n"
"|`syntaxhighlighting`\n"
"|KF5 syntax highlighting engine for structured text and code\n"
"\n"
"|`systemsettings`\n"
"|Plasma5 system settings\n"
"\n"
"|`texteditor`\n"
"|KF5 advanced embeddable text editor\n"
"\n"
"|`textwidgets`\n"
"|KF5 advanced text editing widgets\n"
"\n"
"|`threadweaver`\n"
"|KF5 addons to QtDBus\n"
"\n"
"|`tnef`\n"
"|KDE API for the handling of TNEF data\n"
"\n"
"|`unitconversion`\n"
"|KF5 library for unit conversion\n"
"\n"
"|`user-manager`\n"
"|Plasma5 user manager\n"
"\n"
"|`wallet`\n"
"|KF5 secure and unified container for user passwords\n"
"\n"
"|`wayland`\n"
"|KF5 Client and Server library wrapper for the Wayland libraries\n"
"\n"
"|`widgetsaddons`\n"
"|KF5 addons to QtWidgets\n"
"\n"
"|`windowsystem`\n"
"|KF5 library for access to the windowing system\n"
"\n"
"|`xmlgui`\n"
"|KF5 user configurable main windows\n"
"\n"
"|`xmlrpcclient`\n"
"|KF5 interaction with XMLRPC services\n"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2723
#, no-wrap
msgid "`USE_KDE` Example"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2727
msgid ""
"This is a simple example for a KDE port. `USES= cmake` instructs the port to "
"utilize CMake, a configuration tool widely used by KDE projects (see <<using-"
"cmake>> for detailed usage). `USE_KDE` brings dependency on KDE libraries. "
"Required KDE components and other dependencies can be determined through the "
"configure log. `USE_KDE` does not imply `USE_QT`. If a port requires some Qt "
"components, specify them in `USE_QT`."
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2733
#, no-wrap
msgid ""
"USES=\t\tcmake kde:5 qt:5\n"
"USE_KDE=\tecm\n"
"USE_QT=\t\tcore buildtools_build qmake_build\n"
msgstr ""

#. type: Title ==
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2738
#, no-wrap
msgid "Using LXQt"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2741
msgid ""
"Applications depending on LXQt should set `USES+= lxqt` and set `USE_LXQT` "
"to the list of required components from the table below"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2743
#, no-wrap
msgid "Available LXQt Components"
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2760
#, no-wrap
msgid ""
"| Name\n"
"| Description\n"
"\n"
"|`buildtools`\n"
"|Helpers for additional CMake modules\n"
"\n"
"|`libfmqt`\n"
"|Libfm Qt bindings\n"
"\n"
"|`lxqt`\n"
"|LXQt core library\n"
"\n"
"|`qtxdg`\n"
"|Qt implementation of freedesktop.org XDG specifications\n"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2763
#, no-wrap
msgid "`USE_LXQT` Example"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2767
msgid ""
"This is a simple example, `USE_LXQT` adds a dependency on LXQt libraries. "
"Required LXQt components and other dependencies can be determined from the "
"configure log."
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2773
#, no-wrap
msgid ""
"USES=\tcmake lxqt qt:5 tar:xz\n"
"USE_QT=\t\tcore dbus widgets buildtools_build qmake_build\n"
"USE_LXQT=\tbuildtools libfmqt\n"
msgstr ""

#. type: Title ==
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2778
#, no-wrap
msgid "Using Java"
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2781
#, no-wrap
msgid "Variable Definitions"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2784
msgid ""
"If the port needs a Java(TM) Development Kit (JDK(TM)) to either build, run "
"or even extract the distfile, then define `USE_JAVA`."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2786
msgid ""
"There are several JDKs in the ports collection, from various vendors, and in "
"several versions. If the port must use a particular version, specify it "
"using the `JAVA_VERSION` variable. The most current version is package:java/"
"openjdk15[], with package:java/openjdk14[], package:java/openjdk13[], "
"package:java/openjdk12[], package:java/openjdk11[], package:java/openjdk8[], "
"and package:java/openjdk7[] also available."
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2787
#, no-wrap
msgid "Variables Which May be Set by Ports That Use Java"
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2813
#, no-wrap
msgid ""
"| Variable\n"
"| Means\n"
"\n"
"|`USE_JAVA`\n"
"|Define for the remaining variables to have any effect.\n"
"\n"
"|`JAVA_VERSION`\n"
"|List of space-separated suitable Java versions for the port. An optional `\"+\"` allows specifying a range of versions (allowed values: `7[+] 8[+] 11[+] 12[+] 13[+] 14[+] 15[+]`).\n"
"\n"
"|`JAVA_OS`\n"
"|List of space-separated suitable JDK port operating systems for the port (allowed values: `native linux`).\n"
"\n"
"|`JAVA_VENDOR`\n"
"|List of space-separated suitable JDK port vendors for the port (allowed values: `freebsd bsdjava sun openjdk`).\n"
"\n"
"|`JAVA_BUILD`\n"
"|When set, add the selected JDK port to the build dependencies.\n"
"\n"
"|`JAVA_RUN`\n"
"|When set, add the selected JDK port to the run dependencies.\n"
"\n"
"|`JAVA_EXTRACT`\n"
"|When set, add the selected JDK port to the extract dependencies.\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2816
msgid ""
"Below is the list of all settings a port will receive after setting "
"`USE_JAVA`:"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2818
#, no-wrap
msgid "Variables Provided to Ports That Use Java"
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2889
#, no-wrap
msgid ""
"| Variable\n"
"| Value\n"
"\n"
"|`JAVA_PORT`\n"
"|The name of the JDK port (for example, `java/openjdk6`).\n"
"\n"
"|`JAVA_PORT_VERSION`\n"
"|The full version of the JDK port (for example, `1.6.0`). Only the first two digits of this version number are needed, use `${JAVA_PORT_VERSION:C/^([0-9])\\.([0-9])(.*)$/\\1.\\2/}`.\n"
"\n"
"|`JAVA_PORT_OS`\n"
"|The operating system used by the JDK port (for example, `'native'`).\n"
"\n"
"|`JAVA_PORT_VENDOR`\n"
"|The vendor of the JDK port (for example, `'openjdk'`).\n"
"\n"
"|`JAVA_PORT_OS_DESCRIPTION`\n"
"|Description of the operating system used by the JDK port (for example, `'Native'`).\n"
"\n"
"|`JAVA_PORT_VENDOR_DESCRIPTION`\n"
"|Description of the vendor of the JDK port (for example, `'OpenJDK BSD Porting Team'`).\n"
"\n"
"|`JAVA_HOME`\n"
"|Path to the installation directory of the JDK (for example, [.filename]#'/usr/local/openjdk6'#).\n"
"\n"
"|`JAVAC`\n"
"|Path to the Java compiler to use (for example, [.filename]#'/usr/local/openjdk6/bin/javac'#).\n"
"\n"
"|`JAR`\n"
"|Path to the `jar` tool to use (for example, [.filename]#'/usr/local/openjdk6/bin/jar'# or [.filename]#'/usr/local/bin/fastjar'#).\n"
"\n"
"|`APPLETVIEWER`\n"
"|Path to the `appletviewer` utility (for example, [.filename]#'/usr/local/openjdk6/bin/appletviewer'#).\n"
"\n"
"|`JAVA`\n"
"|Path to the `java` executable. Use this for executing Java programs (for example, [.filename]#'/usr/local/openjdk6/bin/java'#).\n"
"\n"
"|`JAVADOC`\n"
"|Path to the `javadoc` utility program.\n"
"\n"
"|`JAVAH`\n"
"|Path to the `javah` program.\n"
"\n"
"|`JAVAP`\n"
"|Path to the `javap` program.\n"
"\n"
"|`JAVA_KEYTOOL`\n"
"|Path to the `keytool` utility program.\n"
"\n"
"|`JAVA_N2A`\n"
"|Path to the `native2ascii` tool.\n"
"\n"
"|`JAVA_POLICYTOOL`\n"
"|Path to the `policytool` program.\n"
"\n"
"|`JAVA_SERIALVER`\n"
"|Path to the `serialver` utility program.\n"
"\n"
"|`RMIC`\n"
"|Path to the RMI stub/skeleton generator, `rmic`.\n"
"\n"
"|`RMIREGISTRY`\n"
"|Path to the RMI registry program, `rmiregistry`.\n"
"\n"
"|`RMID`\n"
"|Path to the RMI daemon program `rmid`.\n"
"\n"
"|`JAVA_CLASSES`\n"
"|Path to the archive that contains the JDK class files, [.filename]#${JAVA_HOME}/jre/lib/rt.jar#.\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2892
msgid ""
"Use the `java-debug` make target to get information for debugging the port. "
"It will display the value of many of the previously listed variables."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2894
msgid ""
"Additionally, these constants are defined so all Java ports may be installed "
"in a consistent way:"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2896
#, no-wrap
msgid "Constants Defined for Ports That Use Java"
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2910
#, no-wrap
msgid ""
"| Constant\n"
"| Value\n"
"\n"
"|`JAVASHAREDIR`\n"
"|The base directory for everything related to Java. Default: [.filename]#${PREFIX}/share/java#.\n"
"\n"
"|`JAVAJARDIR`\n"
"|The directory where JAR files is installed. Default: [.filename]#${JAVASHAREDIR}/classes#.\n"
"\n"
"|`JAVALIBDIR`\n"
"|The directory where JAR files installed by other ports are located. Default: [.filename]#${LOCALBASE}/share/java/classes#.\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2913
msgid ""
"The related entries are defined in both `PLIST_SUB` (documented in <<plist-"
"sub>>) and `SUB_LIST`."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2915
#, no-wrap
msgid "Building with Ant"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2918
msgid ""
"When the port is to be built using Apache Ant, it has to define `USE_ANT`. "
"Ant is thus considered to be the sub-make command. When no `do-build` target "
"is defined by the port, a default one will be set that runs Ant according to "
"`MAKE_ENV`, `MAKE_ARGS` and `ALL_TARGET`. This is similar to the `USES= "
"gmake` mechanism, which is documented in <<building>>."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2920
#, no-wrap
msgid "Best Practices"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2923
msgid ""
"When porting a Java library, the port has to install the JAR file(s) in [."
"filename]#${JAVAJARDIR}#, and everything else under [.filename]#"
"${JAVASHAREDIR}/${PORTNAME}# (except for the documentation, see below). To "
"reduce the packing file size, reference the JAR file(s) directly in the [."
"filename]#Makefile#. Use this statement (where [.filename]#myport.jar# is "
"the name of the JAR file installed as part of the port):"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2927
#, no-wrap
msgid "PLIST_FILES+=\t${JAVAJARDIR}/myport.jar\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2930
msgid ""
"When porting a Java application, the port usually installs everything under "
"a single directory (including its JAR dependencies). The use of [.filename]#"
"${JAVASHAREDIR}/${PORTNAME}# is strongly encouraged in this regard. It is up "
"the porter to decide whether the port installs the additional JAR "
"dependencies under this directory or uses the already installed ones (from [."
"filename]#${JAVAJARDIR}#)."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2932
msgid ""
"When porting a Java(TM) application that requires an application server such "
"as package:www/tomcat7[] to run the service, it is quite common for a vendor "
"to distribute a [.filename]#.war#. A [.filename]#.war# is a Web application "
"ARchive and is extracted when called by the application. Avoid adding a [."
"filename]#.war# to [.filename]#pkg-plist#. It is not considered best "
"practice. An application server will expand war archive, but not clean it up "
"properly if the port is removed. A more desirable way of working with this "
"file is to extract the archive, then install the files, and lastly add these "
"files to [.filename]#pkg-plist#."
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2937
#, no-wrap
msgid ""
"TOMCATDIR=\t${LOCALBASE}/apache-tomcat-7.0\n"
"WEBAPPDIR=\tmyapplication\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2941
#, no-wrap
msgid ""
"post-extract:\n"
"\t@${MKDIR} ${WRKDIR}/${PORTDIRNAME}\n"
"\t@${TAR} xf ${WRKDIR}/myapplication.war -C ${WRKDIR}/${PORTDIRNAME}\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2946
#, no-wrap
msgid ""
"do-install:\n"
"\tcd ${WRKDIR} && \\\n"
"\t${INSTALL} -d -o ${WWWOWN} -g ${WWWGRP} ${TOMCATDIR}/webapps/${PORTDIRNAME}\n"
"\tcd ${WRKDIR}/${PORTDIRNAME} && ${COPYTREE_SHARE} \\* ${WEBAPPDIR}/${PORTDIRNAME}\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2949
msgid ""
"Regardless of the type of port (library or application), the additional "
"documentation is installed in the <<install-documentation,same location>> as "
"for any other port. The Javadoc tool is known to produce a different set of "
"files depending on the version of the JDK that is used. For ports that do "
"not enforce the use of a particular JDK, it is therefore a complex task to "
"specify the packing list ([.filename]#pkg-plist#). This is one reason why "
"porters are strongly encouraged to use `PORTDOCS`. Moreover, even if the set "
"of files that will be generated by `javadoc` can be predicted, the size of "
"the resulting [.filename]#pkg-plist# advocates for the use of `PORTDOCS`."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2951
msgid ""
"The default value for `DATADIR` is [.filename]#${PREFIX}/share/${PORTNAME}#. "
"It is a good idea to override `DATADIR` to [.filename]#${JAVASHAREDIR}/"
"${PORTNAME}# for Java ports. Indeed, `DATADIR` is automatically added to "
"`PLIST_SUB` (documented in <<plist-sub,Changing pkg-plist Based on Make "
"Variables>>) so use `%%DATADIR%%` directly in [.filename]#pkg-plist#."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2953
msgid ""
"As for the choice of building Java ports from source or directly installing "
"them from a binary distribution, there is no defined policy at the time of "
"writing. However, people from the https://www.freebsd.org/java/[FreeBSD Java "
"Project] encourage porters to have their ports built from source whenever it "
"is a trivial task."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2955
msgid ""
"All the features that have been presented in this section are implemented in "
"[.filename]#bsd.java.mk#. If the port needs more sophisticated Java support, "
"please first have a look at the http://svnweb.FreeBSD.org/ports/head/Mk/bsd."
"java.mk?view=log[bsd.java.mk Subversion log] as it usually takes some time "
"to document the latest features. Then, if the needed support that is lacking "
"would be beneficial to many other Java ports, feel free to discuss it on the "
"freebsd-java."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2957
msgid ""
"Although there is a `java` category for PRs, it refers to the JDK porting "
"effort from the FreeBSD Java project. Therefore, submit the Java port in the "
"`ports` category as for any other port, unless the issue is related to "
"either a JDK implementation or [.filename]#bsd.java.mk#."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2959
msgid ""
"Similarly, there is a defined policy regarding the `CATEGORIES` of a Java "
"port, which is detailed in <<makefile-categories,Categorization>>."
msgstr ""

#. type: Title ==
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2961
#, no-wrap
msgid "Web Applications, Apache and PHP"
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2964
#, no-wrap
msgid "Apache"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2967
#, no-wrap
msgid "Variables for Ports That Use Apache"
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2990
#, no-wrap
msgid ""
"|`USE_APACHE`\n"
"|The port requires Apache. Possible values: `yes` (gets any version), `22`, `24`, `22-24`, `22+`, etc. The default APACHE version is `22`. More details are available in [.filename]#ports/Mk/bsd.apache.mk# and at https://wiki.freebsd.org/Apache/[wiki.freebsd.org/Apache/].\n"
"\n"
"|`APXS`\n"
"|Full path to the `apxs` binary. Can be overridden in the port.\n"
"\n"
"|`HTTPD`\n"
"|Full path to the `httpd` binary. Can be overridden in the port.\n"
"\n"
"|`APACHE_VERSION`\n"
"|The version of present Apache installation (read-only variable). This variable is only available after inclusion of [.filename]#bsd.port.pre.mk#. Possible values: `22`, `24`.\n"
"\n"
"|`APACHEMODDIR`\n"
"|Directory for Apache modules. This variable is automatically expanded in [.filename]#pkg-plist#.\n"
"\n"
"|`APACHEINCLUDEDIR`\n"
"|Directory for Apache headers. This variable is automatically expanded in [.filename]#pkg-plist#.\n"
"\n"
"|`APACHEETCDIR`\n"
"|Directory for Apache configuration files. This variable is automatically expanded in [.filename]#pkg-plist#.\n"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:2993
#, no-wrap
msgid "Useful Variables for Porting Apache Modules"
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3016
#, no-wrap
msgid ""
"|`MODULENAME`\n"
"|Name of the module. Default value is `PORTNAME`. Example: `mod_hello`\n"
"\n"
"|`SHORTMODNAME`\n"
"|Short name of the module. Automatically derived from `MODULENAME`, but can be overridden. Example: `hello`\n"
"\n"
"|`AP_FAST_BUILD`\n"
"|Use `apxs` to compile and install the module.\n"
"\n"
"|`AP_GENPLIST`\n"
"|Also automatically creates a [.filename]#pkg-plist#.\n"
"\n"
"|`AP_INC`\n"
"|Adds a directory to a header search path during compilation.\n"
"\n"
"|`AP_LIB`\n"
"|Adds a directory to a library search path during compilation.\n"
"\n"
"|`AP_EXTRAS`\n"
"|Additional flags to pass to `apxs`.\n"
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3019
#, no-wrap
msgid "Web Applications"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3022
msgid ""
"Web applications must be installed into [.filename]#PREFIX/www/appname#. "
"This path is available both in [.filename]#Makefile# and in [.filename]#pkg-"
"plist# as `WWWDIR`, and the path relative to `PREFIX` is available in [."
"filename]#Makefile# as `WWWDIR_REL`."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3024
msgid ""
"The user and group of web server process are available as `WWWOWN` and "
"`WWWGRP`, in case the ownership of some files needs to be changed. The "
"default values of both are `www`. Use `WWWOWN?= myuser` and `WWWGRP?= "
"mygroup` if the port needs different values. This allows the user to "
"override them easily."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3028
msgid ""
"Use `WWWOWN` and `WWWGRP` sparingly. Remember that every file the web server "
"can write to is a security risk waiting to happen."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3031
msgid ""
"Do not depend on Apache unless the web app explicitly needs Apache. Respect "
"that users may wish to run a web application on a web server other than "
"Apache."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3033
#, no-wrap
msgid "PHP"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3036
msgid ""
"PHP web applications declare their dependency on it with `USES=php`. See "
"<<uses-php,`php`>> for more information."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3038
#, no-wrap
msgid "PEAR Modules"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3041
msgid "Porting PEAR modules is a very simple process."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3043
msgid ""
"Add `USES=pear` to the port's [.filename]#Makefile#. The framework will "
"install the relevant files in the right places and automatically generate "
"the plist at install time."
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3045
#, no-wrap
msgid "Example Makefile for PEAR Class"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3053
#, no-wrap
msgid ""
"PORTNAME=       Date\n"
"DISTVERSION=\t1.4.3\n"
"CATEGORIES=\tdevel www pear\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3056
#, no-wrap
msgid ""
"MAINTAINER=\texample@domain.com\n"
"COMMENT=\tPEAR Date and Time Zone Classes\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3058
#, no-wrap
msgid "USES=\tpear\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3067
msgid ""
"PEAR modules will automatically be flavorized using <<flavors-auto-php,PHP "
"flavors>>."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3072
msgid ""
"If a non default `PEAR_CHANNEL` is used, the build and run-time dependencies "
"will automatically be added."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3077
msgid ""
"PEAR modules do not need to defined `PKGNAMESUFFIX` it is automatically "
"filled in using `PEAR_PKGNAMEPREFIX`. If a port needs to add to "
"`PKGNAMEPREFIX`, it must also use `PEAR_PKGNAMEPREFIX` to differentiate "
"between different flavors."
msgstr ""

#. type: Title ====
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3080
#, no-wrap
msgid "Horde Modules"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3083
msgid "In the same way, porting Horde modules is a simple process."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3085
msgid ""
"Add `USES=horde` to the port's [.filename]#Makefile#. The framework will "
"install the relevant files in the right places and automatically generate "
"the plist at install time."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3087
msgid ""
"The `USE_HORDE_BUILD` and `USE_HORDE_RUN` variables can be used to add "
"buildtime and runtime dependencies on other Horde modules. See [."
"filename]#Mk/Uses/horde.mk# for a complete list of available modules."
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3089
#, no-wrap
msgid "Example Makefile for Horde Module"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3097
#, no-wrap
msgid ""
"PORTNAME=\tHorde_Core\n"
"DISTVERSION=\t2.14.0\n"
"CATEGORIES=\tdevel www pear\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3100
#, no-wrap
msgid ""
"MAINTAINER=\thorde@FreeBSD.org\n"
"COMMENT=\tHorde Core Framework libraries\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3104
#, no-wrap
msgid ""
"OPTIONS_DEFINE=\tKOLAB SOCKETS\n"
"KOLAB_DESC=\tEnable Kolab server support\n"
"SOCKETS_DESC=\tDepend on sockets PHP extension\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3107
#, no-wrap
msgid ""
"USES=\thorde\n"
"USE_PHP=\tsession\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3111
#, no-wrap
msgid ""
"USE_HORDE_BUILD=\tHorde_Role\n"
"USE_HORDE_RUN=\tHorde_Role Horde_History Horde_Pack \\\n"
"\t\tHorde_Text_Filter Horde_View\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3114
#, no-wrap
msgid ""
"KOLAB_USE=\tHORDE_RUN=Horde_Kolab_Server,Horde_Kolab_Session\n"
"SOCKETS_USE=\tPHP=sockets\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3123
msgid ""
"As Horde modules are also PEAR modules they will also automatically be "
"flavorized using <<lavors-auto-php,PHP flavors>>."
msgstr ""

#. type: Title ==
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3126
#, no-wrap
msgid "Using Python"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3129
msgid ""
"The Ports Collection supports parallel installation of multiple Python "
"versions. Ports must use a correct `python` interpreter, according to the "
"user-settable `PYTHON_VERSION`. Most prominently, this means replacing the "
"path to `python` executable in scripts with the value of `PYTHON_CMD`."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3131
msgid ""
"Ports that install files under `PYTHON_SITELIBDIR` must use the `pyXY-` "
"package name prefix, so their package name embeds the version of Python they "
"are installed into."
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3135
#, no-wrap
msgid "PKGNAMEPREFIX=\t${PYTHON_PKGNAMEPREFIX}\n"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3139
#, no-wrap
msgid "Most Useful Variables for Ports That Use Python"
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3171
#, no-wrap
msgid ""
"|`USES=python`\n"
"|The port needs Python. The minimal required version can be specified with values such as `2.7+`. Version ranges can also be specified by separating two version numbers with a dash: `USES=python:3.2-3.3`\n"
"\n"
"|`USE_PYTHON=distutils`\n"
"|Use Python distutils for configuring, compiling, and installing. This is required when the port comes with [.filename]#setup.py#. This overrides the `do-build` and `do-install` targets and may also override `do-configure` if `GNU_CONFIGURE` is not defined. Additionally, it implies `USE_PYTHON=flavors`.\n"
"\n"
"|`USE_PYTHON=autoplist`\n"
"|Create the packaging list automatically. This also requires `USE_PYTHON=distutils` to be set.\n"
"\n"
"|`USE_PYTHON=concurrent`\n"
"|The port will use an unique prefix, typically `PYTHON_PKGNAMEPREFIX` for certain directories, such as `EXAMPLESDIR` and `DOCSDIR` and also will append a suffix, the python version from `PYTHON_VER`, to binaries and scripts to be installed. This allows ports to be installed for different Python versions at the same time, which otherwise would install conflicting files.\n"
"\n"
"|`USE_PYTHON=flavors`\n"
"|The port does not use distutils but still supports multiple Python versions. `FLAVORS` will be set to the supported Python versions. See <<flavors-auto-python,`USES`=python and Flavors>> for more information.\n"
"\n"
"|`USE_PYTHON=optsuffix`\n"
"|If the current Python version is not the default version, the port will gain `PKGNAMESUFFIX=${PYTHON_PKGNAMESUFFIX}`. Only useful with flavors.\n"
"\n"
"|`PYTHON_PKGNAMEPREFIX`\n"
"|Used as a `PKGNAMEPREFIX` to distinguish packages for different Python versions. Example: `py27-`\n"
"\n"
"|`PYTHON_SITELIBDIR`\n"
"|Location of the site-packages tree, that contains installation path of Python (usually `LOCALBASE`). `PYTHON_SITELIBDIR` can be very useful when installing Python modules.\n"
"\n"
"|`PYTHONPREFIX_SITELIBDIR`\n"
"|The PREFIX-clean variant of PYTHON_SITELIBDIR. Always use `%%PYTHON_SITELIBDIR%%` in [.filename]#pkg-plist# when possible. The default value of `%%PYTHON_SITELIBDIR%%` is `lib/python%%PYTHON_VERSION%%/site-packages`\n"
"\n"
"|`PYTHON_CMD`\n"
"|Python interpreter command line, including version number.\n"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3174
#, no-wrap
msgid "Python Module Dependency Helpers"
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3200
#, no-wrap
msgid ""
"|`PYNUMERIC`\n"
"|Dependency line for numeric extension.\n"
"\n"
"|`PYNUMPY`\n"
"|Dependency line for the new numeric extension, numpy. (PYNUMERIC is deprecated by upstream vendor).\n"
"\n"
"|`PYXML`\n"
"|Dependency line for XML extension (not needed for Python 2.0 and higher as it is also in base distribution).\n"
"\n"
"|`PY_ENUM34`\n"
"|Conditional dependency on package:devel/py-enum34[] depending on the Python version.\n"
"\n"
"|`PY_ENUM_COMPAT`\n"
"|Conditional dependency on package:devel/py-enum-compat[] depending on the Python version.\n"
"\n"
"|`PY_PATHLIB`\n"
"|Conditional dependency on package:devel/py-pathlib[] depending on the Python version.\n"
"\n"
"|`PY_IPADDRESS`\n"
"|Conditional dependency on package:net/py-ipaddress[] depending on the Python version.\n"
"\n"
"|`PY_FUTURES`\n"
"|Conditional dependency on package:devel/py-futures[] depending on the Python version.\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3203
msgid ""
"A complete list of available variables can be found in [.filename]#/usr/"
"ports/Mk/Uses/python.mk#."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3207
msgid ""
"All dependencies to Python ports using <<flavors-auto-python,Python "
"flavors>> (either with `USE_PYTHON=distutils` or `USE_PYTHON=flavors`) must "
"have the Python flavor appended to their origin using `@${PY_FLAVOR}`. See "
"<<python-Makefile>>."
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3210
#, no-wrap
msgid "Makefile for a Simple Python Module"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3218
#, no-wrap
msgid ""
"PORTNAME=\tsample\n"
"DISTVERSION=\t1.2.3\n"
"CATEGORIES=\tdevel\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3221
#, no-wrap
msgid ""
"MAINTAINER=\tjohn@doe.tld\n"
"COMMENT=\tPython sample module\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3223
#, no-wrap
msgid "RUN_DEPENDS=\t${PYTHON_PKGNAMEPREFIX}six>0:devel/py-six@${PY_FLAVOR}\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3226
#, no-wrap
msgid ""
"USES=\t\tpython\n"
"USE_PYTHON=\tautoplist distutils\n"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3233
msgid ""
"Some Python applications claim to have `DESTDIR` support (which would be "
"required for staging) but it is broken (Mailman up to 2.1.16, for instance). "
"This can be worked around by recompiling the scripts. This can be done, for "
"example, in the `post-build` target. Assuming the Python scripts are "
"supposed to reside in `PYTHONPREFIX_SITELIBDIR` after installation, this "
"solution can be applied:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3239
#, no-wrap
msgid ""
"(cd ${STAGEDIR}${PREFIX} \\\n"
"  && ${PYTHON_CMD} ${PYTHON_LIBDIR}/compileall.py \\\n"
"   -d ${PREFIX} -f ${PYTHONPREFIX_SITELIBDIR:S;${PREFIX}/;;})\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3242
msgid ""
"This recompiles the sources with a path relative to the stage directory, and "
"prepends the value of `PREFIX` to the file name recorded in the byte-"
"compiled output file by `-d`. `-f` is required to force recompilation, and "
"the `:S;${PREFIX}/;;` strips prefixes from the value of "
"`PYTHONPREFIX_SITELIBDIR` to make it relative to `PREFIX`."
msgstr ""

#. type: Title ==
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3244
#, no-wrap
msgid "Using Tcl/Tk"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3247
msgid ""
"The Ports Collection supports parallel installation of multiple Tcl/Tk "
"versions. Ports should try to support at least the default Tcl/Tk version "
"and higher with `USES=tcl`. It is possible to specify the desired version of "
"`tcl` by appending `:_xx_`, for example, `USES=tcl:85`."
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3248
#, no-wrap
msgid "The Most Useful Read-Only Variables for Ports That Use Tcl/Tk"
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3274
#, no-wrap
msgid ""
"|`TCL_VER`\n"
"| chosen major.minor version of Tcl\n"
"\n"
"|`TCLSH`\n"
"| full path of the Tcl interpreter\n"
"\n"
"|`TCL_LIBDIR`\n"
"| path of the Tcl libraries\n"
"\n"
"|`TCL_INCLUDEDIR`\n"
"| path of the Tcl C header files\n"
"\n"
"|`TK_VER`\n"
"| chosen major.minor version of Tk\n"
"\n"
"|`WISH`\n"
"| full path of the Tk interpreter\n"
"\n"
"|`TK_LIBDIR`\n"
"| path of the Tk libraries\n"
"\n"
"|`TK_INCLUDEDIR`\n"
"| path of the Tk C header files\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3277
msgid ""
"See the <<uses-tcl,`USES=tcl`>> and <<uses-tk,`USES=tk`>> of <<uses,Using "
"`USES` Macros>> for a full description of those variables. A complete list "
"of those variables is available in [.filename]#/usr/ports/Mk/Uses/tcl.mk#."
msgstr ""

#. type: Title ==
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3279
#, no-wrap
msgid "Using Ruby"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3282
#, no-wrap
msgid "Useful Variables for Ports That Use Ruby"
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3299
#, no-wrap
msgid ""
"| Variable\n"
"| Description\n"
"\n"
"|`USE_RUBY`\n"
"|Adds build and run dependencies on Ruby.\n"
"\n"
"|`USE_RUBY_EXTCONF`\n"
"|The port uses [.filename]#extconf.rb# to configure.\n"
"\n"
"|`USE_RUBY_SETUP`\n"
"|The port uses [.filename]#setup.rb# to configure.\n"
"\n"
"|`RUBY_SETUP`\n"
"|Override the name of the setup script from [.filename]#setup.rb#. Another common value is [.filename]#install.rb#.\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3302
msgid ""
"This table shows the selected variables available to port authors via the "
"ports infrastructure. These variables are used to install files into their "
"proper locations. Use them in [.filename]#pkg-plist# as much as possible. Do "
"not redefine these variables in the port."
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3303
#, no-wrap
msgid "Selected Read-Only Variables for Ports That Use Ruby"
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3333
#, no-wrap
msgid ""
"| Variable\n"
"| Description\n"
"| Example value\n"
"\n"
"|`RUBY_PKGNAMEPREFIX`\n"
"|Used as a `PKGNAMEPREFIX` to distinguish packages for different Ruby versions.\n"
"|`ruby19-`\n"
"\n"
"|`RUBY_VERSION`\n"
"|Full version of Ruby in the form of `x.y.z[.p]`.\n"
"|`1.9.3.484`\n"
"\n"
"|`RUBY_SITELIBDIR`\n"
"|Architecture independent libraries installation path.\n"
"|`/usr/local/lib/ruby/site_ruby/1.9`\n"
"\n"
"|`RUBY_SITEARCHLIBDIR`\n"
"|Architecture dependent libraries installation path.\n"
"|`/usr/local/lib/ruby/site_ruby/1.9/amd64-freebsd10`\n"
"\n"
"|`RUBY_MODDOCDIR`\n"
"|Module documentation installation path.\n"
"|`/usr/local/share/doc/ruby19/patsy`\n"
"\n"
"|`RUBY_MODEXAMPLESDIR`\n"
"|Module examples installation path.\n"
"|`/usr/local/share/examples/ruby19/patsy`\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3336
msgid ""
"A complete list of available variables can be found in [.filename]#/usr/"
"ports/Mk/bsd.ruby.mk#."
msgstr ""

#. type: Title ==
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3338
#, no-wrap
msgid "Using SDL"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3341
msgid ""
"`USE_SDL` is used to autoconfigure the dependencies for ports which use an "
"SDL based library like package:devel/sdl12[] and package:graphics/"
"sdl_image[]."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3343
msgid "These SDL libraries for version 1.2 are recognized:"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3345
msgid "sdl: package:devel/sdl12[]"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3346
msgid "console: package:devel/sdl_console[]"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3347
msgid "gfx: package:graphics/sdl_gfx[]"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3348
msgid "image: package:graphics/sdl_image[]"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3349
msgid "mixer: package:audio/sdl_mixer[]"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3350
msgid "mm: package:devel/sdlmm[]"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3351
msgid "net: package:net/sdl_net[]"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3352
msgid "pango: package:x11-toolkits/sdl_pango[]"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3353
msgid "sound: package:audio/sdl_sound[]"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3354
msgid "ttf: package:graphics/sdl_ttf[]"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3356
msgid "These SDL libraries for version 2.0 are recognized:"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3358
msgid "sdl: package:devel/sdl20[]"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3359
msgid "gfx: package:graphics/sdl2_gfx[]"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3360
msgid "image: package:graphics/sdl2_image[]"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3361
msgid "mixer: package:audio/sdl2_mixer[]"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3362
msgid "net: package:net/sdl2_net[]"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3363
msgid "ttf: package:graphics/sdl2_ttf[]"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3365
msgid ""
"Therefore, if a port has a dependency on package:net/sdl_net[] and package:"
"audio/sdl_mixer[], the syntax will be:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3369
#, no-wrap
msgid "USE_SDL=\tnet mixer\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3372
msgid ""
"The dependency package:devel/sdl12[], which is required by package:net/"
"sdl_net[] and package:audio/sdl_mixer[], is automatically added as well."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3374
msgid "Using `USE_SDL` with entries for SDL 1.2, it will automatically:"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3376
msgid "Add a dependency on sdl12-config to `BUILD_DEPENDS`"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3377
msgid "Add the variable `SDL_CONFIG` to `CONFIGURE_ENV`"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3378
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3384
msgid "Add the dependencies of the selected libraries to `LIB_DEPENDS`"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3380
msgid "Using `USE_SDL` with entries for SDL 2.0, it will automatically:"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3382
msgid "Add a dependency on sdl2-config to `BUILD_DEPENDS`"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3383
msgid "Add the variable `SDL2_CONFIG` to `CONFIGURE_ENV`"
msgstr ""

#. type: Title ==
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3387
#, no-wrap
msgid "Using wxWidgets"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3390
msgid ""
"This section describes the status of the wxWidgets libraries in the ports "
"tree and its integration with the ports system."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3395
msgid ""
"There are many versions of the wxWidgets libraries which conflict between "
"them (install files under the same name). In the ports tree this problem has "
"been solved by installing each version under a different name using version "
"number suffixes."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3397
msgid ""
"The obvious disadvantage of this is that each application has to be modified "
"to find the expected version. Fortunately, most of the applications call the "
"`wx-config` script to determine the necessary compiler and linker flags. The "
"script is named differently for every available version. Majority of "
"applications respect an environment variable, or accept a configure "
"argument, to specify which `wx-config` script to call. Otherwise they have "
"to be patched."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3399
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3688
#, no-wrap
msgid "Version Selection"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3402
msgid ""
"To make the port use a specific version of wxWidgets there are two variables "
"available for defining (if only one is defined the other will be set to a "
"default value):"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3404
#, no-wrap
msgid "Variables to Select wxWidgets Versions"
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3418
#, no-wrap
msgid ""
"| Variable\n"
"| Description\n"
"| Default value\n"
"\n"
"|`USE_WX`\n"
"|List of versions the port can use\n"
"|All available versions\n"
"\n"
"|`USE_WX_NOT`\n"
"|List of versions the port cannot use\n"
"|None\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3421
msgid ""
"The available wxWidgets versions and the corresponding ports in the tree are:"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3423
#, no-wrap
msgid "Available wxWidgets Versions"
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3434
#, no-wrap
msgid ""
"| Version\n"
"| Port\n"
"\n"
"|`2.8`\n"
"|package:x11-toolkits/wxgtk28[]\n"
"\n"
"|`3.0`\n"
"|package:x11-toolkits/wxgtk30[]\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3437
msgid ""
"The variables in <<wx-ver-sel-table>> can be set to one or more of these "
"combinations separated by spaces:"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3439
#, no-wrap
msgid "wxWidgets Version Specifications"
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3456
#, no-wrap
msgid ""
"| Description\n"
"| Example\n"
"\n"
"|Single version\n"
"|`2.8`\n"
"\n"
"|Ascending range\n"
"|`2.8+`\n"
"\n"
"|Descending range\n"
"|`3.0-`\n"
"\n"
"|Full range (must be ascending)\n"
"|`2.8-3.0`\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3459
msgid ""
"There are also some variables to select the preferred versions from the "
"available ones. They can be set to a list of versions, the first ones will "
"have higher priority."
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3460
#, no-wrap
msgid "Variables to Select Preferred wxWidgets Versions"
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3471
#, no-wrap
msgid ""
"| Name\n"
"| Designed for\n"
"\n"
"|`WANT_WX_VER`\n"
"|the port\n"
"\n"
"|`WITH_WX_VER`\n"
"|the user\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3477
msgid ""
"There are other applications that, while not being wxWidgets libraries, are "
"related to them. These applications can be specified in `WX_COMPS`. These "
"components are available:"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3478
#, no-wrap
msgid "Available wxWidgets Components"
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3496
#, no-wrap
msgid ""
"| Name\n"
"| Description\n"
"| Version restriction\n"
"\n"
"|`wx`\n"
"|main library\n"
"|none\n"
"\n"
"|`contrib`\n"
"|contributed libraries\n"
"|`none`\n"
"\n"
"|`python`\n"
"|wxPython (Python bindings)\n"
"|`2.8-3.0`\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3499
msgid ""
"The dependency type can be selected for each component by adding a suffix "
"separated by a semicolon. If not present then a default type will be used "
"(see <<wx-def-dep-types>>). These types are available:"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3500
#, no-wrap
msgid "Available wxWidgets Dependency Types"
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3514
#, no-wrap
msgid ""
"| Name\n"
"| Description\n"
"\n"
"|`build`\n"
"|Component is required for building, equivalent to `BUILD_DEPENDS`\n"
"\n"
"|`run`\n"
"|Component is required for running, equivalent to `RUN_DEPENDS`\n"
"\n"
"|`lib`\n"
"|Component is required for building and running, equivalent to `LIB_DEPENDS`\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3517
msgid "The default values for the components are detailed in this table:"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3519
#, no-wrap
msgid "Default wxWidgets Dependency Types"
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3539
#, no-wrap
msgid ""
"| Component\n"
"| Dependency type\n"
"\n"
"|`wx`\n"
"|`lib`\n"
"\n"
"|`contrib`\n"
"|`lib`\n"
"\n"
"|`python`\n"
"|`run`\n"
"\n"
"|`mozilla`\n"
"|`lib`\n"
"\n"
"|`svg`\n"
"|`lib`\n"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3542
#, no-wrap
msgid "Selecting wxWidgets Components"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3546
msgid ""
"This fragment corresponds to a port which uses wxWidgets version `2.4` and "
"its contributed libraries."
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3551
#, no-wrap
msgid ""
"USE_WX=\t\t2.8\n"
"WX_COMPS=\twx contrib\n"
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3556
#, no-wrap
msgid "Detecting Installed Versions"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3559
msgid ""
"To detect an installed version, define `WANT_WX`. If it is not set to a "
"specific version then the components will have a version suffix. `HAVE_WX` "
"will be filled after detection."
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3561
#, no-wrap
msgid "Detecting Installed wxWidgets Versions and Components"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3565
msgid ""
"This fragment can be used in a port that uses wxWidgets if it is installed, "
"or an option is selected."
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3569
#, no-wrap
msgid "WANT_WX=\tyes\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3571
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3587
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3640
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3973
#, no-wrap
msgid ".include <bsd.port.pre.mk>\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3576
#, no-wrap
msgid ""
".if defined(WITH_WX) || !empty(PORT_OPTIONS:MWX) || !empty(HAVE_WX:Mwx-2.8)\n"
"USE_WX=\t\t\t2.8\n"
"CONFIGURE_ARGS+=\t--enable-wx\n"
".endif\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3579
msgid ""
"This fragment can be used in a port that enables wxPython support if it is "
"installed or if an option is selected, in addition to wxWidgets, both "
"version `2.8`."
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3585
#, no-wrap
msgid ""
"USE_WX=\t\t2.8\n"
"WX_COMPS=\twx\n"
"WANT_WX=\t2.8\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3592
#, no-wrap
msgid ""
".if defined(WITH_WXPYTHON) || !empty(PORT_OPTIONS:MWXPYTHON) || !empty(HAVE_WX:Mpython)\n"
"WX_COMPS+=\t\tpython\n"
"CONFIGURE_ARGS+=\t--enable-wxpython\n"
".endif\n"
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3597
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3754
#, no-wrap
msgid "Defined Variables"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3600
msgid ""
"These variables are available in the port (after defining one from <<wx-ver-"
"sel-table>>)."
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3602
#, no-wrap
msgid "Variables Defined for Ports That Use wxWidgets"
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3616
#, no-wrap
msgid ""
"| Name\n"
"| Description\n"
"\n"
"|`WX_CONFIG`\n"
"|The path to the wxWidgets`wx-config` script (with different name)\n"
"\n"
"|`WXRC_CMD`\n"
"|The path to the wxWidgets`wxrc` program (with different name)\n"
"\n"
"|`WX_VERSION`\n"
"|The wxWidgets version that is going to be used (for example, `2.6`)\n"
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3619
#, no-wrap
msgid "Processing in [.filename]#bsd.port.pre.mk#"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3622
msgid ""
"Define `WX_PREMK` to be able to use the variables right after including [."
"filename]#bsd.port.pre.mk#."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3626
msgid ""
"When defining `WX_PREMK`, then the version, dependencies, components and "
"defined variables will not change if modifying the wxWidgets port variables "
"_after_ including [.filename]#bsd.port.pre.mk#."
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3629
#, no-wrap
msgid "Using wxWidgets Variables in Commands"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3633
msgid ""
"This fragment illustrates the use of `WX_PREMK` by running the `wx-config` "
"script to obtain the full version string, assign it to a variable and pass "
"it to the program."
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3638
#, no-wrap
msgid ""
"USE_WX=\t\t2.8\n"
"WX_PREMK=\tyes\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3643
#, no-wrap
msgid ""
".if exists(${WX_CONFIG})\n"
"VER_STR!=\t${WX_CONFIG} --release\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3646
#, no-wrap
msgid ""
"PLIST_SUB+=\tVERSION=\"${VER_STR}\"\n"
".endif\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3653
msgid ""
"The wxWidgets variables can be safely used in commands when they are inside "
"targets without the need of `WX_PREMK`."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3656
#, no-wrap
msgid "Additional `configure` Arguments"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3659
msgid ""
"Some GNU `configure` scripts cannot find wxWidgets with just the `WX_CONFIG` "
"environment variable set, requiring additional arguments. `WX_CONF_ARGS` can "
"be used for provide them."
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3660
#, no-wrap
msgid "Legal Values for `WX_CONF_ARGS`"
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3671
#, no-wrap
msgid ""
"| Possible value\n"
"| Resulting argument\n"
"\n"
"|`absolute`\n"
"|`--with-wx-config=${WX_CONFIG}`\n"
"\n"
"|`relative`\n"
"|`--with-wx=${LOCALBASE} --with-wx-config=${WX_CONFIG:T}`\n"
msgstr ""

#. type: Title ==
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3674
#, no-wrap
msgid "Using Lua"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3677
msgid ""
"This section describes the status of the Lua libraries in the ports tree and "
"its integration with the ports system."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3682
msgid ""
"There are many versions of the Lua libraries and corresponding interpreters, "
"which conflict between them (install files under the same name). In the "
"ports tree this problem has been solved by installing each version under a "
"different name using version number suffixes."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3684
msgid ""
"The obvious disadvantage of this is that each application has to be modified "
"to find the expected version. But it can be solved by adding some additional "
"flags to the compiler and linker."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3686
msgid ""
"Applications that use Lua should normally build for just one version. "
"However, loadable modules for Lua are built in a separate flavor for each "
"Lua version that they support, and dependencies on such modules should "
"specify the flavor using the `@${LUA_FLAVOR}` suffix on the port origin."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3691
msgid "A port using Lua should have a line of this form:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3695
#, no-wrap
msgid "USES=\tlua\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3698
msgid ""
"If a specific version of Lua, or range of versions, is needed, it can be "
"specified as a parameter in the form `XY` (which may be used multiple "
"times), `XY+`, `-XY`, or `XY-ZA`. The default version of Lua as set via "
"`DEFAULT_VERSIONS` will be used if it falls in the requested range, "
"otherwise the closest requested version to the default will be used. For "
"example:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3702
#, no-wrap
msgid "USES=\tlua:52-53\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3705
msgid ""
"Note that no attempt is made to adjust the version selection based on the "
"presence of any already-installed Lua version."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3709
msgid ""
"The `XY+` form of version specification should not be used without careful "
"consideration; the Lua API changes to some extent in every version, and "
"configuration tools like CMake or Autoconf will often fail to work on future "
"versions of Lua until updated to do so."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3712
#, no-wrap
msgid "Configuration and Compiler flags"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3715
msgid ""
"Software that uses Lua may have been written to auto-detect the Lua version "
"in use. In general ports should override this assumption, and force the use "
"of the specific Lua version selected as described above. Depending on the "
"software being ported, this might require any or all of:"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3717
msgid ""
"Using `LUA_VER` as part of a parameter to the software's configuration "
"script via `CONFIGURE_ARGS` or `CONFIGURE_ENV` (or equivalent for other "
"build systems);"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3718
msgid ""
"Adding `-I${LUA_INCDIR}`, `-L${LUA_LIBDIR}`, and `-llua-${LUA_VER}` to "
"`CFLAGS`, `LDFLAGS`, `LIBS` respectively as appropriate;"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3719
msgid ""
"Patch the software's configuration or build files to select the correct "
"version."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3722
#, no-wrap
msgid "Version Flavors"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3725
msgid ""
"A port which installs a Lua module (rather than an application that simply "
"makes use of Lua) should build a separate flavor for each supported Lua "
"version. This is done by adding the `module` parameter:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3729
#, no-wrap
msgid "USES=\tlua:module\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3732
msgid ""
"A version number or range of versions can be specified as well; use a comma "
"to separate parameters."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3734
msgid ""
"Since each flavor must have a different package name, the variable "
"`LUA_PKGNAMEPREFIX` is provided which will be set to an appropriate value; "
"the intended usage is:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3738
#, no-wrap
msgid "PKGNAMEPREFIX=\t${LUA_PKGNAMEPREFIX}\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3741
msgid ""
"Module ports should normally install files only to `LUA_MODLIBDIR`, "
"`LUA_MODSHAREDIR`, `LUA_DOCSDIR`, and `LUA_EXAMPLESDIR`, all of which are "
"set up to refer to version-specific subdirectories. Installing any other "
"files must be done with care to avoid conflicts between versions."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3743
msgid ""
"A port (other than a Lua module) which wishes to build a separate package "
"for each Lua version should use the `flavors` parameter:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3747
#, no-wrap
msgid "USES=\tlua:flavors\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3750
msgid ""
"This operates the same way as the `module` parameter described above, but "
"without the assumption that the package should be documented as a Lua module "
"(so `LUA_DOCSDIR` and `LUA_EXAMPLESDIR` are not defined by default). "
"However, the port may choose to define `LUA_DOCSUBDIR` as a suitable "
"subdirectory name (usually the port's `PORTNAME` as long as this does not "
"conflict with the `PORTNAME` of any module), in which case the framework "
"will define both `LUA_DOCSDIR` and `LUA_EXAMPLESDIR`."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3752
msgid ""
"As with module ports, a flavored port should avoid installing files that "
"would conflict between versions. Typically this is done by adding "
"`LUA_VER_STR` as a suffix to program names (e.g. using <<uses-uniquefiles,"
"`uniquefiles`>>), and otherwise using either `LUA_VER` or `LUA_VER_STR` as "
"part of any other files or subdirectories used outside of `LUA_MODLIBDIR` "
"and `LUA_MODSHAREDIR`."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3757
msgid "These variables are available in the port."
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3759
#, no-wrap
msgid "Variables Defined for Ports That Use Lua"
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3806
#, no-wrap
msgid ""
"| Name\n"
"| Description\n"
"\n"
"|`LUA_VER`\n"
"|The Lua version that is going to be used (for example, `5.1`)\n"
"\n"
"|`LUA_VER_STR`\n"
"|The Lua version without the dots (for example, `51`)\n"
"\n"
"|`LUA_FLAVOR`\n"
"|The flavor name corresponding to the selected Lua version, to be used for specifying dependencies\n"
"\n"
"|`LUA_BASE`\n"
"|The prefix that should be used to locate Lua (and components) that are already installed\n"
"\n"
"|`LUA_PREFIX`\n"
"|The prefix where Lua (and components) are to be installed by this port\n"
"\n"
"|`LUA_INCDIR`\n"
"|The directory where Lua header files are installed\n"
"\n"
"|`LUA_LIBDIR`\n"
"|The directory where Lua libraries are installed\n"
"\n"
"|`LUA_REFMODLIBDIR`\n"
"|The directory where Lua module libraries ([.filename]#.so#) that are already installed are to be found\n"
"\n"
"|`LUA_REFMODSHAREDIR`\n"
"|The directory where Lua modules ([.filename]#.lua#) that are already installed are to be found\n"
"\n"
"|`LUA_MODLIBDIR`\n"
"|The directory where Lua module libraries ([.filename]#.so#) are to be installed by this port\n"
"\n"
"|`LUA_MODSHAREDIR`\n"
"|The directory where Lua modules ([.filename]#.lua#) are to be installed by this port\n"
"\n"
"|`LUA_PKGNAMEPREFIX`\n"
"|The package name prefix used by Lua modules\n"
"\n"
"|`LUA_CMD`\n"
"|The name of the Lua interpreter (e.g. `lua53`)\n"
"\n"
"|`LUAC_CMD`\n"
"|The name of the Lua compiler (e.g. `luac53`)\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3809
msgid ""
"These additional variables are available for ports that specified the "
"`module` parameter:"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3811
#, no-wrap
msgid "Variables Defined for Lua Module Ports"
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3822
#, no-wrap
msgid ""
"| Name\n"
"| Description\n"
"\n"
"|`LUA_DOCSDIR`\n"
"|the directory to which the module's documentation should be installed.\n"
"\n"
"|`LUA_EXAMPLESDIR`\n"
"|the directory to which the module's example files should be installed.\n"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3828
#, no-wrap
msgid "Makefile for an application using Lua"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3832
msgid ""
"This example shows how to reference a Lua module required at run time. "
"Notice that the reference must specify a flavor."
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3838
#, no-wrap
msgid ""
"PORTNAME=\tsample\n"
"DISTVERSION=\t1.2.3\n"
"CATEGORIES=\twhatever\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3841
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3864
#, no-wrap
msgid ""
"MAINTAINER=\tjohn@doe.tld\n"
"COMMENT=\tSample\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3843
#, no-wrap
msgid "RUN_DEPENDS=\t${LUA_REFMODLIBDIR}/lpeg.so:devel/lua-lpeg@${LUA_FLAVOR}\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3845
#, no-wrap
msgid "USES=\t\tlua\n"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3852
#, no-wrap
msgid "Makefile for a simple Lua module"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3861
#, no-wrap
msgid ""
"PORTNAME=\tsample\n"
"DISTVERSION=\t1.2.3\n"
"CATEGORIES=\twhatever\n"
"PKGNAMEPREFIX=\t${LUA_PKGNAMEPREFIX}\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3866
#, no-wrap
msgid "USES=\t\tlua:module\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3868
#, no-wrap
msgid "DOCSDIR=\t${LUA_DOCSDIR}\n"
msgstr ""

#. type: Title ==
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3875
#, no-wrap
msgid "Using `iconv`"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3878
msgid ""
"After 2013-10-08 (link:https://svnweb.freebsd.org/changeset/"
"base/254273[r254273]), FreeBSD 10-CURRENT and newer versions have a native "
"`iconv` in the operating system. On earlier versions, package:converters/"
"libiconv[] was used as a dependency."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3880
msgid ""
"For software that needs `iconv`, define `USES=iconv`. FreeBSD versions "
"before 10-CURRENT on 2013-08-13 (link:https://svnweb.freebsd.org/changeset/"
"base/254273[r254273]) do not have a native `iconv`. On these earlier "
"versions, a dependency on package:converters/libiconv[] will be added "
"automatically."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3882
msgid "When a port defines `USES=iconv`, these variables will be available:"
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3916
#, no-wrap
msgid ""
"| Variable name\n"
"| Purpose\n"
"| Value before FreeBSD 10-CURRENT 254273 (2013-08-13)\n"
"| Value after FreeBSD 10-CURRENT 254273 (2013-08-13)\n"
"\n"
"\n"
"|`ICONV_CMD`\n"
"|Directory where the `iconv` binary resides\n"
"|`${LOCALBASE}/bin/iconv`\n"
"|[.filename]#/usr/bin/iconv#\n"
"\n"
"|`ICONV_LIB`\n"
"|`ld` argument to link to [.filename]#libiconv# (if needed)\n"
"|`-liconv`\n"
"|(empty)\n"
"\n"
"|`ICONV_PREFIX`\n"
"|Directory where the `iconv` implementation resides (useful for configure scripts)\n"
"|`${LOCALBASE}`\n"
"|[.filename]#/usr#\n"
"\n"
"|`ICONV_CONFIGURE_ARG`\n"
"|Preconstructed configure argument for configure scripts\n"
"|`--with-libiconv-prefix=${LOCALBASE}`\n"
"|(empty)\n"
"\n"
"|`ICONV_CONFIGURE_BASE`\n"
"|Preconstructed configure argument for configure scripts\n"
"|`--with-libiconv=${LOCALBASE}`\n"
"|(empty)\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3919
msgid ""
"These two examples automatically populate the variables with the correct "
"value for systems using package:converters/libiconv[] or the native `iconv` "
"respectively:"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3921
#, no-wrap
msgid "Simple `iconv` Usage"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3928
#, no-wrap
msgid ""
"USES=\t\ticonv\n"
"LDFLAGS+=\t-L${LOCALBASE}/lib ${ICONV_LIB}\n"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3933
#, no-wrap
msgid "`iconv` Usage with `configure`"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3940
#, no-wrap
msgid ""
"USES=\t\ticonv\n"
"CONFIGURE_ARGS+=${ICONV_CONFIGURE_ARG}\n"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3945
msgid ""
"As shown above, `ICONV_LIB` is empty when a native `iconv` is present. This "
"can be used to detect the native `iconv` and respond appropriately."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3947
msgid ""
"Sometimes a program has an `ld` argument or search path hardcoded in a [."
"filename]#Makefile# or configure script. This approach can be used to solve "
"that problem:"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3949
#, no-wrap
msgid "Fixing Hardcoded `-liconv`"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3955
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3971
#, no-wrap
msgid "USES=\t\ticonv\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3958
#, no-wrap
msgid ""
"post-patch:\n"
"\t@${REINPLACE_CMD} -e 's/-liconv/${ICONV_LIB}/' ${WRKSRC}/Makefile\n"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3963
msgid ""
"In some cases it is necessary to set alternate values or perform operations "
"depending on whether there is a native `iconv`. [.filename]#bsd.port.pre.mk# "
"must be included before testing the value of `ICONV_LIB`:"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3965
#, no-wrap
msgid "Checking for Native `iconv` Availability"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3979
#, no-wrap
msgid ""
"post-patch:\n"
".if empty(ICONV_LIB)\n"
"\t# native iconv detected\n"
"\t@${REINPLACE_CMD} -e 's|iconv||' ${WRKSRC}/Config.sh\n"
".endif\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3981
#, no-wrap
msgid ".include <bsd.port.post.mk>\n"
msgstr ""

#. type: Title ==
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3986
#, no-wrap
msgid "Using Xfce"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3989
msgid "Ports that need Xfce libraries or applications set `USES=xfce`."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3991
msgid ""
"Specific Xfce library and application dependencies are set with values "
"assigned to `USE_XFCE`. They are defined in [.filename]#/usr/ports/Mk/Uses/"
"xfce.mk#. The possible values are:"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3992
#, no-wrap
msgid "Values of `USE_XFCE`"
msgstr ""

#. type: Labeled list
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3993
#, no-wrap
msgid "garcon"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3995
msgid "package:sysutils/garcon[]"
msgstr ""

#. type: Labeled list
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3996
#, no-wrap
msgid "libexo"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3998
msgid "package:x11/libexo[]"
msgstr ""

#. type: Labeled list
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:3999
#, no-wrap
msgid "libgui"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4001
msgid "package:x11-toolkits/libxfce4gui[]"
msgstr ""

#. type: Labeled list
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4002
#, no-wrap
msgid "libmenu"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4004
msgid "package:x11/libxfce4menu[]"
msgstr ""

#. type: Labeled list
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4005
#, no-wrap
msgid "libutil"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4007
msgid "package:x11/libxfce4util[]"
msgstr ""

#. type: Labeled list
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4008
#, no-wrap
msgid "panel"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4010
msgid "package:x11-wm/xfce4-panel[]"
msgstr ""

#. type: Labeled list
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4011
#, no-wrap
msgid "thunar"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4013
msgid "package:x11-fm/thunar[]"
msgstr ""

#. type: Labeled list
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4014
#, no-wrap
msgid "xfconf"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4016
msgid "package:x11/xfce4-conf[]"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4019
#, no-wrap
msgid "`USES=xfce` Example"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4026
#, no-wrap
msgid ""
"USES=\t\txfce\n"
"USE_XFCE=\tlibmenu\n"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4031
#, no-wrap
msgid "Using Xfce's Own GTK2 Widgets"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4035
msgid ""
"In this example, the ported application uses the GTK2-specific widgets "
"package:x11/libxfce4menu[] and package:x11/xfce4-conf[]."
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4040
#, no-wrap
msgid ""
"USES=\t\txfce:gtk2\n"
"USE_XFCE=\tlibmenu xfconf\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4047
msgid ""
"Xfce components included this way will automatically include any "
"dependencies they need. It is no longer necessary to specify the entire "
"list. If the port only needs package:x11-wm/xfce4-panel[], use:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4052
#, no-wrap
msgid ""
"USES=\t\txfce\n"
"USE_XFCE=\tpanel\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4055
msgid ""
"There is no need to list the components package:x11-wm/xfce4-panel[] needs "
"itself like this:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4060
#, no-wrap
msgid ""
"USES=\t\txfce\n"
"USE_XFCE=\tlibexo libmenu libutil panel\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4063
msgid ""
"However, Xfce components and non-Xfce dependencies of the port must be "
"included explicitly. Do not count on an Xfce component to provide a sub-"
"dependency other than itself for the main port."
msgstr ""

#. type: Title ==
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4067
#, no-wrap
msgid "Using Databases"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4070
msgid ""
"Use one of the `USES` macros from <<using-databases-uses>> to add a "
"dependency on a database."
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4072
#, no-wrap
msgid "Database `USES` Macros"
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4089
#, no-wrap
msgid ""
"| Database\n"
"| USES Macro\n"
"\n"
"|Berkeley DB\n"
"|<<uses-bdb,`bdb`>>\n"
"\n"
"|MariaDB, MySQL, Percona\n"
"|<<uses-mysql,`mysql`>>\n"
"\n"
"|PostgreSQL\n"
"|<<uses-pgsql,`pgsql`>>\n"
"\n"
"|SQLite\n"
"|<<uses-sqlite,`sqlite`>>\n"
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4092
#, no-wrap
msgid "Using Berkeley DB 6"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4098
#, no-wrap
msgid "USES=\tbdb:6\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4101
msgid "See <<uses-bdb,`bdb`>> for more information."
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4104
#, no-wrap
msgid "Using MySQL"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4108
msgid "When a port needs the MySQL client library add"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4112
#, no-wrap
msgid "USES=\tmysql\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4115
msgid "See <<[uses-mysql,`mysql`>> for more information."
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4118
#, no-wrap
msgid "Using PostgreSQL"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4122
msgid "When a port needs the PostgreSQL server version 9.6 or later add"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4127
#, no-wrap
msgid ""
"USES=\t\tpgsql:9.6+\n"
"WANT_PGSQL=\tserver\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4130
msgid "See <<uses-pgsql,`pgsql`>> for more information."
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4133
#, no-wrap
msgid "Using SQLite 3"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4139
#, no-wrap
msgid "USES=\tsqlite:3\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4142
msgid "See <<uses-sqlite,`sqlite`>> for more information."
msgstr ""

#. type: Title ==
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4145
#, no-wrap
msgid "Starting and Stopping Services (`rc` Scripts)"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4148
msgid ""
"[.filename]#rc.d# scripts are used to start services on system startup, and "
"to give administrators a standard way of stopping, starting and restarting "
"the service. Ports integrate into the system [.filename]#rc.d# framework. "
"Details on its usage can be found in link:{handbook}#configtuning-rcd/[the "
"rc.d Handbook chapter]. Detailed explanation of the available commands is "
"provided in man:rc[8] and man:rc.subr[8]. Finally, there is link:{rc-"
"scripting}[an article] on practical aspects of [.filename]#rc.d# scripting."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4150
msgid ""
"With a mythical port called _doorman_, which needs to start a _doormand_ "
"daemon. Add the following to the [.filename]#Makefile#:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4154
#, no-wrap
msgid "USE_RC_SUBR=\tdoormand\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4157
msgid ""
"Multiple scripts may be listed and will be installed. Scripts must be placed "
"in the [.filename]#files# subdirectory and a `.in` suffix must be added to "
"their filename. Standard `SUB_LIST` expansions will be ran against this "
"file. Use of the `%%PREFIX%%` and `%%LOCALBASE%%` expansions is strongly "
"encouraged as well. More on `SUB_LIST` in <<using-sub-files,the relevant "
"section>>."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4159
msgid ""
"As of FreeBSD 6.1-RELEASE, local [.filename]#rc.d# scripts (including those "
"installed by ports) are included in the overall man:rcorder[8] of the base "
"system."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4161
msgid ""
"An example simple [.filename]#rc.d# script to start the doormand daemon:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4165
#, no-wrap
msgid "#!/bin/sh\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4179
#, no-wrap
msgid ""
"# $FreeBSD$\n"
"#\n"
"# PROVIDE: doormand\n"
"# REQUIRE: LOGIN\n"
"# KEYWORD: shutdown\n"
"#\n"
"# Add these lines to /etc/rc.conf.local or /etc/rc.conf\n"
"# to enable this service:\n"
"#\n"
"# doormand_enable (bool):\tSet to NO by default.\n"
"#\t\t\t\tSet it to YES to enable doormand.\n"
"# doormand_config (path):\tSet to %%PREFIX%%/etc/doormand/doormand.cf\n"
"#\t\t\t\tby default.\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4181
#, no-wrap
msgid ". /etc/rc.subr\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4184
#, no-wrap
msgid ""
"name=doormand\n"
"rcvar=doormand_enable\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4186
#, no-wrap
msgid "load_rc_config $name\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4189
#, no-wrap
msgid ""
": ${doormand_enable:=\"NO\"}\n"
": ${doormand_config=\"%%PREFIX%%/etc/doormand/doormand.cf\"}\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4192
#, no-wrap
msgid ""
"command=%%PREFIX%%/sbin/${name}\n"
"pidfile=/var/run/${name}.pid\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4194
#, no-wrap
msgid "command_args=\"-p $pidfile -f $doormand_config\"\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4196
#, no-wrap
msgid "run_rc_command \"$1\"\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4199
msgid ""
"Unless there is a very good reason to start the service earlier, or it runs "
"as a particular user (other than root), all ports scripts must use:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4203
#, no-wrap
msgid "REQUIRE: LOGIN\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4206
msgid ""
"If the startup script launches a daemon that must be shutdown, the following "
"will trigger a stop of the service on system shutdown:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4210
#, no-wrap
msgid "KEYWORD: shutdown\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4213
msgid ""
"If the script is not starting a persistent service this is not necessary."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4215
msgid ""
"For optional configuration elements the \"=\" style of default variable "
"assignment is preferable to the \":=\" style here, since the former sets a "
"default value only if the variable is unset, and the latter sets one if the "
"variable is unset _or_ null. A user might very well include something like:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4219
#, no-wrap
msgid "doormand_flags=\"\"\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4222
msgid ""
"in their [.filename]#rc.conf.local#, and a variable substitution using \":="
"\" would inappropriately override the user's intention. The `_enable` "
"variable is not optional, and must use the \":\" for the default."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4226
msgid ""
"Ports _must not_ start and stop their services when installing and "
"deinstalling. Do not abuse the [.filename]#plist# keywords described in "
"<<plist-keywords-base-exec,`@preexec command,@postexec command,@preunexec "
"command,@postunexec command`>> by running commands that modify the currently "
"running system, including starting or stopping services."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4229
#, no-wrap
msgid "Pre-Commit Checklist"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4232
msgid ""
"Before contributing a port with an [.filename]#rc.d# script, and more "
"importantly, before committing one, please consult this checklist to be sure "
"that it is ready."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4234
msgid ""
"The package:devel/rclint[] port can check for most of these, but it is not a "
"substitute for proper review."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4237
msgid ""
"If this is a new file, does it have a [.filename]#.sh# extension? If so, "
"that must be changed to just [.filename]#file.in# since [.filename]#rc.d# "
"files may not end with that extension."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4238
msgid "Does the file have a `$FreeBSD$` tag?"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4239
msgid ""
"Do the name of the file (minus [.filename]#.in#), the `PROVIDE` line, and `"
"$` _name_ all match? The file name matching `PROVIDE` makes debugging "
"easier, especially for man:rcorder[8] issues. Matching the file name and `"
"$`_name_ makes it easier to figure out which variables are relevant in [."
"filename]#rc.conf[.local]#. It is also a policy for all new scripts, "
"including those in the base system."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4240
msgid ""
"Is the `REQUIRE` line set to `LOGIN`? This is mandatory for scripts that run "
"as a non-root user. If it runs as root, is there a good reason for it to run "
"prior to `LOGIN`? If not, it must run after so that local scrips can be "
"loosely grouped to a point in man:rcorder[8] after most everything in the "
"base is already running."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4241
msgid ""
"Does the script start a persistent service? If so, it must have `KEYWORD: "
"shutdown`."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4242
msgid ""
"Make sure there is no `KEYWORD: FreeBSD` present. This has not been "
"necessary nor desirable for years. It is also an indication that the new "
"script was copy/pasted from an old script, so extra caution must be given to "
"the review."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4243
msgid ""
"If the script uses an interpreted language like `perl`, `python`, or `ruby`, "
"make certain that `command_interpreter` is set appropriately, for example, "
"for Perl, by adding `PERL=${PERL}` to `SUB_LIST` and using `%%PERL%%`. "
"Otherwise,"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4247
#, no-wrap
msgid "# service name stop\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4250
msgid ""
"  will probably not work properly. See man:service[8] for more information."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4251
msgid ""
"Have all occurrences of [.filename]#/usr/local# been replaced with `%%PREFIX%"
"%`?"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4252
msgid "Do the default variable assignments come after `load_rc_config`?"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4253
msgid ""
"Are there default assignments to empty strings? They should be removed, but "
"double-check that the option is documented in the comments at the top of the "
"file."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4254
msgid "Are things that are set in variables actually used in the script?"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4255
msgid ""
"Are options listed in the default _name_`_flags` things that are actually "
"mandatory? If so, they must be in `command_args`. `-d` is a red flag (pardon "
"the pun) here, since it is usually the option to \"daemonize\" the process, "
"and therefore is actually mandatory."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4256
msgid ""
"`_name__flags` must never be included in `command_args` (and vice versa, "
"although that error is less common)."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4257
msgid ""
"Does the script execute any code unconditionally? This is frowned on. "
"Usually these things must be dealt with through a `start_precmd`."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4258
msgid ""
"All boolean tests must use the `checkyesno` function. No hand-rolled tests "
"for `[Yy][Ee][Ss]`, etc."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4259
msgid ""
"If there is a loop (for example, waiting for something to start) does it "
"have a counter to terminate the loop? We do not want the boot to be stuck "
"forever if there is an error."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4260
msgid ""
"Does the script create files or directories that need specific permissions, "
"for example, a [.filename]#pid# that needs to be owned by the user that runs "
"the process? Rather than the traditional man:touch[1]/man:chown[8]/man:"
"chmod[1] routine, consider using man:install[1] with the proper command line "
"arguments to do the whole procedure with one step."
msgstr ""

#. type: Title ==
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4262
#, no-wrap
msgid "Adding Users and Groups"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4265
msgid ""
"Some ports require a particular user account to be present, usually for "
"daemons that run as that user. For these ports, choose a _unique_ UID from "
"50 to 999 and register it in [.filename]#ports/UIDs# (for users) and [."
"filename]#ports/GIDs# (for groups). The unique identification should be the "
"same for users and groups."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4267
msgid ""
"Please include a patch against these two files when requiring a new user or "
"group to be created for the port."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4269
msgid ""
"Then use `USERS` and `GROUPS` in [.filename]#Makefile#, and the user will be "
"automatically created when installing the port."
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4274
#, no-wrap
msgid ""
"USERS=\tpulse\n"
"GROUPS=\tpulse pulse-access pulse-rt\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4277
msgid ""
"The current list of reserved UIDs and GIDs can be found in [.filename]#ports/"
"UIDs# and [.filename]#ports/GIDs#."
msgstr ""

#. type: Title ==
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4279
#, no-wrap
msgid "Ports That Rely on Kernel Sources"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4282
msgid ""
"Some ports (such as kernel loadable modules) need the kernel source files so "
"that the port can compile. Here is the correct way to determine if the user "
"has them installed:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4286
#, no-wrap
msgid "USES=\tkmod\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4289
msgid ""
"Apart from this check, the `kmod` feature takes care of most items that "
"these ports need to take into account."
msgstr ""

#. type: Title ==
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4291
#, no-wrap
msgid "Go Libraries"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4294
msgid ""
"Ports must not package or install Go libs or source code. Go ports must "
"fetch the required deps at the normal fetch time and should only install the "
"programs and things users need, not the things Go developers would need."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4296
msgid "Ports should (in order of preference):"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4298
msgid "Use vendored dependencies included with the package source."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4299
msgid ""
"Fetch the versions of deps specified by upstream (in the case of go.mod, "
"vendor.json or similar)."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4300
msgid ""
"As a last resort (deps are not included nor versions specified exactly) "
"fetch versions of dependencies available at the time of upstream development/"
"release."
msgstr ""

#. type: Title ==
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4303
#, no-wrap
msgid "Haskell Libraries"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4306
msgid ""
"Just like in case of Go language, Ports must not package or install Haskell "
"libraries. Haskell ports must link statically to their dependencies and "
"fetch all distribution files on fetch stage."
msgstr ""

#. type: Title ==
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4308
#, no-wrap
msgid "Shell Completion Files"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4311
msgid ""
"Many modern shells (including bash, tcsh, and zsh) support parameter and/or "
"option tab-completion. This support usually comes from completion files, "
"which contain the definitions for how tab completion will work for a certain "
"command. Ports sometimes ship with their own completion files, or porters "
"may have created them themselves."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4313
msgid ""
"When available, completion files should always be installed. It is not "
"necessary to make an option for it. If an option is used, though, always "
"enable it in `OPTIONS_DEFAULT`."
msgstr ""

#. type: Block title
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4314
#, no-wrap
msgid "Shell completion file paths"
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4322
#, no-wrap
msgid ""
"|`bash`\n"
"|[.filename]#${PREFIX}/etc/bash_completion.d#\n"
"\n"
"|`zsh`\n"
"|[.filename]#${PREFIX}/share/zsh/site-functions#\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/special/chapter.adoc:4324
msgid "Do not register any dependencies on the shells themselves."
msgstr ""
