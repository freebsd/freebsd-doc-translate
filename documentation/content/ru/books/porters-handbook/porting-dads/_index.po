# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR The FreeBSD Project
# This file is distributed under the same license as the FreeBSD Documentation package.
# Vladlen Popolitov <vladlenpopolitov@list.ru>, 2025.
msgid ""
msgstr ""
"Project-Id-Version: FreeBSD Documentation VERSION\n"
"POT-Creation-Date: 2025-05-01 19:56-0300\n"
"PO-Revision-Date: 2025-07-13 04:45+0000\n"
"Last-Translator: Vladlen Popolitov <vladlenpopolitov@list.ru>\n"
"Language-Team: Russian <https://translate-dev.freebsd.org/projects/"
"documentation/booksporters-handbookporting-dads_index/ru/>\n"
"Language: ru\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Plural-Forms: nplurals=3; plural=n%10==1 && n%100!=11 ? 0 : n%10>=2 && "
"n%10<=4 && (n%100<10 || n%100>=20) ? 1 : 2;\n"
"X-Generator: Weblate 4.17\n"

#. type: YAML Front Matter: description
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:1
#, no-wrap
msgid "A list of common dos and don'ts that are encountered during the FreeBSD porting process"
msgstr ""

#. type: YAML Front Matter: title
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:1
#, no-wrap
msgid "Chapter 13. Dos and Don'ts"
msgstr "Глава 13. Что делать нужно, и что делать нельзя"

#. type: Title =
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:14
#, no-wrap
msgid "Dos and Don'ts"
msgstr "Что делать нужно, и что делать нельзя"

#. type: Title ==
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:54
#, no-wrap
msgid "Introduction"
msgstr "Введение"

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:60
msgid ""
"Here is a list of common dos and don'ts that are encountered during the "
"porting process.  Check the port against this list, but also check ports in "
"the https://bugs.FreeBSD.org/search/[PR database] that others have "
"submitted.  Submit any comments on ports as described in extref:"
"{contributing}[Bug Reports and General Commentary, CONTRIB-GENERAL].  "
"Checking ports in the PR database will both make it faster for us to commit "
"them, and prove that you know what you are doing."
msgstr ""
"Вот список часто встречающихся действий, которые нужно и которые нельзя "
"делать во время процесса портирования. Проверьте порт по этому списку, и "
"также проверьте порты в http://www.FreeBSD.org/cgi/query-pr-summary."
"cgi?query[базе сообщений PR], которые присланы другими людьми. Присылайте "
"любые комментарии о портах, которые вы проверили, так, как это описано в "
"статье о extref:{contributing}[Сообщениях об ошибках и общих замечаниях, "
"CONTRIB-GENERAL]. Проверка портов в базе сообщений PR позволит нам быстрее "
"коммиттить их и удостовериться, что вы знаете, что делаете."

#. type: Title ==
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:62
#, no-wrap
msgid "`WRKDIR`"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:66
msgid ""
"Do not write anything to files outside `WRKDIR`. `WRKDIR` is the only place "
"that is guaranteed to be writable during the port build (see extref:"
"{handbook}[ installing ports from a CDROM, PORTS-CD] for an example of "
"building ports from a read-only tree).  The [.filename]##pkg-*## files can "
"be modified by crossref:pkg-files[pkg-names,redefining a variable] rather "
"than overwriting the file."
msgstr ""
"Не пишите ничего в файлы вне каталога `WRKDIR`. Каталог `WRKDIR` является "
"единственным местом, которое гарантированно будет доступно для записи во "
"время построения порта (обратитесь к главе об extref:{handbook}[установке "
"портов с CDROM, PORTS-CD] за примером построения портов из дерева, "
"доступного только для чтения). Если вам нужно изменить какой-либо из файлов ["
".filename]##pkg-*##, сделайте это, crossref:pkg-files[pkg-"
"names,переопределив переменную], но не перезаписывая их."

#. type: Title ==
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:68
#, no-wrap
msgid "`WRKDIRPREFIX`"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:73
msgid ""
"Make sure the port honors `WRKDIRPREFIX`.  Most ports do not have to worry "
"about this.  In particular, when referring to a `WRKDIR` of another port, "
"note that the correct location is [.filename]#${WRKDIRPREFIX}${PORTSDIR}/"
"subdir/name/work# not [.filename]#${PORTSDIR}/subdir/name/work# or "
"[.filename]#${.CURDIR}/../../subdir/name/work# or some such."
msgstr ""
"Добейтесь того, чтобы ваш порт принимал во внимание значение переменной "
"`WRKDIRPREFIX`. Большинство портов об этом не заботятся. В частности, если "
"вы обращаетесь к каталогу `WRKDIR` другого порта, заметьте, что его "
"правильным местоположением является [.filename]#WRKDIRPREFIXPORTSDIR/subdir/"
"name/work#, а не [.filename]#PORTSDIR/subdir/work# или [.filename]#.CURDIR/"
"../../subdir/name/work# мли что-то подобное. Кроме того, если вы сами "
"задаете `WRKDIR`, то должны поставить перед ним знак `${WRKDIRPREFIX}${."
"CURDIR}`."

#. type: Title ==
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:75
#, no-wrap
msgid "Differentiating Operating Systems and OS Versions"
msgstr "Различение операционных систем и версий ОС"

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:79
msgid ""
"Some code needs modifications or conditional compilation based upon what "
"version of FreeBSD Unix it is running under.  The preferred way to tell "
"FreeBSD versions apart are the `{freebsd-version}` and `{freebsd}` macros "
"defined in https://cgit.freebsd.org/src/tree/sys/sys/param.h[sys/param.h]. "
"If this file is not included add the code,"
msgstr ""
"Вы можете встретиться с кодом, который требует модификаций или условной "
"компиляции в зависимости от того, с какой версией FreeBSD Unix он работает. "
"Предпочтительным способом отделения кода для версий FreeBSD является "
"использование макросов {freebsd-version} и {freebsd}, определённых в "
"https://cgit.freebsd.org/src/tree/sys/sys/param.h[sys/param.h]. Если этот "
"файл не подключен, добавьте код"

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:83
#, no-wrap
msgid "#include <sys/param.h>\n"
msgstr "#include <sys/param.h>\n"

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:86
msgid "to the proper place in the [.filename]#.c# file."
msgstr "в нужном месте файла [.filename]#.c#."

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:89
msgid ""
"`{freebsd}` is defined in all versions of FreeBSD as their major version "
"number.  For example, in FreeBSD 9.x, `{freebsd}` is defined to be `9`."
msgstr ""
"{freebsd} определён во всех версиях FreeBSD в качестве старшего номера "
"версии системы. Например, в FreeBSD 9.x {freebsd} определён со значением `9`."

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:97
#, no-wrap
msgid ""
"#if __FreeBSD__ >= 9\n"
"#  if __FreeBSD_version >= 901000\n"
"\t /* 9.1+ release specific code here */\n"
"#  endif\n"
"#endif\n"
msgstr ""
"#if __FreeBSD__ >= 9\n"
"#  if __FreeBSD_version >= 901000\n"
"\t /* 9.1+ release specific code here */\n"
"#  endif\n"
"#endif\n"

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:100
msgid ""
"A complete list of `{freebsd-version}` values is available in "
"crossref:versions[versions,__FreeBSD_version Values]."
msgstr ""

#. type: Title ==
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:102
#, no-wrap
msgid "Writing Something After bsd.port.mk"
msgstr "Написание чего-либо после bsd.port.mk"

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:106
msgid ""
"Do not write anything after the `.include <bsd.port.mk>` line.  It usually "
"can be avoided by including [.filename]#bsd.port.pre.mk# somewhere in the "
"middle of the [.filename]#Makefile# and [.filename]#bsd.port.post.mk# at the "
"end."
msgstr ""
"Не пишите ничего после строки `.include <bsd.port.mk>`. Этой строки можно "
"избежать, включив в где-то в середину вашего файла [.filename]#Makefile# "
"файл [.filename]#bsd.port.pre.mk#, и файл [.filename]#bsd.port.post.mk# в "
"конец."

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:110
msgid ""
"Include either the [.filename]#bsd.port.pre.mk#/"
"[.filename]#bsd.port.post.mk# pair or [.filename]#bsd.port.mk# only; do not "
"mix these two usages."
msgstr ""
"Вам нужно включить либо пару файлов [.filename]#bsd.port.pre.mk#/[."
"filename]#bsd.port.post.mk#, либо только [.filename]#bsd.port.mk#; не "
"используйте оба этих метода одновременно."

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:113
msgid ""
"[.filename]#bsd.port.pre.mk# only defines a few variables, which can be used "
"in tests in the [.filename]#Makefile#, [.filename]#bsd.port.post.mk# defines "
"the rest."
msgstr ""
"В файле [.filename]#bsd.port.pre.mk# определяются лишь несколько переменных, "
"которые могут быть использованы в тестах из файла [.filename]#Makefile#, в "
"файле [.filename]#bsd.port.post.mk# заданы остальные."

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:115
msgid ""
"Here are some important variables defined in [.filename]#bsd.port.pre.mk# "
"(this is not the complete list, please read [.filename]#bsd.port.mk# for the "
"complete list)."
msgstr ""
"Вот некоторые важные переменные, определенные в файле [.filename]#bsd.port."
"pre.mk# (это не полный список, для выяснения полного списка прочтите, "
"пожалуйста, сам файл [.filename]#bsd.port.mk#)."

#. type: Table
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:120
#, no-wrap
msgid "Variable"
msgstr "Переменная"

#. type: Table
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:122
#, no-wrap
msgid "Description"
msgstr "Описание"

#. type: Table
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:123
#, no-wrap
msgid "`ARCH`"
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:125
#, no-wrap
msgid "The architecture as returned by `uname -m` (for example, `i386`)"
msgstr ""
"Архитектура машины в виде, получаемом по команде `uname -m` (например, "
"`i386`)"

#. type: Table
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:126
#, no-wrap
msgid "`OPSYS`"
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:128
#, no-wrap
msgid "The operating system type, as returned by `uname -s` (for example, `FreeBSD`)"
msgstr ""
"Тип операционной системы, получаемый по команде `uname -s` (например, "
"`FreeBSD`)"

#. type: Table
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:129
#, no-wrap
msgid "`OSREL`"
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:131
#, no-wrap
msgid "The release version of the operating system (for example, `2.1.5` or `2.2.7`)"
msgstr "Версия релиза операционной системы (например, `2.1.5` или `2.2.7`)"

#. type: Table
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:132
#, no-wrap
msgid "`OSVERSION`"
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:134
#, no-wrap
msgid "The numeric version of the operating system; the same as crossref:versions[versions,`{freebsd-version}`]."
msgstr ""
"Версия операционной системы в виде числа, та же, что и "
"crossref:versions[versions,`{freebsd-version}`]."

#. type: Table
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:135
#, no-wrap
msgid "`LOCALBASE`"
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:137
#, no-wrap
msgid "The base of the \"local\" tree (for example, `/usr/local`)"
msgstr "Корень дерева \"local\" (например, `/usr/local`)"

#. type: Table
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:138
#, no-wrap
msgid "`PREFIX`"
msgstr ""

#. type: Table
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:139
#, no-wrap
msgid "Where the port installs itself (see crossref:testing[porting-prefix,more on `PREFIX`])."
msgstr ""
"Куда, собственно, устанавливается порт (обратитесь к crossref:testing"
"[porting-prefix,подробной информации о `PREFIX`])."

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:144
msgid ""
"When `MASTERDIR` is needed, always define it before including "
"[.filename]#bsd.port.pre.mk#."
msgstr ""
"Если вы задаете переменную `MASTERDIR`, делайте это до подключения [."
"filename]#bsd.port.pre.mk#."

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:147
msgid ""
"Here are some examples of things that can be added after "
"[.filename]#bsd.port.pre.mk#:"
msgstr ""
"Вот несколько примеров того, что вы можете написать после [.filename]#bsd."
"port.pre.mk#:"

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:154
#, no-wrap
msgid ""
"# no need to compile lang/perl5 if perl5 is already in system\n"
".if ${OSVERSION} > 300003\n"
"BROKEN=\tperl is in system\n"
".endif\n"
msgstr ""
"# no need to compile lang/perl5 if perl5 is already in system\n"
".if ${OSVERSION} > 300003\n"
"BROKEN=\tperl is in system\n"
".endif\n"

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:157
msgid "Always use tab instead of spaces after `BROKEN=`."
msgstr ""
"Вы не забываете об использовании табуляции вместо пробелов после `BROKEN=`."

#. type: Title ==
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:159
#, no-wrap
msgid "Use the `exec` Statement in Wrapper Scripts"
msgstr "Использование выражения `exec` в сценариях обёртках"

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:164
msgid ""
"If the port installs a shell script whose purpose is to launch another "
"program, and if launching that program is the last action performed by the "
"script, make sure to launch the program using the `exec` statement, for "
"instance:"
msgstr ""
"Если порт устанавливает сценарий на языке shell, который служит для запуска "
"другой программы, и если запуск этой программы является последним действием "
"сценария, убедитесь, что запуск программы производится с использованием "
"выражения `exec`, например:"

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:169
#, no-wrap
msgid ""
"#!/bin/sh\n"
"exec %%LOCALBASE%%/bin/java -jar %%DATADIR%%/foo.jar \"$@\"\n"
msgstr ""
"#!/bin/sh\n"
"exec %%LOCALBASE%%/bin/java -jar %%DATADIR%%/foo.jar \"$@\"\n"

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:174
msgid ""
"The `exec` statement replaces the shell process with the specified program.  "
"If `exec` is omitted, the shell process remains in memory while the program "
"is executing, and needlessly consumes system resources."
msgstr ""
"Выражение `exec` заменяет процесс сценария на указанную программу. Если "
"`exec` опущен, то процесс сценария во время работы программы остается в "
"памяти, бесполезно потребляя системные ресурсы."

#. type: Title ==
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:176
#, no-wrap
msgid "Do Things Rationally"
msgstr "Поступайте разумно"

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:181
msgid ""
"The [.filename]#Makefile# should do things in a simple and reasonable "
"manner.  Making it a couple of lines shorter or more readable is always "
"better.  Examples include using a make `.if` construct instead of a shell "
"`if` construct, not redefining `do-extract` if redefining `EXTRACT*` is "
"enough, and using `GNU_CONFIGURE` instead of `CONFIGURE_ARGS += --prefix=$"
"{PREFIX}`."
msgstr ""
"Файл [.filename]#Makefile# должен выполнять действия просто и небеспричинно. "
"Если вы можете сделать что-то на несколько строк короче или более "
"читабельно, сделайте это. В качестве примеров можно привести использование "
"конструкций `.if` утилиты make вместо соответствующей конструкции `if` "
"командного процессора, ненужность переопределения цели `do-extract` при "
"возможности переопределения `EXTRACT*` и использование `GNU_CONFIGURE` "
"вместо `CONFIGURE_ARGS += --prefix=${PREFIX}`."

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:184
msgid ""
"If a lot of new code is needed to do something, there may already be an "
"implementation of it in [.filename]#bsd.port.mk#.  While hard to read, there "
"are a great many seemingly-hard problems for which [.filename]#bsd.port.mk# "
"already provides a shorthand solution."
msgstr ""
"Если вы обнаружите, что для выполнения чего-то приходится писать много "
"нового кода, то, пожалуйста, просмотрите файл [.filename]#bsd.port.mk# на "
"предмет того, не содержит ли он решение именно вашей проблемы. Хотя его "
"трудно читать, имеется много проблем, выглядящих сложными, для которых файл ["
".filename]#bsd.port.mk# уже содержит быстрое решение."

#. type: Title ==
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:186
#, no-wrap
msgid "Respect Both `CC` and `CXX`"
msgstr "Относитесь внимательно как к `CC`, так и `CXX`"

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:192
msgid ""
"The port must respect both `CC` and `CXX`.  What we mean by this is that the "
"port must not set the values of these variables absolutely, overriding "
"existing values; instead, it may append whatever values it needs to the "
"existing values.  This is so that build options that affect all ports can be "
"set globally."
msgstr ""
"Порт должен принимать во внимание как переменную `CC`, так и `CXX`. Под этим "
"мы подразумеваем, что порт ни в коем случае не должен устанавливать значения "
"этих переменных, переопределяя имеющиеся значения; вместо этого можно "
"добавлять нужные значения к уже имеющимся. Это связано с тем, что параметры "
"построения, относящиеся ко всем портам, могут быть заданы глобально."

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:194
msgid ""
"If the port does not respect these variables, please add `NO_PACKAGE=ignores "
"either cc or cxx` to the [.filename]#Makefile#."
msgstr ""
"Если порт не учитывает значения этих переменных, добавьте строку `"
"NO_PACKAGE=ignores either cc or cxx` в файл [.filename]#Makefile#."

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:197
msgid ""
"Here is an example of a [.filename]#Makefile# respecting both `CC` and "
"`CXX`.  Note the `?=`:"
msgstr ""
"Далее следует пример файла [.filename]#Makefile#, использующего как "
"переменную `CC`, так и `CXX`. Обратите внимание на использование символов "
"`?=`:"

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:201
#, no-wrap
msgid "CC?= gcc\n"
msgstr "CC?= gcc\n"

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:206
#, no-wrap
msgid "CXX?= g++\n"
msgstr "CXX?= g++\n"

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:209
msgid "Here is an example which respects neither `CC` nor `CXX`:"
msgstr "Вот пример, в котором не принимаются во внимание ни `CC`, ни `CXX`:"

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:213
#, no-wrap
msgid "CC= gcc\n"
msgstr "CC= gcc\n"

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:218
#, no-wrap
msgid "CXX= g++\n"
msgstr "CXX= g++\n"

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:223
msgid ""
"Both `CC` and `CXX` can be defined on FreeBSD systems in [.filename]#/etc/"
"make.conf#.  The first example defines a value if it was not previously set "
"in [.filename]#/etc/make.conf#, preserving any system-wide definitions.  The "
"second example clobbers anything previously defined."
msgstr ""
"В системах FreeBSD обе переменные `CC` и `CXX` могут быть определены в файле "
"[.filename]#/etc/make.conf#. В первом примере задаётся значение, если оно "
"ранее не было определено в [.filename]#/etc/make.conf#, что сохраняет любые "
"определения, данные на уровне системы в целом. Второй пример переопределяет "
"всё, что было задано ранее."

#. type: Title ==
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:225
#, no-wrap
msgid "Respect `CFLAGS`"
msgstr "Относитесь внимательно к `CFLAGS`"

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:231
msgid ""
"The port must respect `CFLAGS`.  What we mean by this is that the port must "
"not set the value of this variable absolutely, overriding the existing "
"value.  Instead, it may append whatever values it needs to the existing "
"value.  This is so that build options that affect all ports can be set "
"globally."
msgstr ""
"Порт должен учитывать переменную `CFLAGS`. Под этим мы подразумеваем, что "
"порт ни в коем случае не должен устанавливать значения этой переменной, "
"переопределяя имеющиеся значения; вместо этого можно добавлять нужные "
"значения к уже имеющимся. Это связано с тем, что параметры построения, "
"относящиеся ко всем портам, могут быть заданы глобально."

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:233
msgid ""
"If it does not, please add `NO_PACKAGE=ignores cflags` to the "
"[.filename]#Makefile#."
msgstr ""
"Если порт не учитывает значения этой переменной, добавьте строку `"
"NO_PACKAGE=ignores cflags` в файл [.filename]#Makefile#."

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:235
msgid ""
"Here is an example of a [.filename]#Makefile# respecting `CFLAGS`. Note the "
"`+=`:"
msgstr ""
"Далее следует пример файла [.filename]#Makefile#, использующего переменную "
"`CFLAGS`. Обратите внимание на использование символов `+=`:"

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:239
#, no-wrap
msgid "CFLAGS+= -Wall -Werror\n"
msgstr "CFLAGS+= -Wall -Werror\n"

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:242
msgid "Here is an example which does not respect `CFLAGS`:"
msgstr "А вот пример, в котором не учитывается значение переменной `CFLAGS`:"

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:246
#, no-wrap
msgid "CFLAGS= -Wall -Werror\n"
msgstr "CFLAGS= -Wall -Werror\n"

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:251
msgid ""
"`CFLAGS` is defined on FreeBSD systems in [.filename]#/etc/make.conf#.  The "
"first example appends additional flags to `CFLAGS`, preserving any system-"
"wide definitions.  The second example clobbers anything previously defined."
msgstr ""
"В системе FreeBSD переменная `CFLAGS` определена в файле [.filename]#/etc/"
"make.conf#. В первом примере к переменной `CFLAGS` добавляются "
"дополнительные флаги, при этом сохраняются все определения, данные ранее на "
"уровне системы. Во втором примере всё, что было задано ранее, игнорируется."

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:255
msgid ""
"Remove optimization flags from the third party [.filename]##Makefile##s.  "
"The system `CFLAGS` contains system-wide optimization flags.  An example "
"from an unmodified [.filename]#Makefile#:"
msgstr ""
"Из сторонних файлов [.filename]#Makefile# следует удалить флаги оптимизации. "
"Общесистемные флаги оптимизации находятся в системной переменной `CFLAGS`. "
"Пример из немодифицированного [.filename]#Makefile#:"

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:259
#, no-wrap
msgid "CFLAGS= -O3 -funroll-loops -DHAVE_SOUND\n"
msgstr "CFLAGS= -O3 -funroll-loops -DHAVE_SOUND\n"

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:262
msgid ""
"Using system optimization flags, the [.filename]#Makefile# would look "
"similar to this example:"
msgstr ""
"При использовании системных флагов оптимизации [.filename]#Makefile# станет "
"похожим на следующий пример:"

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:266
#, no-wrap
msgid "CFLAGS+= -DHAVE_SOUND\n"
msgstr "CFLAGS+= -DHAVE_SOUND\n"

#. type: Title ==
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:269
#, no-wrap
msgid "Verbose Build Logs"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:273
msgid ""
"Make the port build system display all commands executed during the build "
"stage.  Complete build logs are crucial to debugging port problems."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:275
msgid "Non-informative build log example (bad):"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:281
#, no-wrap
msgid ""
"  CC     source1.o\n"
"  CC     source2.o\n"
"  CCLD   someprogram\n"
msgstr ""
"  CC     source1.o\n"
"  CC     source2.o\n"
"  CCLD   someprogram\n"

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:284
msgid "Verbose build log example (good):"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:290
#, no-wrap
msgid ""
"cc -O2 -pipe -I/usr/local/include -c -o source1.o source1.c\n"
"cc -O2 -pipe -I/usr/local/include -c -o source2.o source2.c\n"
"cc -o someprogram source1.o source2.o -L/usr/local/lib -lsomelib\n"
msgstr ""
"cc -O2 -pipe -I/usr/local/include -c -o source1.o source1.c\n"
"cc -O2 -pipe -I/usr/local/include -c -o source2.o source2.c\n"
"cc -o someprogram source1.o source2.o -L/usr/local/lib -lsomelib\n"

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:294
msgid ""
"Some build systems such as CMake, ninja, and GNU configure are set up for "
"verbose logging by the ports framework.  In other cases, ports might need "
"individual tweaks."
msgstr ""

#. type: Title ==
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:296
#, no-wrap
msgid "Feedback"
msgstr "Обратная связь"

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:300
msgid ""
"Do send applicable changes and patches to the upstream maintainer for "
"inclusion in the next release of the code.  This makes updating to the next "
"release that much easier."
msgstr ""
"Посылайте подходящие изменения/патчи автору/сопровождающему для включения в "
"следующий релиз. Это только сделает вашу работу гораздо легче при выходе "
"следующего релиза."

#. type: Title ==
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:302
#, no-wrap
msgid "README.html"
msgstr "README.html"

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:306
msgid ""
"[.filename]#README.html# is not part of the port, but generated by `make "
"readme`.  Do not include this file in patches or commits."
msgstr ""
"[.filename]#README.html# не является частью порта и генерируется при помощи `"
"make readme`. Не включайте этот файл в патчи или коммиты."

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:310
msgid ""
"If `make readme` fails, make sure that the default value of `ECHO_MSG` has "
"not been modified by the port."
msgstr ""
"Если не удается выполнить `make readme`, убедитесь, что значение по "
"умолчанию `ECHO_MSG` не изменено внутри порта."

#. type: Title ==
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:313
#, no-wrap
msgid "Marking a Port Not Installable with `BROKEN`, `FORBIDDEN`, or `IGNORE`"
msgstr "Пометка неустанавливаемого порта как `BROKEN`, `FORBIDDEN` или `IGNORE`"

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:320
msgid ""
"In certain cases, users must be prevented from installing a port.  There are "
"several variables that can be used in a port's [.filename]#Makefile# to tell "
"the user that the port cannot be installed.  The value of these make "
"variables will be the reason that is shown to users for why the port refuses "
"to install itself.  Please use the correct make variable.  Each variable "
"conveys radically different meanings, both to users and to automated systems "
"that depend on [.filename]##Makefile##s, such as crossref:keeping-up[build-"
"cluster,the ports build cluster], and crossref:keeping-"
"up[freshports,FreshPorts]."
msgstr ""
"В некоторых случаях пользователи не должны допускаться к установке порта. "
"Для того, чтобы сообщить пользователю, что порт не следует устанавливать, "
"имеется несколько `make`-переменных, которые могут быть использованы в файле "
"[.filename]#Makefile# порта. Значения следующих `make`-переменных будут "
"причиной, возвращаемой пользователям, по которой порт отказывает в "
"установке. Пожалуйста, используйте корректные `make`-переменные, так как "
"каждая переменная make передает абсолютно различный смысл как для "
"пользователей, так и для автоматизированных систем, которые полагаются на "
"файлы [.filename]#Makefile#, таких как crossref:keeping-up[build-"
"cluster,кластер построения портов], crossref:keeping-"
"up[freshports,FreshPorts]."

#. type: Title ===
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:322
#, no-wrap
msgid "Variables"
msgstr "Переменные"

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:325
msgid ""
"`BROKEN` is reserved for ports that currently do not compile, install, "
"deinstall, or run correctly. Use it for ports where the problem is believed "
"to be temporary."
msgstr ""
"`BROKEN` предназначена для портов, которые в настоящее время не "
"компилируются, не устанавливаются или не удаляются правильно. Следует "
"использовать, когда проблема считается временной."

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:328
msgid ""
"If instructed, the build cluster will still attempt to try to build them to "
"see if the underlying problem has been resolved.  (However, in general, the "
"cluster is run without this.)"
msgstr ""
"В особых случаях кластер построения будет продолжать попытки собрать их, "
"чтобы показать, решена ли основная проблема. (Однако, как правило, кластер "
"запускается без этой возможности.)"

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:330
msgid "For instance, use `BROKEN` when a port:"
msgstr "В частности, используйте `BROKEN`, когда порт:"

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:332
msgid "does not compile"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:333
msgid "fails its configuration or installation process"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:334
msgid "installs files outside of [.filename]#${PREFIX}#"
msgstr "устанавливает файлы вовне [.filename]#${PREFIX}#"

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:335
msgid ""
"does not remove all its files cleanly upon deinstall (however, it may be "
"acceptable, and desirable, for the port to leave user-modified files behind)"
msgstr ""
"не удаляет полностью все свои файлы при деинсталляции (тем не менее, это "
"может быть допустимо, и подходит для портов, оставляющих после себя файлы, "
"измененные пользователем)"

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:336
msgid "has runtime issues on systems where it is supposed to run fine."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:338
msgid ""
"`FORBIDDEN` is used for ports that contain a security vulnerability or "
"induce grave concern regarding the security of a FreeBSD system with a given "
"port installed (for example, a reputably insecure program or a program that "
"provides easily exploitable services). Mark ports as `FORBIDDEN` as soon as "
"a particular piece of software has a vulnerability and there is no released "
"upgrade. Ideally upgrade ports as soon as possible when a security "
"vulnerability is discovered so as to reduce the number of vulnerable FreeBSD "
"hosts (we like being known for being secure), however sometimes there is a "
"noticeable time gap between disclosure of a vulnerability and an updated "
"release of the vulnerable software. Do not mark a port `FORBIDDEN` for any "
"reason other than security."
msgstr ""
"`FORBIDDEN` используется для портов, которые содержат уязвимости в "
"информационной безопасности или являются потенциально вредными в плане "
"обеспечения информационной безопасности системы FreeBSD при установке "
"данного порта (например: заведомо небезопасная программа или программа, "
"которая предоставляет легко взламываемые сервисы). Порты должны помечаться "
"как `FORBIDDEN`, как только в конкретном программном обеспечении "
"обнаружилась уязвимость, но обновление выпущено не было. В идеальном случае "
"порты должны обновляться максимально быстро после обнаружения уязвимости, "
"чтобы уменьшить число уязвимых хостов FreeBSD (нам нравится иметь репутацию "
"безопасной системы), однако иногда случается значительный временной разрыв "
"между обнаружением уязвимости и выходом обновлённого релиза уязвимого "
"программного обеспечения. Не помечайте порт как `FORBIDDEN`, если причина не "
"вызвана соображениями информационной безопасности."

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:339
msgid ""
"`IGNORE` is reserved for ports that must not be built for some other reason. "
"Use it for ports where the problem is believed to be structural. The build "
"cluster will not, under any circumstances, build ports marked as `IGNORE`. "
"For instance, use `IGNORE` when a port:"
msgstr ""
"`IGNORE` предназначена для портов, которые не должны строиться по какой-либо "
"другой причине. Следует использовать для портов, в случае когда проблема "
"считается структурной. Кластер построения ни при каких условиях не будет "
"строить порты, помеченные как `IGNORE`. В частности, используйте `IGNORE`, "
"когда порт:"

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:341
msgid "does not work on the installed version of FreeBSD"
msgstr "не работает на установленной версии FreeBSD"

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:342
msgid ""
"has a distfile which may not be automatically fetched due to licensing "
"restrictions"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:343
msgid ""
"does not work with some other currently installed port (for instance, the "
"port depends on package:www/drupal7[] but package:www/drupal8[] is installed)"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:348
msgid ""
"If a port would conflict with a currently installed port (for example, if "
"they install a file in the same place that performs a different function), "
"crossref:makefiles[conflicts,use `CONFLICTS` instead].  `CONFLICTS` will set "
"`IGNORE` by itself."
msgstr ""
"Если порт будет конфликтовать с уже установленным портом (например, если они "
"устанавливают файл в то же место, но с иным функциональным назначением), то "
"crossref:makefiles[conflicts,используйте вместо этого `CONFLICTS`]. "
"`CONFLICTS` сам установит значение `IGNORE`."

#. type: Title ===
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:351
#, no-wrap
msgid "Implementation Notes"
msgstr "Заметки о реализации"

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:355
msgid ""
"Do not quote the values of `BROKEN`, `IGNORE`, and related variables.  Due "
"to the way the information is shown to the user, the wording of messages for "
"each variable differ:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:359
#, no-wrap
msgid "BROKEN=\tfails to link with base -lcrypto\n"
msgstr "BROKEN=\tfails to link with base -lcrypto\n"

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:364
#, no-wrap
msgid "IGNORE=\tunsupported on recent versions\n"
msgstr "IGNORE=\tunsupported on recent versions\n"

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:367
msgid "resulting in this output from `make describe`:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:371
#, no-wrap
msgid "===>  foobar-0.1 is marked as broken: fails to link with base -lcrypto.\n"
msgstr ""
"===>  foobar-0.1 is marked as broken: fails to link with base -lcrypto.\n"

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:376
#, no-wrap
msgid "===>  foobar-0.1 is unsupported on recent versions.\n"
msgstr "===>  foobar-0.1 is unsupported on recent versions.\n"

#. type: Title ==
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:379
#, no-wrap
msgid "Architectural Considerations"
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:382
#, no-wrap
msgid "General Notes on Architectures"
msgstr "Общие замечания об архитектурах"

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:386
msgid ""
"FreeBSD runs on many more processor architectures than just the well-known "
"x86-based ones.  Some ports have constraints which are particular to one or "
"more of these architectures."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:388
msgid "For the list of supported architectures, run:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:392
#, no-wrap
msgid "cd ${SRCDIR}; make targets\n"
msgstr "cd ${SRCDIR}; make targets\n"

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:397
msgid ""
"The values are shown in the form `TARGET`/`TARGET_ARCH`.  The ports read-"
"only makevar `ARCH` is set based on the value of `TARGET_ARCH`.  Port "
"[.filename]##Makefile##s should test the value of this Makevar."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:399
#, no-wrap
msgid "Marking a Port as Architecture Neutral"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:402
msgid ""
"Ports that do not have any architecture-dependent files or requirements are "
"identified by setting `NO_ARCH=yes`."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:404
msgid ""
"Packages built from such ports have their architecture string ending in `:*` "
"(wildcard architecture) as opposed to, for example, `freebsd:13:x86:64` "
"(amd64 architecture)."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:410
msgid ""
"`NO_ARCH` is meant to indicate that there is no need to build a package for "
"each of the supported architectures.  The goal is to reduce the amount of "
"resources spent on building and distributing the packages such as network "
"bandwidth and disk space on mirrors and on distribution media.  Currently, "
"however, our package infrastructure (e.g., package managers, mirrors, and "
"package builders) is not set up to fully benefit from `NO_ARCH`."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:413
#, no-wrap
msgid "Marking a Port as Ignored Only On Certain Architectures"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:416
msgid ""
"To mark a port as ``IGNORE``d only on certain architectures, there are two "
"other convenience variables that will automatically set `IGNORE`: "
"`ONLY_FOR_ARCHS` and `NOT_FOR_ARCHS`. Examples:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:420
#, no-wrap
msgid "ONLY_FOR_ARCHS=\ti386 amd64\n"
msgstr "ONLY_FOR_ARCHS=\ti386 amd64\n"

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:425
#, no-wrap
msgid "NOT_FOR_ARCHS=\tia64 sparc64\n"
msgstr "NOT_FOR_ARCHS=\tia64 sparc64\n"

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:429
msgid ""
"A custom `IGNORE` message can be set using `ONLY_FOR_ARCHS_REASON` and "
"`NOT_FOR_ARCHS_REASON`.  Per architecture entries are possible with "
"`ONLY_FOR_ARCHS_REASON_ARCH` and `NOT_FOR_ARCHS_REASON_ARCH`."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:432
msgid ""
"If a port fetches i386 binaries and installs them, set `IA32_BINARY_PORT`. "
"If this variable is set, [.filename]#/usr/lib32# must be present for IA32 "
"versions of libraries and the kernel must support IA32 compatibility. If one "
"of these two dependencies is not satisfied, `IGNORE` will be set "
"automatically."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:434
#, no-wrap
msgid "Cluster-Specific Considerations"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:437
msgid ""
"Some ports attempt to tune themselves to the exact machine they are being "
"built on by specifying `-march=native` to the compiler. This should be "
"avoided: either list it under an off-by-default option, or delete it "
"entirely."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:439
msgid ""
"Otherwise, the default package produced by the build cluster might not run "
"on every single machine of that `ARCH`."
msgstr ""

#. type: Title ==
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:441
#, no-wrap
msgid "Marking a Port for Removal with `DEPRECATED` or `EXPIRATION_DATE`"
msgstr "Пометка порта на удаление с `DEPRECATED` или `EXPIRATION_DATE`"

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:445
msgid ""
"Do remember that `BROKEN` and `FORBIDDEN` are to be used as a temporary "
"resort if a port is not working.  Permanently broken ports will be removed "
"from the tree entirely."
msgstr ""
"Помните, что `BROKEN` и `FORBIDDEN` будут использованы как временное "
"средство, если порт не является работающим. Постоянно неработоспособные "
"порты должны полностью удаляться из дерева."

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:449
msgid ""
"When it makes sense to do so, users can be warned about a pending port "
"removal with `DEPRECATED` and `EXPIRATION_DATE`.  The former is a string "
"stating why the port is scheduled for removal; the latter is a string in ISO "
"8601 format (YYYY-MM-DD).  Both will be shown to the user."
msgstr ""
"В подходящих ситуациях пользователи могут быть оповещены о предстоящем "
"удалении через переменные `DEPRECATED` и `EXPIRATION_DATE`. Первое - это "
"просто строка, сообщающая причину запланированного удаления порта; вторая "
"является строкой в формате ISO 8601 (YYYY-MM-DD). Обе будут показаны "
"пользователю."

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:451
msgid ""
"It is possible to set `DEPRECATED` without an `EXPIRATION_DATE` (for "
"instance, recommending a newer version of the port), but the converse does "
"not make any sense."
msgstr ""
"Переменную `DEPRECATED` можно установить без использования `EXPIRATION_DATE` "
"(в частности, при рекомендации новой версии порта), но обратный порядок не "
"имеет никакого смысла."

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:457
msgid ""
"When marking a port as `DEPRECATED`, if there are any alternative ports that "
"can be used as a replacement for the one being deprecated, it is convenient "
"to mention them in the commit message."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:462
msgid ""
"There is no set policy on how much notice to give.  Current practice seems "
"to be one month for security-related issues and two months for build "
"issues.  This also gives any interested committers a little time to fix the "
"problems."
msgstr ""

#. type: Title ==
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:464
#, no-wrap
msgid "Avoid Use of the `.error` Construct"
msgstr "Избегайте использования конструкции `.error`"

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:468
msgid ""
"The correct way for a [.filename]#Makefile# to signal that the port cannot "
"be installed due to some external factor (for instance, the user has "
"specified an illegal combination of build options) is to set a non-blank "
"value to `IGNORE`.  This value will be formatted and shown to the user by "
"`make install`."
msgstr ""
"Правильным способом подать сигнал для [.filename]#Makefile# о том, что порт "
"не может быть установлен из-за какого-то внешнего фактора (например, "
"пользователь указал недопустимую комбинацию опций построения), является "
"установка непустого значения для `IGNORE`. Это значение будет сформатировано "
"и показано пользователю во время `make install`."

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:474
msgid ""
"It is a common mistake to use `.error` for this purpose.  The problem with "
"this is that many automated tools that work with the ports tree will fail in "
"this situation.  The most common occurrence of this is seen when trying to "
"build [.filename]#/usr/ports/INDEX# (see crossref:testing[make-"
"describe,Running `make describe`]).  However, even more trivial commands "
"such as `make maintainer` also fail in this scenario.  This is not "
"acceptable."
msgstr ""
"Использование для этих целей `.error` является распространенной ошибкой. "
"Проблема в том, что в этой ситуации будут повреждены многие инструменты "
"автоматизации, работающие с деревом портов. Наибольшим образом это "
"распространено при попытке построить [.filename]#/usr/ports/INDEX# (смотрите "
"crossref:testing[make-describe, Запуск `make describe`]). Тем не менее, даже "
"более простые команды, такие как `make maintainer`, в этом случае также "
"вернут ошибку. Это не является приемлемым."

#. type: Block title
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:476
#, no-wrap
msgid "How to Avoid Using `.error`"
msgstr "Как избегать использования `.error`"

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:481
msgid ""
"The first of the next two [.filename]#Makefile# snippets will cause `make "
"index` to fail, while the second one will not:"
msgstr ""
"Из следующих двух вариантов строки файла [.filename]#Makefile# первый "
"приведёт к неудачному завершению работы `make index`, а второй - нет:"

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:485
#, no-wrap
msgid ".error \"option is not supported\"\n"
msgstr ".error \"option is not supported\"\n"

#. type: delimited block . 4
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:490
#, no-wrap
msgid "IGNORE=option is not supported\n"
msgstr "IGNORE=option is not supported\n"

#. type: Title ==
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:495
#, no-wrap
msgid "Usage of sysctl"
msgstr "Использование sysctl"

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:500
msgid ""
"The usage of [.filename]#sysctl# is discouraged except in targets.  This is "
"because the evaluation of any ``makevar``s, such as used during `make "
"index`, then has to run the command, further slowing down that process."
msgstr ""
"Использование [.filename]#sysctl# не рекомендуется, кроме как при выполнении "
"целей. Это вызвано тем, что вычисление любых `makevar`, таких как во время "
"команды `make index`, с необходимостью запуска этой команды, еще больше "
"замедляет весь процесс."

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:502
msgid ""
"Only use man:sysctl[8] through `SYSCTL`, as it contains the fully qualified "
"path and can be overridden, if one has such a special need."
msgstr ""
"man:sysctl[8] следует всегда использовать через переменную `SYSCTL`, "
"поскольку она содержит полностью заданный путь, и при необходимости может "
"быть переопределена."

#. type: Title ==
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:504
#, no-wrap
msgid "Rerolling Distfiles"
msgstr "Меняющиеся дистрибутивные файлы"

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:509
msgid ""
"Sometimes the authors of software change the content of released distfiles "
"without changing the file's name.  Verify that the changes are official and "
"have been performed by the author.  It has happened in the past that the "
"distfile was silently altered on the download servers with the intent to "
"cause harm or compromise end user security."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:512
msgid ""
"Put the old distfile aside, download the new one, unpack them and compare "
"the content with man:diff[1].  If there is nothing suspicious, update "
"[.filename]#distinfo#."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:516
msgid ""
"Be sure to summarize the differences in the PR and commit log, so that other "
"people know that nothing bad has happened."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:519
msgid "Contact the authors of the software and confirm the changes with them."
msgstr ""
"Связжитесь с автором этого программного обеспечения для подтверждения "
"изменений."

#. type: Title ==
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:521
#, no-wrap
msgid "Use POSIX Standards"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:525
msgid ""
"FreeBSD ports generally expect POSIX compliance.  Some software and build "
"systems make assumptions based on a particular operating system or "
"environment that can cause problems when used in a port."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:528
msgid ""
"Do not use [.filename]#/proc# if there are any other ways of getting the "
"information.  For example, `setprogname(argv[0])` in `main()` and then "
"man:getprogname[3] to know the executable name."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:530
msgid "Do not rely on behavior that is undocumented by POSIX."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:534
msgid ""
"Do not record timestamps in the critical path of the application if it also "
"works without.  Getting timestamps may be slow, depending on the accuracy of "
"timestamps in the OS.  If timestamps are really needed, determine how "
"precise they have to be and use an API which is documented to just deliver "
"the needed precision."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:538
msgid ""
"A number of simple syscalls (for example man:gettimeofday[2], man:getpid[2]) "
"are much faster on Linux(R) than on any other operating system due to "
"caching and the vsyscall performance optimizations.  Do not rely on them "
"being cheap in performance-critical applications.  In general, try hard to "
"avoid syscalls if possible."
msgstr ""
"Ряд простых системных вызовов (например, man:gettimeofday[2], man:getpid[2]) "
"работают намного быстрее в Linux(R) по сравнению с любой другой операционной "
"системой из-за кеширования и используемой оптимизации vsyscall. Не "
"полагайтесь на их дешевизну в критичных к производительности приложениях. В "
"целом, старайтесь избегать системных вызовов там, где это возможно."

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:541
msgid ""
"Do not rely on Linux(R)-specific socket behavior.  In particular, default "
"socket buffer sizes are different (call man:setsockopt[2] with `SO_SNDBUF` "
"and `SO_RCVBUF`, and while Linux(R)'s man:send[2] blocks when the socket "
"buffer is full, FreeBSD's will fail and set `ENOBUFS` in errno."
msgstr ""
"Не полагайтесь на специфичное для Linux(R) поведение сокета. В частности, "
"отличаются размеры буфера сокета по умолчанию (выполните вызов "
"man:setsockopt[2] с `SO_SNDBUF` и `SO_RCVBUF`, и в то время как в Linux(R) "
"при заполнении буфера сокета man:send[2] блокируется, FreeBSD возвращает "
"ошибку и устанавливает `ENOBUFS` в качестве значения errno."

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:543
msgid ""
"If relying on non-standard behavior is required, encapsulate it properly "
"into a generic API, do a check for the behavior in the configure stage, and "
"stop if it is missing."
msgstr ""
"Если требуется рассчитывать на нестандартное поведение, инкапсулируйте это "
"должным образом в общий для всех API с проверкой поведения на этапе "
"конфигурации, и если требуемое поведение не найдено, прекращайте выполнение."

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:545
msgid ""
"Check the https://man.freebsd.org/cgi/man.cgi[man pages] to see if the "
"function used is a POSIX interface (in the \"STANDARDS\" section of the man "
"page)."
msgstr ""
"Используйте https://www.freebsd.org/cgi/man.cgi[страницы справочника] для "
"проверки, относится ли функция к интерфейсу POSIX (ищите раздел \"STANDARDS\""
" на странице справочника)."

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:548
msgid ""
"Do not assume that [.filename]#/bin/sh# is bash.  Ensure that a command line "
"passed to man:system[3] will work with a POSIX compliant shell."
msgstr ""
"Не рассчитывайте на то, что в качестве [.filename]#/bin/sh# используется "
"bash. Убедитесь, что командная строка, переданная в man:system[3], будет "
"работать в POSIX-совместимой оболочке."

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:550
msgid ""
"A list of common bashisms is available https://wiki.ubuntu.com/"
"DashAsBinSh[here]."
msgstr ""
"Список основных bash-измов расположен https://wiki.ubuntu.com/"
"DashAsBinSh[здесь]."

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:553
msgid ""
"Check that headers are included in the POSIX or man page recommended way.  "
"For example, [.filename]#sys/types.h# is often forgotten, which is not as "
"much of a problem for Linux(R) as it is for FreeBSD."
msgstr ""
"Проверьте, что используемые заголовочные файлы включены в POSIX или список, "
"рекомендуемый страницей справочника, т.к. например, забыть подключить [."
"filename]#sys/types.h# - не такая уж проблема в Linux(R), однако это не так "
"во FreeBSD."

#. type: Title ==
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:555
#, no-wrap
msgid "Miscellanea"
msgstr "Разное"

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:559
msgid ""
"Always double-check [.filename]#pkg-descr# and [.filename]#pkg-plist#.  If "
"reviewing a port and a better wording can be achieved, do so."
msgstr ""
"Файлы [.filename]#pkg-descr# и [.filename]#pkg-plist# должны проверяться "
"дважды. Если вы пересматриваете порт и думаете, что его можно описать иначе, "
"сделайте это."

#. type: delimited block = 4
#: documentation/content/en/books/porters-handbook/porting-dads/_index.adoc:560
msgid ""
"Please be careful to note any legal issues! Do not let us illegally "
"distribute software!"
msgstr ""
"Будьте внимательны с юридическими вопросами! Не делайте из нас нелегальных "
"распространителей ПО!"
