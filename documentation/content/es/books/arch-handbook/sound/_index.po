# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR The FreeBSD Project
# This file is distributed under the same license as the FreeBSD Documentation package.
# Fernando  Apesteguía <fernando.apesteguia@gmail.com>, 2021, 2023.
# Juan David Jaramillo Ortiz <juanda097@protonmail.ch>, 2023.
msgid ""
msgstr ""
"Project-Id-Version: FreeBSD Documentation VERSION\n"
"POT-Creation-Date: 2022-02-01 09:20-0300\n"
"PO-Revision-Date: 2023-03-28 16:54+0000\n"
"Last-Translator: Fernando  Apesteguía <fernando.apesteguia@gmail.com>\n"
"Language-Team: Spanish <https://translate-dev.freebsd.org/projects/"
"documentation/booksarch-handbooksound_index/es/>\n"
"Language: es\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Plural-Forms: nplurals=2; plural=n != 1;\n"
"X-Generator: Weblate 4.15.1\n"

#. type: YAML Front Matter: description
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:1
#, no-wrap
msgid "FreeBSD Sound Subsystem"
msgstr "Subsistema de sonido de FreeBSD"

#. type: YAML Front Matter: title
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:1
#, no-wrap
msgid "Chapter 15. Sound Subsystem"
msgstr "Capítulo 15. Subsistema de sonido"

#. type: Title =
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:13
#, no-wrap
msgid "Sound Subsystem"
msgstr "Subsistema de sonido"

#. type: Title ==
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:51
#, no-wrap
msgid "Introduction"
msgstr "Introducción"

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:54
msgid ""
"The FreeBSD sound subsystem cleanly separates generic sound handling issues "
"from device-specific ones. This makes it easier to add support for new "
"hardware."
msgstr ""
"El subsistema de sonido de FreeBSD separa limpiamente los problemas "
"genéricos de manejo de sonido de los específicos de cada dispositivo. Esto "
"hace más fácil añadir soporte para nuevo hardware."

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:56
msgid ""
"The man:pcm[4] framework is the central piece of the sound subsystem. It "
"mainly implements the following elements:"
msgstr ""
"El framework man:pcm[4] es la pieza central del subsistema de sonido. "
"Implementa principalmente los siguientes elementos:"

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:58
msgid ""
"A system call interface (read, write, ioctls) to digitized sound and mixer "
"functions. The ioctl command set is compatible with the legacy _OSS_ or "
"_Voxware_ interface, allowing common multimedia applications to be ported "
"without modification."
msgstr ""
"Una interfaz de llamada al sistema (lectura, escritura, ioctls) para "
"funciones de sonido digitalizado y mezclador. El conjunto de comandos ioctl "
"es compatible con la interfaz _OSS_ o _Voxware_ heredada, lo que permite "
"portar aplicaciones multimedia comunes sin modificaciones."

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:59
msgid ""
"Common code for processing sound data (format conversions, virtual channels)."
msgstr ""
"Código común para el tratamiento de datos de sonido (conversiones de "
"formato, canales virtuales)."

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:60
msgid ""
"A uniform software interface to hardware-specific audio interface modules."
msgstr ""
"Una interfaz de software uniforme para módulos de interfaz de audio "
"específicos del hardware."

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:61
msgid ""
"Additional support for some common hardware interfaces (ac97), or shared "
"hardware-specific code (ex: ISA DMA routines)."
msgstr ""
"Soporte adicional para algunas interfaces de hardware comunes (ac97), o "
"código compartido específico de hardware (ej: rutinas ISA DMA)."

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:63
msgid ""
"The support for specific sound cards is implemented by hardware-specific "
"drivers, which provide channel and mixer interfaces to plug into the generic "
"[.filename]#pcm# code."
msgstr ""
"La compatibilidad con tarjetas de sonido específicas se implementa mediante "
"controladores específicos de hardware, que proporcionan interfaces de canal "
"y mezclador para conectarse al código genérico [.filename]#pcm#."

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:65
msgid ""
"In this chapter, the term [.filename]#pcm# will refer to the central, common "
"part of the sound driver, as opposed to the hardware-specific modules."
msgstr ""
"En este capítulo, el término [.filename]#pcm# se referirá a la parte central "
"y común del controlador de sonido, en contraposición a los módulos "
"específicos del hardware."

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:67
msgid ""
"The prospective driver writer will of course want to start from an existing "
"module and use the code as the ultimate reference. But, while the sound code "
"is nice and clean, it is also mostly devoid of comments. This document tries "
"to give an overview of the framework interface and answer some questions "
"that may arise while adapting the existing code."
msgstr ""
"El futuro escritor de controladores querrá, por supuesto, partir de un "
"módulo existente y utilizar el código como referencia definitiva. Pero, "
"aunque el código de sonido es agradable y limpio, también está desprovisto "
"de comentarios. Este documento intenta dar una visión general de la interfaz "
"del framework y responder a algunas preguntas que puedan surgir al adaptar "
"el código existente."

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:69
msgid ""
"As an alternative, or in addition to starting from a working example, you "
"can find a commented driver template at https://people.FreeBSD.org/~cg/"
"template.c[ https://people.FreeBSD.org/~cg/template.c]"
msgstr ""
"Como alternativa, o además de partir de un ejemplo funcional, puede "
"encontrar una plantilla de controlador comentada en https://people.FreeBSD."
"org/~cg/template.c[ https://people.FreeBSD.org/~cg/template.c]"

#. type: Title ==
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:71
#, no-wrap
msgid "Files"
msgstr "Archivos"

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:74
msgid ""
"All the relevant code lives in [.filename]#/usr/src/sys/dev/sound/#, except "
"for the public ioctl interface definitions, found in [.filename]#/usr/src/"
"sys/sys/soundcard.h#"
msgstr ""
"Todo el código relevante se encuentra en [.filename]#/usr/src/sys/dev/sound/#"
", excepto las definiciones públicas de la interfaz ioctl, que se encuentran "
"en [.filename]#/usr/src/sys/sys/soundcard.h#"

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:76
msgid ""
"Under [.filename]#/usr/src/sys/dev/sound/#, the [.filename]#pcm/# directory "
"holds the central code, while the [.filename]#pci/#, [.filename]#isa/# and [."
"filename]#usb/# directories have the drivers for PCI and ISA boards, and for "
"USB audio devices."
msgstr ""
"En [.filename]#/usr/src/sys/dev/sound/#, el directorio [.filename]#pcm/# "
"contiene el código central, mientras que los directorios [.filename]#pci/#, ["
".filename]#isa/# y [.filename]#usb/# tienen los controladores para placas "
"PCI e ISA, y para dispositivos de audio USB."

#. type: Title ==
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:78
#, no-wrap
msgid "Probing, Attaching, etc."
msgstr "Sondeo, fijación, etc."

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:81
msgid ""
"Sound drivers probe and attach in almost the same way as any hardware driver "
"module. You might want to look at the crossref:isa-driver[isa-driver,ISA] or "
"crossref:pci[pci,PCI] specific sections of the handbook for more information."
msgstr ""
"Los controladores de sonido sondean y se conectan casi de la misma forma que "
"cualquier módulo controlador de hardware. Es posible que desee consultar las "
"secciones específicas crossref:isa-driver[isa-driver,ISA] o "
"crossref:pci[pci,PCI] del manual para obtener más información."

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:83
msgid "However, sound drivers differ in some ways:"
msgstr "Sin embargo, los controladores de sonido difieren en algunos aspectos:"

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:85
msgid ""
"They declare themselves as [.filename]#pcm# class devices, with a `struct "
"snddev_info` device private structure:"
msgstr ""
"Se declaran como dispositivos de clase [.filename]#pcm#, con una estructura "
"privada de dispositivo `struct snddev_info`:"

#. type: delimited block . 4
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:93
#, no-wrap
msgid ""
"          static driver_t xxx_driver = {\n"
"              \"pcm\",\n"
"              xxx_methods,\n"
"              sizeof(struct snddev_info)\n"
"          };\n"
msgstr ""
"          static driver_t xxx_driver = {\n"
"              \"pcm\",\n"
"              xxx_methods,\n"
"              sizeof(struct snddev_info)\n"
"          };\n"

#. type: delimited block . 4
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:96
#, no-wrap
msgid ""
"          DRIVER_MODULE(snd_xxxpci, pci, xxx_driver, pcm_devclass, 0, 0);\n"
"          MODULE_DEPEND(snd_xxxpci, snd_pcm, PCM_MINVER, PCM_PREFVER,PCM_MAXVER);\n"
msgstr ""
"          DRIVER_MODULE(snd_xxxpci, pci, xxx_driver, pcm_devclass, 0, 0);\n"
"          MODULE_DEPEND(snd_xxxpci, snd_pcm, PCM_MINVER, "
"PCM_PREFVER,PCM_MAXVER);\n"

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:99
msgid ""
"Most sound drivers need to store additional private information about their "
"device. A private data structure is usually allocated in the attach routine. "
"Its address is passed to [.filename]#pcm# by the calls to `pcm_register()` "
"and `mixer_init()`. [.filename]#pcm# later passes back this address as a "
"parameter in calls to the sound driver interfaces."
msgstr ""
"La mayoría de los controladores de sonido necesitan almacenar información "
"privada adicional sobre su dispositivo. Normalmente se asigna una estructura "
"de datos privada en la rutina attach. Su dirección es pasada a [."
"filename]#pcm# por las llamadas a `pcm_register()` y `mixer_init()`. "
"Posteriormente, [.filename]#pcm# devuelve esta dirección como parámetro en "
"las llamadas a las interfaces del controlador de sonido."

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:100
msgid ""
"The sound driver attach routine should declare its MIXER or AC97 interface "
"to [.filename]#pcm# by calling `mixer_init()`. For a MIXER interface, this "
"causes in turn a call to <<xxxmixer-init,`xxxmixer_init()`>>."
msgstr ""
"La rutina de conexión del controlador de sonido debe declarar su interfaz "
"MIXER o AC97 a [.filename]#pcm# llamando a `mixer_init()`. Para una interfaz "
"MIXER, esto provoca a su vez una llamada a <<xxxmixer-"
"init,`xxxmixer_init()`>>."

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:101
msgid ""
"The sound driver attach routine declares its general CHANNEL configuration "
"to [.filename]#pcm# by calling `pcm_register(dev, sc, nplay, nrec)`, where "
"`sc` is the address for the device data structure, used in further calls "
"from [.filename]#pcm#, and `nplay` and `nrec` are the number of play and "
"record channels."
msgstr ""
"La rutina attach del controlador de sonido declara su configuración general "
"de CHANNEL a [.filename]#pcm# llamando a `pcm_register(dev, sc, nplay, nrec)`"
", donde `sc` es la dirección para la estructura de datos del dispositivo, "
"utilizada en posteriores llamadas desde [.filename]#pcm#, y `nplay` y `nrec` "
"son el número de canales de reproducción y grabación."

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:102
msgid ""
"The sound driver attach routine declares each of its channel objects by "
"calls to `pcm_addchan()`. This sets up the channel glue in [.filename]#pcm# "
"and causes in turn a call to <<xxxchannel-init,`xxxchannel_init()`>>."
msgstr ""
"La rutina attach del controlador de sonido declara cada uno de sus objetos "
"canal mediante llamadas a `pcm_addchan()`. Esto configura la cola de canales "
"en [.filename]#pcm# y provoca a su vez una llamada a <<xxxchannel-"
"init,`xxxchannel_init()`>>."

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:103
msgid ""
"The sound driver detach routine should call `pcm_unregister()` before "
"releasing its resources."
msgstr ""
"La rutina de separación del controlador de sonido debe llamar a "
"`pcm_unregister()` antes de liberar sus recursos."

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:105
msgid "There are two possible methods to handle non-PnP devices:"
msgstr "Hay dos métodos posibles para manejar dispositivos no-PnP:"

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:107
msgid ""
"Use a `device_identify()` method (example: [.filename]#sound/isa/es1888.c#). "
"The `device_identify()` method probes for the hardware at known addresses "
"and, if it finds a supported device, creates a new pcm device which is then "
"passed to probe/attach."
msgstr ""
"Utilice un método `device_identify()` (ejemplo: [.filename]#sound/isa/es1888."
"c#). El método `device_identify()` busca el hardware en direcciones "
"conocidas y, si encuentra un dispositivo compatible, crea un nuevo "
"dispositivo pcm que se pasa a probe/attach."

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:108
msgid ""
"Use a custom kernel configuration with appropriate hints for pcm devices "
"(example: [.filename]#sound/isa/mss.c#)."
msgstr ""
"Utilice una configuración de kernel personalizada con las sugerencias "
"adecuadas para los dispositivos pcm (ejemplo: [.filename]#sound/isa/mss.c#)."

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:110
msgid ""
"[.filename]#pcm# drivers should implement `device_suspend`, `device_resume` "
"and `device_shutdown` routines, so that power management and module "
"unloading function correctly."
msgstr ""
"[.filename]#pcm# deben implementar las rutinas `device_suspend`, "
"`device_resume` y `device_shutdown`, para que la gestión de energía y la "
"descarga de módulos funcionen correctamente."

#. type: Title ==
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:112
#, no-wrap
msgid "Interfaces"
msgstr "Interfaces"

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:115
msgid ""
"The interface between the [.filename]#pcm# core and the sound drivers is "
"defined in terms of <<kernel-objects,kernel objects>>."
msgstr ""
"La interfaz entre el núcleo [.filename]#pcm# y los controladores de sonido "
"se define en términos de <<kernel-objects,kernel objects>>."

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:117
msgid ""
"There are two main interfaces that a sound driver will usually provide: "
"_CHANNEL_ and either _MIXER_ or _AC97_."
msgstr ""
"Hay dos interfaces principales que un controlador de sonido suele "
"proporcionar: _CHANNEL_ y _MIXER_ o _AC97_."

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:119
msgid ""
"The _AC97_ interface is a very small hardware access (register read/write) "
"interface, implemented by drivers for hardware with an AC97 codec. In this "
"case, the actual MIXER interface is provided by the shared AC97 code in [."
"filename]#pcm#."
msgstr ""
"La interfaz _AC97_ es una interfaz muy pequeña de acceso al hardware ("
"lectura/escritura de registros), implementada por controladores para "
"hardware con un códec AC97. En este caso, la interfaz MIXER real es "
"proporcionada por el código AC97 compartido en [.filename]#pcm#."

#. type: Title ===
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:120
#, no-wrap
msgid "The CHANNEL Interface"
msgstr "La interfaz CHANNEL"

#. type: Title ====
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:122
#, no-wrap
msgid "Common Notes for Function Parameters"
msgstr "Notas comunes para los parámetros de función"

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:125
msgid ""
"Sound drivers usually have a private data structure to describe their "
"device, and one structure for each play and record data channel that it "
"supports."
msgstr ""
"Los controladores de sonido suelen tener una estructura de datos privada "
"para describir su dispositivo, y una estructura para cada canal de datos de "
"reproducción y grabación que soporta."

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:127
msgid ""
"For all CHANNEL interface functions, the first parameter is an opaque "
"pointer."
msgstr ""
"Para todas las funciones de la interfaz CHANNEL, el primer parámetro es un "
"puntero opaco."

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:129
msgid ""
"The second parameter is a pointer to the private channel data structure, "
"except for `channel_init()` which has a pointer to the private device "
"structure (and returns the channel pointer for further use by [."
"filename]#pcm#)."
msgstr ""
"El segundo parámetro es un puntero a la estructura de datos privada del "
"canal, excepto para `channel_init()` que tiene un puntero a la estructura "
"privada del dispositivo (y devuelve el puntero del canal para su uso "
"posterior por [.filename]#pcm#)."

#. type: Title ====
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:130
#, no-wrap
msgid "Overview of Data Transfer Operations"
msgstr "Visión general de las operaciones de transferencia de datos"

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:133
msgid ""
"For sound data transfers, the [.filename]#pcm# core and the sound drivers "
"communicate through a shared memory area, described by a `struct snd_dbuf`."
msgstr ""
"Para las transferencias de datos de sonido, el núcleo [.filename]#pcm# y los "
"controladores de sonido se comunican a través de un área de memoria "
"compartida, descrita por una `struct snd_dbuf`."

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:135
msgid ""
"`struct snd_dbuf` is private to [.filename]#pcm#, and sound drivers obtain "
"values of interest by calls to accessor functions (`sndbuf_getxxx()`)."
msgstr ""
"La `struct snd_dbuf` es privada para [.filename]#pcm#, y los controladores "
"de sonido obtienen valores de interés mediante llamadas a funciones de "
"acceso (`sndbuf_getxxx()`)."

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:137
msgid ""
"The shared memory area has a size of `sndbuf_getsize()` and is divided into "
"fixed size blocks of `sndbuf_getblksz()` bytes."
msgstr ""
"El área de memoria compartida tiene un tamaño de `sndbuf_getsize()` y se "
"divide en bloques de tamaño fijo de `sndbuf_getblksz()` bytes."

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:139
msgid ""
"When playing, the general transfer mechanism is as follows (reverse the idea "
"for recording):"
msgstr ""
"Al reproducir, el mecanismo general de transferencia es el siguiente ("
"invierta la idea para grabar):"

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:141
msgid ""
"[.filename]#pcm# initially fills up the buffer, then calls the sound "
"driver's <<channel-trigger,`xxxchannel_trigger()`>> function with a "
"parameter of PCMTRIG_START."
msgstr ""
"[.filename]#pcm# inicialmente llena el buffer, luego llama a la función "
"<<channel-trigger,`xxxchannel_trigger()`>> del controlador de sonido con un "
"parámetro de PCMTRIG_START."

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:142
msgid ""
"The sound driver then arranges to repeatedly transfer the whole memory area "
"(`sndbuf_getbuf()`, `sndbuf_getsize()`) to the device, in blocks of "
"`sndbuf_getblksz()` bytes. It calls back the `chn_intr()`[.filename]#pcm# "
"function for each transferred block (this will typically happen at interrupt "
"time)."
msgstr ""
"El controlador de sonido se encarga entonces de transferir repetidamente "
"toda el área de memoria (`sndbuf_getbuf()`, `sndbuf_getsize()`) al "
"dispositivo, en bloques de `sndbuf_getblksz()` bytes. Devuelve la llamada a "
"la función `chn_intr()`[.filename]#pcm# para cada bloque transferido (esto "
"ocurrirá típicamente en tiempo de interrupción)."

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:143
msgid ""
"`chn_intr()` arranges to copy new data to the area that was transferred to "
"the device (now free), and make appropriate updates to the `snd_dbuf` "
"structure."
msgstr ""
"`chn_intr()` se encarga de copiar los nuevos datos al área que fue "
"transferida al dispositivo (ahora libre), y realiza las actualizaciones "
"oportunas en la estructura `snd_dbuf`."

#. type: Title ====
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:145
#, no-wrap
msgid "channel_init"
msgstr "channel_init"

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:148
msgid ""
"`xxxchannel_init()` is called to initialize each of the play or record "
"channels. The calls are initiated from the sound driver attach routine. (See "
"the <<pcm-probe-and-attach,probe and attach section>>)."
msgstr ""
"Se llama a `xxxchannel_init()` para inicializar cada uno de los canales de "
"reproducción o grabación. Las llamadas se inician desde la rutina attach del "
"controlador de sonido. (Ver la sección <<pcm-probe-and-attach,probe and "
"attach>>)."

#. type: delimited block . 4
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:160
#, no-wrap
msgid ""
"          static void *\n"
"          xxxchannel_init(kobj_t obj, void *data,\n"
"             struct snd_dbuf *b, struct pcm_channel *c, int dir) <.>\n"
"          {\n"
"              struct xxx_info *sc = data;\n"
"              struct xxx_chinfo *ch;\n"
"               ...\n"
"              return ch; <.>\n"
"           }\n"
msgstr ""
"          static void *\n"
"          xxxchannel_init(kobj_t obj, void *data,\n"
"             struct snd_dbuf *b, struct pcm_channel *c, int dir) <.>\n"
"          {\n"
"              struct xxx_info *sc = data;\n"
"              struct xxx_chinfo *ch;\n"
"               ...\n"
"              return ch; <.>\n"
"           }\n"

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:163
msgid ""
"`b` is the address for the channel `struct snd_dbuf`. It should be "
"initialized in the function by calling `sndbuf_alloc()`. The buffer size to "
"use is normally a small multiple of the 'typical' unit transfer size for "
"your device.`c` is the [.filename]#pcm# channel control structure pointer. "
"This is an opaque object. The function should store it in the local channel "
"structure, to be used in later calls to [.filename]#pcm# (ie: `chn_intr(c)`)."
"`dir` indicates the channel direction (`PCMDIR_PLAY` or `PCMDIR_REC`)."
msgstr ""
"`b` es la dirección del canal `struct snd_dbuf`. Debe inicializarse en la "
"función llamando a `sndbuf_alloc()`. El tamaño del buffer a utilizar es "
"normalmente un pequeño múltiplo del tamaño de transferencia de la unidad "
"'típica' para su dispositivo.`c` es el puntero de la estructura de control "
"del canal [.filename]#pcm#. Se trata de un objeto opaco. La función debe "
"almacenarlo en la estructura local del canal, para usarlo en llamadas "
"posteriores a [.filename]#pcm# (es decir: `chn_intr(c)`).`dir` indica la "
"dirección del canal (`PCMDIR_PLAY` o `PCMDIR_REC`)."

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:165
msgid ""
"The function should return a pointer to the private area used to control "
"this channel. This will be passed as a parameter to other channel interface "
"calls."
msgstr ""
"La función debe devolver un puntero al área privada utilizada para controlar "
"este canal. Este se pasará como parámetro a otras llamadas a la interfaz del "
"canal."

#. type: Title ====
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:166
#, no-wrap
msgid "channel_setformat"
msgstr "channel_setformat"

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:169
msgid ""
"`xxxchannel_setformat()` should set up the hardware for the specified "
"channel for the specified sound format."
msgstr ""
"`xxxchannel_setformat()` debe configurar el hardware del canal especificado "
"para el formato de sonido especificado."

#. type: delimited block . 4
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:179
#, no-wrap
msgid ""
"          static int\n"
"          xxxchannel_setformat(kobj_t obj, void *data, u_int32_t format) <.>\n"
"          {\n"
"              struct xxx_chinfo *ch = data;\n"
"               ...\n"
"              return 0;\n"
"           }\n"
msgstr ""
"          static int\n"
"          xxxchannel_setformat(kobj_t obj, void *data, u_int32_t format) <.>"
"\n"
"          {\n"
"              struct xxx_chinfo *ch = data;\n"
"               ...\n"
"              return 0;\n"
"           }\n"

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:182
msgid ""
"`format` is specified as an `AFMT_XXX value` ([.filename]#soundcard.h#)."
msgstr ""
"`format` se especifica como un `AFMT_XXX value` ([.filename]#soundcard.h#)."

#. type: Title ====
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:183
#, no-wrap
msgid "channel_setspeed"
msgstr "channel_setspeed"

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:186
msgid ""
"`xxxchannel_setspeed()` sets up the channel hardware for the specified "
"sampling speed, and returns the possibly adjusted speed."
msgstr ""
"`xxxchannel_setspeed()` configura el hardware del canal para la velocidad de "
"muestreo especificada, y devuelve la velocidad posiblemente ajustada."

#. type: delimited block . 4
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:196
#, no-wrap
msgid ""
"          static int\n"
"          xxxchannel_setspeed(kobj_t obj, void *data, u_int32_t speed)\n"
"          {\n"
"              struct xxx_chinfo *ch = data;\n"
"               ...\n"
"              return speed;\n"
"           }\n"
msgstr ""
"          static int\n"
"          xxxchannel_setspeed(kobj_t obj, void *data, u_int32_t speed)\n"
"          {\n"
"              struct xxx_chinfo *ch = data;\n"
"               ...\n"
"              return speed;\n"
"           }\n"

#. type: Title ====
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:198
#, no-wrap
msgid "channel_setblocksize"
msgstr "channel_setblocksize"

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:201
msgid ""
"`xxxchannel_setblocksize()` sets the block size, which is the size of unit "
"transactions between [.filename]#pcm# and the sound driver, and between the "
"sound driver and the device. Typically, this would be the number of bytes "
"transferred before an interrupt occurs. During a transfer, the sound driver "
"should call [.filename]#pcm#'s `chn_intr()` every time this size has been "
"transferred."
msgstr ""
"`xxxchannel_setblocksize()` establece el tamaño del bloque, que es el tamaño "
"de las transacciones unitarias entre [.filename]#pcm# y el controlador de "
"sonido, y entre el controlador de sonido y el dispositivo. Típicamente, este "
"sería el número de bytes transferidos antes de que ocurra una interrupción. "
"Durante una transferencia, el controlador de sonido debe llamar a "
"`chn_intr()` de [.filename]#pcm# cada vez que este tamaño haya sido "
"transferido."

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:203
msgid ""
"Most sound drivers only take note of the block size here, to be used when an "
"actual transfer will be started."
msgstr ""
"La mayoría de los controladores de sonido sólo toman nota del tamaño del "
"bloque aquí, que se utilizará cuando se inicie una transferencia real."

#. type: delimited block . 4
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:213
#, no-wrap
msgid ""
"          static int\n"
"          xxxchannel_setblocksize(kobj_t obj, void *data, u_int32_t blocksize)\n"
"          {\n"
"              struct xxx_chinfo *ch = data;\n"
"                ...\n"
"              return blocksize; <.>\n"
"           }\n"
msgstr ""
"          static int\n"
"          xxxchannel_setblocksize(kobj_t obj, void *data, u_int32_t "
"blocksize)\n"
"          {\n"
"              struct xxx_chinfo *ch = data;\n"
"                ...\n"
"              return blocksize; <.>\n"
"           }\n"

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:216
msgid ""
"The function returns the possibly adjusted block size. In case the block "
"size is indeed changed, `sndbuf_resize()` should be called to adjust the "
"buffer."
msgstr ""
"La función devuelve el tamaño de bloque posiblemente ajustado. En caso de "
"que el tamaño del bloque haya cambiado, se debe llamar a `sndbuf_resize()` "
"para ajustar el búfer."

#. type: Title ====
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:218
#, no-wrap
msgid "channel_trigger"
msgstr "channel_trigger"

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:221
msgid ""
"`xxxchannel_trigger()` is called by [.filename]#pcm# to control data "
"transfer operations in the driver."
msgstr ""
"`xxxchannel_trigger()` es llamada por [.filename]#pcm# para controlar las "
"operaciones de transferencia de datos en el controlador."

#. type: delimited block . 4
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:231
#, no-wrap
msgid ""
"          static int\n"
"          xxxchannel_trigger(kobj_t obj, void *data, int go) <.>\n"
"          {\n"
"              struct xxx_chinfo *ch = data;\n"
"               ...\n"
"              return 0;\n"
"           }\n"
msgstr ""
"          static int\n"
"          xxxchannel_trigger(kobj_t obj, void *data, int go) <.>\n"
"          {\n"
"              struct xxx_chinfo *ch = data;\n"
"               ...\n"
"              return 0;\n"
"           }\n"

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:234
msgid "`go` defines the action for the current call. The possible values are:"
msgstr "`go` define la acción para la llamada actual. Los valores posibles son:"

#. type: delimited block = 4
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:238
msgid ""
"If the driver uses ISA DMA, `sndbuf_isadma()` should be called before "
"performing actions on the device, and will take care of the DMA chip side of "
"things."
msgstr ""
"Si el controlador utiliza ISA DMA, se debe llamar a `sndbuf_isadma()` antes "
"de realizar acciones en el dispositivo, y se encargará de la parte del chip "
"DMA."

#. type: Title ====
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:240
#, no-wrap
msgid "channel_getptr"
msgstr "channel_getptr"

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:243
msgid ""
"`xxxchannel_getptr()` returns the current offset in the transfer buffer. "
"This will typically be called by `chn_intr()`, and this is how [."
"filename]#pcm# knows where it can transfer new data."
msgstr ""
"`xxxchannel_getptr()` devuelve el desplazamiento actual en el buffer de "
"transferencia. Típicamente será llamada por `chn_intr()`, y así es como [."
"filename]#pcm# sabe dónde puede transferir nuevos datos."

#. type: Title ====
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:244
#, no-wrap
msgid "channel_free"
msgstr "channel_free"

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:247
msgid ""
"`xxxchannel_free()` is called to free up channel resources, for example when "
"the driver is unloaded, and should be implemented if the channel data "
"structures are dynamically allocated or if `sndbuf_alloc()` was not used for "
"buffer allocation."
msgstr ""
"`xxxchannel_free()` es llamada para liberar recursos del canal, por ejemplo "
"cuando el driver es descargado, y debería ser implementada si las "
"estructuras de datos del canal son asignadas dinámicamente o si "
"`sndbuf_alloc()` no fue usada para la asignación de buffers."

#. type: Title ====
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:248
#, no-wrap
msgid "channel_getcaps"
msgstr "channel_getcaps"

#. type: delimited block . 4
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:257
#, no-wrap
msgid ""
"          struct pcmchan_caps *\n"
"          xxxchannel_getcaps(kobj_t obj, void *data)\n"
"          {\n"
"              return &xxx_caps; <.>\n"
"           }\n"
msgstr ""
"          struct pcmchan_caps *\n"
"          xxxchannel_getcaps(kobj_t obj, void *data)\n"
"          {\n"
"              return &xxx_caps; <.>\n"
"           }\n"

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:260
msgid ""
"The routine returns a pointer to a (usually statically-defined) "
"`pcmchan_caps` structure (defined in [.filename]#sound/pcm/channel.h#. The "
"structure holds the minimum and maximum sampling frequencies, and the "
"accepted sound formats. Look at any sound driver for an example."
msgstr ""
"La rutina devuelve un puntero a una estructura (normalmente definida "
"estáticamente) `pcmchan_caps` (definida en [..filename]#sound/pcm/channel.h#"
". La estructura contiene las frecuencias de muestreo mínima y máxima, y los "
"formatos de sonido aceptados. Mira cualquier controlador de sonido para ver "
"un ejemplo."

#. type: Title ====
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:261
#, no-wrap
msgid "More Functions"
msgstr "Más funciones"

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:264
msgid ""
"`channel_reset()`, `channel_resetdone()`, and `channel_notify()` are for "
"special purposes and should not be implemented in a driver without "
"discussing it on the {freebsd-multimedia}."
msgstr ""
"`channel_reset()`, `channel_resetdone()`, y `channel_notify()` son para "
"propósitos especiales y no deberían ser implementados en un controlador sin "
"discutirlo en el {freebsd-multimedia}."

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:266
msgid "`channel_setdir()` is deprecated."
msgstr "La función `channel_setdir()` está obsoleta."

#. type: Title ===
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:267
#, no-wrap
msgid "The MIXER Interface"
msgstr "La interfaz MIXER"

#. type: Title ====
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:270
#, no-wrap
msgid "mixer_init"
msgstr "mixer_init"

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:273
msgid ""
"`xxxmixer_init()` initializes the hardware and tells [.filename]#pcm# what "
"mixer devices are available for playing and recording"
msgstr ""
"`xxxmixer_init()` inicializa el hardware e indica a [.filename]#pcm# qué "
"dispositivos de mezcla están disponibles para reproducir y grabar"

#. type: delimited block . 4
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:281
#, no-wrap
msgid ""
"          static int\n"
"          xxxmixer_init(struct snd_mixer *m)\n"
"          {\n"
"              struct xxx_info   *sc = mix_getdevinfo(m);\n"
"              u_int32_t v;\n"
msgstr ""
"          static int\n"
"          xxxmixer_init(struct snd_mixer *m)\n"
"          {\n"
"              struct xxx_info   *sc = mix_getdevinfo(m);\n"
"              u_int32_t v;\n"

#. type: delimited block . 4
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:283
#, no-wrap
msgid "              [Initialize hardware]\n"
msgstr "              [Initialize hardware]\n"

#. type: delimited block . 4
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:288
#, no-wrap
msgid ""
"              [Set appropriate bits in v for play mixers] <.>\n"
"              mix_setdevs(m, v);\n"
"              [Set appropriate bits in v for record mixers]\n"
"              mix_setrecdevs(m, v)\n"
msgstr ""
"              [Set appropriate bits in v for play mixers] <.>\n"
"              mix_setdevs(m, v);\n"
"              [Set appropriate bits in v for record mixers]\n"
"              mix_setrecdevs(m, v)\n"

#. type: delimited block . 4
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:291
#, no-wrap
msgid ""
"              return 0;\n"
"          }\n"
msgstr ""
"              return 0;\n"
"          }\n"

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:294
msgid ""
"Set bits in an integer value and call `mix_setdevs()` and `mix_setrecdevs()` "
"to tell [.filename]#pcm# what devices exist."
msgstr ""
"Establece bits en un valor entero y llama a `mix_setdevs()` y "
"`mix_setrecdevs()` para decirle a [.filename]#pcm# qué dispositivos existen."

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:296
msgid ""
"Mixer bits definitions can be found in [.filename]#soundcard.h# "
"(`SOUND_MASK_XXX` values and `SOUND_MIXER_XXX` bit shifts)."
msgstr ""
"Las definiciones de los bits del mezclador se encuentran en [."
"filename]#soundcard.h# (valores `SOUND_MASK_XXX` y desplazamientos de bits "
"`SOUND_MIXER_XXX`)."

#. type: Title ====
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:297
#, no-wrap
msgid "mixer_set"
msgstr "mixer_set"

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:300
msgid "`xxxmixer_set()` sets the volume level for one mixer device."
msgstr ""
"`xxxmixer_set()` establece el nivel de volumen de un dispositivo mezclador."

#. type: delimited block . 4
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:311
#, no-wrap
msgid ""
"          static int\n"
"          xxxmixer_set(struct snd_mixer *m, unsigned dev,\n"
"                           unsigned left, unsigned right) <.>\n"
"          {\n"
"              struct sc_info *sc = mix_getdevinfo(m);\n"
"              [set volume level]\n"
"              return left | (right << 8); <.>\n"
"          }\n"
msgstr ""
"          static int\n"
"          xxxmixer_set(struct snd_mixer *m, unsigned dev,\n"
"                           unsigned left, unsigned right) <.>\n"
"          {\n"
"              struct sc_info *sc = mix_getdevinfo(m);\n"
"              [set volume level]\n"
"              return left | (right << 8); <.>\n"
"          }\n"

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:314
msgid ""
"The device is specified as a `SOUND_MIXER_XXX` value. The volume values are "
"specified in range [0-100]. A value of zero should mute the device."
msgstr ""
"El dispositivo se especifica como un valor `SOUND_MIXER_XXX`. Los valores de "
"volumen se especifican en el rango [0-100]. Un valor de cero debe silenciar "
"el dispositivo."

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:315
msgid ""
"As the hardware levels probably will not match the input scale, and some "
"rounding will occur, the routine returns the actual level values (in range "
"0-100) as shown."
msgstr ""
"Como los niveles de hardware probablemente no coincidirán con la escala de "
"entrada, y se producirá algún redondeo, la rutina devuelve los valores de "
"nivel reales (en el rango 0-100) como se muestra."

#. type: Title ====
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:316
#, no-wrap
msgid "mixer_setrecsrc"
msgstr "mixer_setrecsrc"

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:319
msgid "`xxxmixer_setrecsrc()` sets the recording source device."
msgstr "`xxxmixer_setrecsrc()` establece el dispositivo fuente de grabación."

#. type: delimited block . 4
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:326
#, no-wrap
msgid ""
"          static int\n"
"          xxxmixer_setrecsrc(struct snd_mixer *m, u_int32_t src) <.>\n"
"          {\n"
"              struct xxx_info *sc = mix_getdevinfo(m);\n"
msgstr ""
"          static int\n"
"          xxxmixer_setrecsrc(struct snd_mixer *m, u_int32_t src) <.>\n"
"          {\n"
"              struct xxx_info *sc = mix_getdevinfo(m);\n"

#. type: delimited block . 4
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:328
#, no-wrap
msgid "              [look for non zero bit(s) in src, set up hardware]\n"
msgstr "              [look for non zero bit(s) in src, set up hardware]\n"

#. type: delimited block . 4
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:332
#, no-wrap
msgid ""
"              [update src to reflect actual action]\n"
"              return src; <.>\n"
"           }\n"
msgstr ""
"              [update src to reflect actual action]\n"
"              return src; <.>\n"
"           }\n"

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:335
msgid "The desired recording devices are specified as a bit field"
msgstr ""
"Los dispositivos de grabación deseados se especifican como un campo de bits"

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:336
msgid ""
"The actual devices set for recording are returned. Some drivers can only set "
"one device for recording. The function should return -1 if an error occurs."
msgstr ""
"Se devuelven los dispositivos reales configurados para la grabación. Algunos "
"controladores sólo pueden establecer un dispositivo para la grabación. La "
"función debe devolver -1 si se produce un error."

#. type: Title ====
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:337
#, no-wrap
msgid "mixer_uninit, mixer_reinit"
msgstr "mixer_uninit, mixer_reinit"

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:340
msgid ""
"`xxxmixer_uninit()` should ensure that all sound is muted and if possible "
"mixer hardware should be powered down."
msgstr ""
"`xxxmixer_uninit()` debe asegurar que todo el sonido está silenciado y si es "
"posible el hardware del mezclador debe ser apagado."

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:342
msgid ""
"`xxxmixer_reinit()` should ensure that the mixer hardware is powered up and "
"any settings not controlled by `mixer_set()` or `mixer_setrecsrc()` are "
"restored."
msgstr ""
"La función `xxxmixer_reinit()` debe asegurar que el hardware del mezclador "
"se enciende y que se restaura cualquier configuración no controlada por "
"`mixer_set()` o `mixer_setrecsrc()`."

#. type: Title ===
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:343
#, no-wrap
msgid "The AC97 Interface"
msgstr "La interfaz AC97"

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:346
msgid ""
"The _AC97_ interface is implemented by drivers with an AC97 codec. It only "
"has three methods:"
msgstr ""
"La interfaz _AC97_ la implementan los controladores con un códec AC97. Sólo "
"tiene tres métodos:"

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:348
msgid "`xxxac97_init()` returns the number of ac97 codecs found."
msgstr "`xxxac97_init()` devuelve el número de codecs ac97 encontrados."

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:349
msgid "`ac97_read()` and `ac97_write()` read or write a specified register."
msgstr "ac97_read()` y `ac97_write()` leen o escriben un registro especificado."

#. type: Plain text
#: documentation/content/en/books/arch-handbook/sound/_index.adoc:350
msgid ""
"The _AC97_ interface is used by the AC97 code in [.filename]#pcm# to perform "
"higher level operations. Look at [.filename]#sound/pci/maestro3.c# or many "
"others under [.filename]#sound/pci/# for an example."
msgstr ""
"La interfaz _AC97_ es utilizada por el código AC97 en [.filename]#pcm# para "
"realizar operaciones de nivel superior. Mira [.filename]#sound/pci/maestro3."
"c# o muchos otros bajo [.filename]#sound/pci/# para un ejemplo."

#~ msgid ""
#~ "include::shared/attributes/attributes-{{% lang %}}.adoc[] include::shared/"
#~ "{{% lang %}}/teams.adoc[] include::shared/{{% lang %}}/mailing-lists."
#~ "adoc[] include::shared/{{% lang %}}/urls.adoc[]"
#~ msgstr ""
#~ "include::shared/attributes/attributes-{{% lang %}}.adoc[]\n"
#~ "include::shared/{{% lang %}}/teams.adoc[]\n"
#~ "include::shared/{{% lang %}}/mailing-lists.adoc[]\n"
#~ "include::shared/{{% lang %}}/urls.adoc[]"
